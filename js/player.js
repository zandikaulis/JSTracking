! function(e, t) {
    "object" == typeof exports && "object" == typeof module ? module.exports = t() : "function" == typeof define && define.amd ? define([], t) : "object" == typeof exports ? exports.video = t() : (e.Twitch = e.Twitch || {}, e.Twitch.video = t())
}(this, function() {
    return webpackJsonpTwitch_video([0], [function(e, t, n) {
        "use strict";

        function r(e) {
            if (e && e.__esModule) return e;
            var t = {};
            if (null != e)
                for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
            return t.default = e, t
        }

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function a(e, t) {
            function n() {
                var n = void 0;
                n = "string" == typeof e || e instanceof String ? document.getElementById(e) : e, $ = (0, K.init)(), $.dispatch((0, oe.setWindow)(window));
                var o = a(t);
                (0, pe.setOAuthToken)(o), o.debug && o.verbose && $.subscribe(function() {
                    console.debug("state change: %o", $.getState())
                }), $.dispatch(te.loadExperiments({
                    login: k.cookie.get("login") || null,
                    deviceID: N.get(!1),
                    userAgent: $.getState().window.navigator.userAgent
                })), $.dispatch(re.loadDefaultLang(o.lang)), $.dispatch((0, ae.setEnvironment)({
                    deviceId: N.get(!1)
                })), $.dispatch((0, ae.setPlayerType)(o.player)), Ve.push(new G.PubSub($, o)), Ve.push(new Oe.PostRecommendationsManager($)), Ve.push(new we.OfflineRecommendationsManager($)), Ve.push(new ke.UserManager($)), Ve.push(new E.AutoSuggestNotificationManager($)), A = new v.AnalyticsTracker($, o), $.dispatch((0, ce.setAnalyticsTracker)(A)), $.dispatch((0, ie.initializeQuality)()), r(), O = o.allowfullscreen ? new q.FullScreen(n, $) : new Y.NoFullScreen(n, $), Ne = new Pe.TimelineMetadataManager($), xe = new be.CollectionManager($), X = new D.Video(n, $, o), Fe = new Re.ExtensionsApi($), $.dispatch((0, Le.extensionsApiLoaded)(Fe)), L = new R.State(X, $, A, o), o.debug && (window.state = L), Ue = new Te.PlayerResizeManager($), Ue.observe(n), Be = new Se.FollowManager($), o.player === Ce.PLAYER_TWITCH_EVERYWHERE && (Ve.push(new Ae.TwitchEverywhereManager($)), o.targetOrigin || console.error("Missing targetOrigin option"), $.dispatch((0, ae.setTwitchEverywhereParams)({
                    targetOrigin: o.targetOrigin
                }))), (0, j.forwardProperties)(b, X), ee = new m.Analytics(X, A, L, $, o), l(o), ne = new x.EmbedHost(X, L, $), new U.PlayerHotkeys(X, n, $, o), $.dispatch((0, ue.setAutoplay)(o.autoplay)), o.controls && (de = new _e.ClipGenerator(L, $), $.dispatch((0, he.clipGeneratorLoaded)(de)), I = new B.PlayerUI(X, n, A, L, $, de, o)), i(o).then(function() {
                    $.dispatch((0, z.setPlayerOptions)(o))
                }), $.dispatch((0, le.initVodResume)()), X.addEventListener(fe.LOADED_METADATA, function() {
                    $.dispatch((0, se.setCanFullScreen)(O.canFullScreen()))
                })
            }

            function r() {
                var e = $.getState(),
                    t = e.window,
                    n = $.getState(),
                    r = n.analyticsTracker;
                t.google ? t.google && $.dispatch((0, Q.imaScriptLoaded)(!0)) : je.then(function() {
                    $.dispatch((0, Q.imaScriptLoaded)(!0))
                }).catch(function() {
                    $.dispatch((0, Q.imaScriptLoaded)(!1)), r.trackEvent(h.VIDEO_AD_REQUEST_ERROR, {
                        reason: "ima load failed"
                    })
                })
            }

            function i(e) {
                return e.stream && e.channelId ? y(e.stream, e.channelId) : e.channel ? b.setChannel(e.channel) : e.video ? b.setVideo(e.video) : f()
            }

            function a() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                    t = (0, d.default)(e) ? T.parse(e) : e;
                return _(t), (0, S.isTwitchEmbed)() || t.player !== w.PLAYER_CURSE && (t = (0, p.default)(t, C.embedParameters)), t.backend = o(t), t.allowfullscreen = t.allowfullscreen !== !1 && t.player !== w.PLAYER_HIGHLIGHTER, t = (0, s.default)(t, {
                    time: t.t
                }), (0, u.default)(["mse", "mseDev"], P.localStore.get("backend")) && P.localStore.set("backend", F.BACKEND_PLAYER_CORE), t = (0, s.default)(t, {
                    volume: P.localStore.get("volume"),
                    muted: P.localStore.get("muted"),
                    backend: P.localStore.get("backend"),
                    player: w.getPlayerType()
                }), t = (0, s.default)(t, {
                    volume: .5,
                    muted: !1,
                    controls: !0,
                    autoplay: !0,
                    playsinline: !1,
                    quality: "medium",
                    time: null,
                    leaveDialogEnabled: C.leaveDialog.enabled,
                    leaveDialogViewerThreshold: C.leaveDialog.viewerThreshold,
                    refreshWarningEnabled: C.leaveDialog.enabled,
                    lang: C.defaultLanguage,
                    showtheatre: !1,
                    abs: !1,
                    tt_content: "",
                    tt_medium: ""
                }), $.getState().env.platform === W.PLATFORM_MOBILE_WEB && (t.autoplay = !1), t.tracking = (0, s.default)({}, t.tracking, {
                    player: t.player
                }), t
            }

            function o(e) {
                if (e.flash) return H.BACKEND_FLASH;
                if (e.hls) return V.BACKEND_HLS;
                var t = F.BackendPlayerCore.canPlay(),
                    n = V.BackendHls.canPlay();
                return e.html5 && t ? F.BACKEND_PLAYER_CORE : e.html5 && n ? V.BACKEND_HLS : void 0
            }

            function l(e) {
                if (X.setVolume(e.volume), X.setMuted(e.muted), e.time) {
                    var t = M.parse(e.time);
                    X.readyState > X.HAVE_NOTHING ? X.setCurrentTime(t) : X.addEventListener(fe.LOADED_METADATA, function() {
                        X.setCurrentTime(t)
                    })
                }
                e.debug && C.allEvents.forEach(function(e) {
                    (0, u.default)(C.debugIgnoreEvents, e) || X.addEventListener(e, function() {
                        console.log("video event: ", e)
                    })
                }), X.addEventListener(fe.ERROR, function() {
                    console.error("video error:", X.getError())
                })
            }

            function c() {
                return window.Twitch.sentinel ? Promise.resolve(window.Twitch.sentinel.detect) : g.getSentinel()
            }

            function f() {
                return c().then(function(e) {
                    return $.dispatch((0, Q.setAdblockDetected)(e))
                }, function() {
                    return $.dispatch((0, Q.setAdblockDetected)(!0))
                })
            }

            function _(e) {
                var t = (0, Ie.parseUri)($.getState().window.location.href);
                t.queryKey.hasOwnProperty("force_preroll") && (e.usher_force_preroll = !0, e.force_preroll = t.queryKey.force_preroll), t.queryKey.hasOwnProperty("force_midroll") && (e.usher_force_midroll = !0, e.force_midroll = t.queryKey.force_midroll), t.queryKey.hasOwnProperty("force_preroll_id") && (e.force_preroll_id = t.queryKey.force_preroll_id), t.queryKey.hasOwnProperty("force_midroll_id") && (e.force_midroll_id = t.queryKey.force_midroll_id)
            }

            function y(e, t) {
                var n = function(e) {
                    var n = $.getState(),
                        r = n.user;
                    $.dispatch(J.clearStream()), $.dispatch((0, De.fetchDeadLtvStreamMetadata)(e)), $.dispatch((0, Me.fetchFollowInfo)(r.id, t)), $.dispatch((0, Me.showFollowNotification)(!0))
                };
                return (0, pe.krakenRequestv5)("content?stream_id=" + e + "&channel_id=" + t).then(function(e) {
                    if (e.stream) return void b.setChannel(e.channel.name);
                    if (e.videos.length > 0) {
                        var t = e.videos.find(function(e) {
                            return "archive" === e.broadcast_type
                        });
                        if (t) return void b.setVideo(t._id)
                    }
                    n(e.channel.name)
                }).catch(function() {
                    return (0, pe.krakenRequestv5)("channels/" + t).then(function(e) {
                        n(e.name)
                    })
                })
            }
            var b = this,
                A = void 0,
                O = void 0,
                I = void 0,
                L = void 0,
                $ = void 0,
                X = void 0,
                ee = void 0,
                ne = void 0,
                de = void 0,
                Ne = void 0,
                xe = void 0,
                Ue = void 0,
                Be = void 0,
                Fe = void 0,
                Ve = [];
            b.setChannel = function(e) {
                return f().then(function() {
                    $.dispatch(J.setStream(J.TYPE_CHANNEL, e)), $.dispatch((0, Z.clearCollection)())
                })
            }, b.setVideo = function(e) {
                return f().then(function() {
                    $.dispatch(J.setStream(J.TYPE_VIDEO, e)), $.dispatch((0, Z.clearCollection)())
                })
            }, b.setCollection = function(e) {
                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "";
                return $.dispatch((0, Z.requestCollection)(e, t))
            }, b.setLanguage = function(e) {
                $.dispatch(re.loadLanguage(e))
            }, b.setMiniPlayerMode = function(e) {
                $.dispatch((0, ge.setMiniPlayerMode)(e))
            }, b.recordClip = function() {
                de && de.recordClip()
            }, b.isPlaying = function() {
                var e = $.getState(),
                    t = e.stream,
                    n = e.onlineStatus,
                    r = t.contentType === ve.CONTENT_MODE_VOD,
                    i = n === Ee.ONLINE_STATUS;
                return !X.getPaused() && !X.getEnded() && (i || r) && X.getReadyState() > me.HAVE_CURRENT_DATA
            }, b.setTrackingProperties = function(e) {
                $.dispatch((0, ye.setTrackingProperties)(e))
            }, n(), b.destroy = function() {
                I.destroy(), X.destroy(), L.destroy(), ee.destroy(), ne.destroy(), Ve.forEach(function(e) {
                    return e.destroy()
                }), Ne.destroy(), xe.destroy(), Ue.destroy(), Be.destroy(), Fe.destroy()
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.Player = a;
        var o = n(1),
            s = i(o),
            l = n(53),
            u = i(l),
            c = n(58),
            d = i(c),
            f = n(70),
            p = i(f),
            _ = n(114),
            h = n(115),
            m = n(116),
            v = n(266),
            y = n(273),
            g = r(y),
            E = n(274),
            b = n(247),
            T = r(b),
            S = n(218),
            A = n(168),
            C = r(A),
            P = n(250),
            O = n(217),
            w = r(O),
            k = n(249),
            I = n(248),
            N = r(I),
            R = n(186),
            L = n(317),
            M = r(L),
            D = n(318),
            j = n(404),
            x = n(405),
            U = n(412),
            B = n(414),
            F = n(339),
            V = n(346),
            H = n(319),
            G = n(713),
            q = n(180),
            Y = n(731),
            K = n(732),
            W = n(366),
            z = n(761),
            Q = n(243),
            X = n(334),
            J = r(X),
            Z = n(333),
            ee = n(747),
            te = r(ee),
            ne = n(750),
            re = r(ne),
            ie = n(331),
            ae = n(367),
            oe = n(368),
            se = n(182),
            le = n(429),
            ue = n(332),
            ce = n(374),
            de = n(179),
            fe = r(de),
            pe = n(200),
            _e = n(789),
            he = n(742),
            me = n(329),
            ve = n(220),
            ye = n(776),
            ge = n(432),
            Ee = n(403),
            be = n(790),
            Te = n(791),
            Se = n(794),
            Ae = n(795),
            Ce = n(217),
            Pe = n(604),
            Oe = n(796),
            we = n(797),
            ke = n(798),
            Ie = n(176),
            Ne = n(178),
            Re = n(799),
            Le = n(335),
            Me = n(644),
            De = n(336);
        n(341).polyfill(), _.Dobbin.configure({
            Promise: Promise
        }), n.p = C.playerHost + "/", n(800);
        var je = Promise.reject();
        window.google || (je = Promise.resolve($.ajax({
            url: "//imasdk.googleapis.com/js/sdkloader/ima3.js",
            dataType: "script",
            timeout: 2e3,
            cache: !0
        }))), window.Twitch = window.Twitch || {}, window.Twitch.video = window.Twitch.video || {}, window.Twitch.video.Player = a, window.Twitch.Player = a, window.Twitch.Player.PROMPT_LOGIN = Ne.PROMPT_LOGIN_MODAL
    }, function(e, t, n) {
        var r = n(2),
            i = n(3),
            a = n(24),
            o = n(52),
            s = a(function(e) {
                return e.push(void 0, o), r(i, void 0, e)
            });
        e.exports = s
    }, function(e, t) {
        function n(e, t, n) {
            switch (n.length) {
                case 0:
                    return e.call(t);
                case 1:
                    return e.call(t, n[0]);
                case 2:
                    return e.call(t, n[0], n[1]);
                case 3:
                    return e.call(t, n[0], n[1], n[2])
            }
            return e.apply(t, n)
        }
        e.exports = n
    }, function(e, t, n) {
        var r = n(4),
            i = n(23),
            a = n(35),
            o = i(function(e, t, n, i) {
                r(t, a(t), e, i)
            });
        e.exports = o
    }, function(e, t, n) {
        function r(e, t, n, r) {
            var o = !n;
            n || (n = {});
            for (var s = -1, l = t.length; ++s < l;) {
                var u = t[s],
                    c = r ? r(n[u], e[u], u, n, e) : void 0;
                void 0 === c && (c = e[u]), o ? a(n, u, c) : i(n, u, c)
            }
            return n
        }
        var i = n(5),
            a = n(6);
        e.exports = r
    }, function(e, t, n) {
        function r(e, t, n) {
            var r = e[t];
            s.call(e, t) && a(r, n) && (void 0 !== n || t in e) || i(e, t, n)
        }
        var i = n(6),
            a = n(22),
            o = Object.prototype,
            s = o.hasOwnProperty;
        e.exports = r
    }, function(e, t, n) {
        function r(e, t, n) {
            "__proto__" == t && i ? i(e, t, {
                configurable: !0,
                enumerable: !0,
                value: n,
                writable: !0
            }) : e[t] = n
        }
        var i = n(7);
        e.exports = r
    }, function(e, t, n) {
        var r = n(8),
            i = function() {
                try {
                    var e = r(Object, "defineProperty");
                    return e({}, "", {}), e
                } catch (e) {}
            }();
        e.exports = i
    }, function(e, t, n) {
        function r(e, t) {
            var n = a(e, t);
            return i(n) ? n : void 0
        }
        var i = n(9),
            a = n(21);
        e.exports = r
    }, function(e, t, n) {
        function r(e) {
            if (!o(e) || a(e)) return !1;
            var t = i(e) ? _ : u;
            return t.test(s(e))
        }
        var i = n(10),
            a = n(18),
            o = n(17),
            s = n(20),
            l = /[\\^$.*+?()[\]{}|]/g,
            u = /^\[object .+?Constructor\]$/,
            c = Function.prototype,
            d = Object.prototype,
            f = c.toString,
            p = d.hasOwnProperty,
            _ = RegExp("^" + f.call(p).replace(l, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$");
        e.exports = r
    }, function(e, t, n) {
        function r(e) {
            if (!a(e)) return !1;
            var t = i(e);
            return t == s || t == l || t == o || t == u
        }
        var i = n(11),
            a = n(17),
            o = "[object AsyncFunction]",
            s = "[object Function]",
            l = "[object GeneratorFunction]",
            u = "[object Proxy]";
        e.exports = r
    }, , , , , , , function(e, t) {
        function n(e) {
            var t = typeof e;
            return null != e && ("object" == t || "function" == t)
        }
        e.exports = n
    }, function(e, t, n) {
        function r(e) {
            return !!a && a in e
        }
        var i = n(19),
            a = function() {
                var e = /[^.]+$/.exec(i && i.keys && i.keys.IE_PROTO || "");
                return e ? "Symbol(src)_1." + e : ""
            }();
        e.exports = r
    }, function(e, t, n) {
        var r = n(13),
            i = r["__core-js_shared__"];
        e.exports = i
    }, function(e, t) {
        function n(e) {
            if (null != e) {
                try {
                    return i.call(e)
                } catch (e) {}
                try {
                    return e + ""
                } catch (e) {}
            }
            return ""
        }
        var r = Function.prototype,
            i = r.toString;
        e.exports = n
    }, function(e, t) {
        function n(e, t) {
            return null == e ? void 0 : e[t]
        }
        e.exports = n
    }, function(e, t) {
        function n(e, t) {
            return e === t || e !== e && t !== t
        }
        e.exports = n
    }, function(e, t, n) {
        function r(e) {
            return i(function(t, n) {
                var r = -1,
                    i = n.length,
                    o = i > 1 ? n[i - 1] : void 0,
                    s = i > 2 ? n[2] : void 0;
                for (o = e.length > 3 && "function" == typeof o ? (i--, o) : void 0, s && a(n[0], n[1], s) && (o = i < 3 ? void 0 : o, i = 1), t = Object(t); ++r < i;) {
                    var l = n[r];
                    l && e(t, l, r, o)
                }
                return t
            })
        }
        var i = n(24),
            a = n(31);
        e.exports = r
    }, function(e, t, n) {
        function r(e, t) {
            return o(a(e, t, i), e + "")
        }
        var i = n(25),
            a = n(26),
            o = n(27);
        e.exports = r
    }, function(e, t) {
        function n(e) {
            return e
        }
        e.exports = n
    }, function(e, t, n) {
        function r(e, t, n) {
            return t = a(void 0 === t ? e.length - 1 : t, 0),
                function() {
                    for (var r = arguments, o = -1, s = a(r.length - t, 0), l = Array(s); ++o < s;) l[o] = r[t + o];
                    o = -1;
                    for (var u = Array(t + 1); ++o < t;) u[o] = r[o];
                    return u[t] = n(l), i(e, this, u)
                }
        }
        var i = n(2),
            a = Math.max;
        e.exports = r
    }, function(e, t, n) {
        var r = n(28),
            i = n(30),
            a = i(r);
        e.exports = a
    }, function(e, t, n) {
        var r = n(29),
            i = n(7),
            a = n(25),
            o = i ? function(e, t) {
                return i(e, "toString", {
                    configurable: !0,
                    enumerable: !1,
                    value: r(t),
                    writable: !0
                })
            } : a;
        e.exports = o
    }, function(e, t) {
        function n(e) {
            return function() {
                return e
            }
        }
        e.exports = n
    }, function(e, t) {
        function n(e) {
            var t = 0,
                n = 0;
            return function() {
                var o = a(),
                    s = i - (o - n);
                if (n = o, s > 0) {
                    if (++t >= r) return arguments[0]
                } else t = 0;
                return e.apply(void 0, arguments)
            }
        }
        var r = 800,
            i = 16,
            a = Date.now;
        e.exports = n
    }, function(e, t, n) {
        function r(e, t, n) {
            if (!s(n)) return !1;
            var r = typeof t;
            return !!("number" == r ? a(n) && o(t, n.length) : "string" == r && t in n) && i(n[t], e)
        }
        var i = n(22),
            a = n(32),
            o = n(34),
            s = n(17);
        e.exports = r
    }, function(e, t, n) {
        function r(e) {
            return null != e && a(e.length) && !i(e)
        }
        var i = n(10),
            a = n(33);
        e.exports = r
    }, function(e, t) {
        function n(e) {
            return "number" == typeof e && e > -1 && e % 1 == 0 && e <= r
        }
        var r = 9007199254740991;
        e.exports = n
    }, function(e, t) {
        function n(e, t) {
            return t = null == t ? r : t, !!t && ("number" == typeof e || i.test(e)) && e > -1 && e % 1 == 0 && e < t
        }
        var r = 9007199254740991,
            i = /^(?:0|[1-9]\d*)$/;
        e.exports = n
    }, function(e, t, n) {
        function r(e) {
            return o(e) ? i(e, !0) : a(e)
        }
        var i = n(36),
            a = n(49),
            o = n(32);
        e.exports = r
    }, function(e, t, n) {
        function r(e, t) {
            var n = o(e),
                r = !n && a(e),
                c = !n && !r && s(e),
                f = !n && !r && !c && u(e),
                p = n || r || c || f,
                _ = p ? i(e.length, String) : [],
                h = _.length;
            for (var m in e) !t && !d.call(e, m) || p && ("length" == m || c && ("offset" == m || "parent" == m) || f && ("buffer" == m || "byteLength" == m || "byteOffset" == m) || l(m, h)) || _.push(m);
            return _
        }
        var i = n(37),
            a = n(38),
            o = n(41),
            s = n(42),
            l = n(34),
            u = n(45),
            c = Object.prototype,
            d = c.hasOwnProperty;
        e.exports = r
    }, function(e, t) {
        function n(e, t) {
            for (var n = -1, r = Array(e); ++n < e;) r[n] = t(n);
            return r
        }
        e.exports = n
    }, function(e, t, n) {
        var r = n(39),
            i = n(40),
            a = Object.prototype,
            o = a.hasOwnProperty,
            s = a.propertyIsEnumerable,
            l = r(function() {
                return arguments
            }()) ? r : function(e) {
                return i(e) && o.call(e, "callee") && !s.call(e, "callee")
            };
        e.exports = l
    }, function(e, t, n) {
        function r(e) {
            return a(e) && i(e) == o
        }
        var i = n(11),
            a = n(40),
            o = "[object Arguments]";
        e.exports = r
    }, , function(e, t) {
        var n = Array.isArray;
        e.exports = n
    }, function(e, t, n) {
        (function(e) {
            var r = n(13),
                i = n(44),
                a = "object" == typeof t && t && !t.nodeType && t,
                o = a && "object" == typeof e && e && !e.nodeType && e,
                s = o && o.exports === a,
                l = s ? r.Buffer : void 0,
                u = l ? l.isBuffer : void 0,
                c = u || i;
            e.exports = c
        }).call(t, n(43)(e))
    }, , function(e, t) {
        function n() {
            return !1
        }
        e.exports = n
    }, function(e, t, n) {
        var r = n(46),
            i = n(47),
            a = n(48),
            o = a && a.isTypedArray,
            s = o ? i(o) : r;
        e.exports = s
    }, function(e, t, n) {
        function r(e) {
            return o(e) && a(e.length) && !!N[i(e)]
        }
        var i = n(11),
            a = n(33),
            o = n(40),
            s = "[object Arguments]",
            l = "[object Array]",
            u = "[object Boolean]",
            c = "[object Date]",
            d = "[object Error]",
            f = "[object Function]",
            p = "[object Map]",
            _ = "[object Number]",
            h = "[object Object]",
            m = "[object RegExp]",
            v = "[object Set]",
            y = "[object String]",
            g = "[object WeakMap]",
            E = "[object ArrayBuffer]",
            b = "[object DataView]",
            T = "[object Float32Array]",
            S = "[object Float64Array]",
            A = "[object Int8Array]",
            C = "[object Int16Array]",
            P = "[object Int32Array]",
            O = "[object Uint8Array]",
            w = "[object Uint8ClampedArray]",
            k = "[object Uint16Array]",
            I = "[object Uint32Array]",
            N = {};
        N[T] = N[S] = N[A] = N[C] = N[P] = N[O] = N[w] = N[k] = N[I] = !0, N[s] = N[l] = N[E] = N[u] = N[b] = N[c] = N[d] = N[f] = N[p] = N[_] = N[h] = N[m] = N[v] = N[y] = N[g] = !1, e.exports = r
    }, function(e, t) {
        function n(e) {
            return function(t) {
                return e(t)
            }
        }
        e.exports = n
    }, function(e, t, n) {
        (function(e) {
            var r = n(14),
                i = "object" == typeof t && t && !t.nodeType && t,
                a = i && "object" == typeof e && e && !e.nodeType && e,
                o = a && a.exports === i,
                s = o && r.process,
                l = function() {
                    try {
                        return s && s.binding && s.binding("util")
                    } catch (e) {}
                }();
            e.exports = l
        }).call(t, n(43)(e))
    }, function(e, t, n) {
        function r(e) {
            if (!i(e)) return o(e);
            var t = a(e),
                n = [];
            for (var r in e)("constructor" != r || !t && l.call(e, r)) && n.push(r);
            return n
        }
        var i = n(17),
            a = n(50),
            o = n(51),
            s = Object.prototype,
            l = s.hasOwnProperty;
        e.exports = r
    }, function(e, t) {
        function n(e) {
            var t = e && e.constructor,
                n = "function" == typeof t && t.prototype || r;
            return e === n
        }
        var r = Object.prototype;
        e.exports = n
    }, function(e, t) {
        function n(e) {
            var t = [];
            if (null != e)
                for (var n in Object(e)) t.push(n);
            return t
        }
        e.exports = n
    }, function(e, t, n) {
        function r(e, t, n, r) {
            return void 0 === e || i(e, a[n]) && !o.call(r, n) ? t : e
        }
        var i = n(22),
            a = Object.prototype,
            o = a.hasOwnProperty;
        e.exports = r
    }, function(e, t, n) {
        function r(e, t, n, r) {
            e = a(e) ? e : l(e), n = n && !r ? s(n) : 0;
            var c = e.length;
            return n < 0 && (n = u(c + n, 0)), o(e) ? n <= c && e.indexOf(t, n) > -1 : !!c && i(e, t, n) > -1
        }
        var i = n(54),
            a = n(32),
            o = n(58),
            s = n(59),
            l = n(63),
            u = Math.max;
        e.exports = r
    }, function(e, t, n) {
        function r(e, t, n) {
            return t === t ? o(e, t, n) : i(e, a, n)
        }
        var i = n(55),
            a = n(56),
            o = n(57);
        e.exports = r
    }, function(e, t) {
        function n(e, t, n, r) {
            for (var i = e.length, a = n + (r ? 1 : -1); r ? a-- : ++a < i;)
                if (t(e[a], a, e)) return a;
            return -1
        }
        e.exports = n
    }, function(e, t) {
        function n(e) {
            return e !== e
        }
        e.exports = n
    }, function(e, t) {
        function n(e, t, n) {
            for (var r = n - 1, i = e.length; ++r < i;)
                if (e[r] === t) return r;
            return -1
        }
        e.exports = n
    }, function(e, t, n) {
        function r(e) {
            return "string" == typeof e || !a(e) && o(e) && i(e) == s
        }
        var i = n(11),
            a = n(41),
            o = n(40),
            s = "[object String]";
        e.exports = r
    }, function(e, t, n) {
        function r(e) {
            var t = i(e),
                n = t % 1;
            return t === t ? n ? t - n : t : 0
        }
        var i = n(60);
        e.exports = r
    }, function(e, t, n) {
        function r(e) {
            if (!e) return 0 === e ? e : 0;
            if (e = i(e), e === a || e === -a) {
                var t = e < 0 ? -1 : 1;
                return t * o
            }
            return e === e ? e : 0
        }
        var i = n(61),
            a = 1 / 0,
            o = 1.7976931348623157e308;
        e.exports = r
    }, function(e, t, n) {
        function r(e) {
            if ("number" == typeof e) return e;
            if (a(e)) return o;
            if (i(e)) {
                var t = "function" == typeof e.valueOf ? e.valueOf() : e;
                e = i(t) ? t + "" : t
            }
            if ("string" != typeof e) return 0 === e ? e : +e;
            e = e.replace(s, "");
            var n = u.test(e);
            return n || c.test(e) ? d(e.slice(2), n ? 2 : 8) : l.test(e) ? o : +e
        }
        var i = n(17),
            a = n(62),
            o = NaN,
            s = /^\s+|\s+$/g,
            l = /^[-+]0x[0-9a-f]+$/i,
            u = /^0b[01]+$/i,
            c = /^0o[0-7]+$/i,
            d = parseInt;
        e.exports = r
    }, function(e, t, n) {
        function r(e) {
            return "symbol" == typeof e || a(e) && i(e) == o
        }
        var i = n(11),
            a = n(40),
            o = "[object Symbol]";
        e.exports = r
    }, function(e, t, n) {
        function r(e) {
            return null == e ? [] : i(e, a(e))
        }
        var i = n(64),
            a = n(66);
        e.exports = r
    }, function(e, t, n) {
        function r(e, t) {
            return i(t, function(t) {
                return e[t]
            })
        }
        var i = n(65);
        e.exports = r
    }, function(e, t) {
        function n(e, t) {
            for (var n = -1, r = null == e ? 0 : e.length, i = Array(r); ++n < r;) i[n] = t(e[n], n, e);
            return i
        }
        e.exports = n
    }, function(e, t, n) {
        function r(e) {
            return o(e) ? i(e) : a(e)
        }
        var i = n(36),
            a = n(67),
            o = n(32);
        e.exports = r
    }, function(e, t, n) {
        function r(e) {
            if (!i(e)) return a(e);
            var t = [];
            for (var n in Object(e)) s.call(e, n) && "constructor" != n && t.push(n);
            return t
        }
        var i = n(50),
            a = n(68),
            o = Object.prototype,
            s = o.hasOwnProperty;
        e.exports = r
    }, function(e, t, n) {
        var r = n(69),
            i = r(Object.keys, Object);
        e.exports = i
    }, , function(e, t, n) {
        var r = n(71),
            i = n(109),
            a = i(function(e, t) {
                return null == e ? {} : r(e, t)
            });
        e.exports = a
    }, function(e, t, n) {
        function r(e, t) {
            return i(e, t, function(t, n) {
                return a(e, n)
            })
        }
        var i = n(72),
            a = n(106);
        e.exports = r
    }, function(e, t, n) {
        function r(e, t, n) {
            for (var r = -1, s = t.length, l = {}; ++r < s;) {
                var u = t[r],
                    c = i(e, u);
                n(c, u) && a(l, o(u, e), c)
            }
            return l
        }
        var i = n(73),
            a = n(105),
            o = n(74);
        e.exports = r
    }, function(e, t, n) {
        function r(e, t) {
            t = i(t, e);
            for (var n = 0, r = t.length; null != e && n < r;) e = e[a(t[n++])];
            return n && n == r ? e : void 0
        }
        var i = n(74),
            a = n(104);
        e.exports = r
    }, function(e, t, n) {
        function r(e, t) {
            return i(e) ? e : a(e, t) ? [e] : o(s(e))
        }
        var i = n(41),
            a = n(75),
            o = n(76),
            s = n(102);
        e.exports = r
    }, function(e, t, n) {
        function r(e, t) {
            if (i(e)) return !1;
            var n = typeof e;
            return !("number" != n && "symbol" != n && "boolean" != n && null != e && !a(e)) || (s.test(e) || !o.test(e) || null != t && e in Object(t))
        }
        var i = n(41),
            a = n(62),
            o = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,
            s = /^\w*$/;
        e.exports = r
    }, function(e, t, n) {
        var r = n(77),
            i = /^\./,
            a = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,
            o = /\\(\\)?/g,
            s = r(function(e) {
                var t = [];
                return i.test(e) && t.push(""), e.replace(a, function(e, n, r, i) {
                    t.push(r ? i.replace(o, "$1") : n || e)
                }), t
            });
        e.exports = s
    }, function(e, t, n) {
        function r(e) {
            var t = i(e, function(e) {
                    return n.size === a && n.clear(), e
                }),
                n = t.cache;
            return t
        }
        var i = n(78),
            a = 500;
        e.exports = r
    }, function(e, t, n) {
        function r(e, t) {
            if ("function" != typeof e || null != t && "function" != typeof t) throw new TypeError(a);
            var n = function() {
                var r = arguments,
                    i = t ? t.apply(this, r) : r[0],
                    a = n.cache;
                if (a.has(i)) return a.get(i);
                var o = e.apply(this, r);
                return n.cache = a.set(i, o) || a, o
            };
            return n.cache = new(r.Cache || i), n
        }
        var i = n(79),
            a = "Expected a function";
        r.Cache = i, e.exports = r
    }, function(e, t, n) {
        function r(e) {
            var t = -1,
                n = null == e ? 0 : e.length;
            for (this.clear(); ++t < n;) {
                var r = e[t];
                this.set(r[0], r[1])
            }
        }
        var i = n(80),
            a = n(96),
            o = n(99),
            s = n(100),
            l = n(101);
        r.prototype.clear = i, r.prototype.delete = a, r.prototype.get = o, r.prototype.has = s, r.prototype.set = l, e.exports = r
    }, function(e, t, n) {
        function r() {
            this.size = 0, this.__data__ = {
                hash: new i,
                map: new(o || a),
                string: new i
            }
        }
        var i = n(81),
            a = n(88),
            o = n(95);
        e.exports = r
    }, function(e, t, n) {
        function r(e) {
            var t = -1,
                n = null == e ? 0 : e.length;
            for (this.clear(); ++t < n;) {
                var r = e[t];
                this.set(r[0], r[1])
            }
        }
        var i = n(82),
            a = n(84),
            o = n(85),
            s = n(86),
            l = n(87);
        r.prototype.clear = i, r.prototype.delete = a, r.prototype.get = o, r.prototype.has = s, r.prototype.set = l, e.exports = r
    }, function(e, t, n) {
        function r() {
            this.__data__ = i ? i(null) : {}, this.size = 0
        }
        var i = n(83);
        e.exports = r
    }, function(e, t, n) {
        var r = n(8),
            i = r(Object, "create");
        e.exports = i
    }, function(e, t) {
        function n(e) {
            var t = this.has(e) && delete this.__data__[e];
            return this.size -= t ? 1 : 0, t
        }
        e.exports = n
    }, function(e, t, n) {
        function r(e) {
            var t = this.__data__;
            if (i) {
                var n = t[e];
                return n === a ? void 0 : n
            }
            return s.call(t, e) ? t[e] : void 0
        }
        var i = n(83),
            a = "__lodash_hash_undefined__",
            o = Object.prototype,
            s = o.hasOwnProperty;
        e.exports = r
    }, function(e, t, n) {
        function r(e) {
            var t = this.__data__;
            return i ? void 0 !== t[e] : o.call(t, e)
        }
        var i = n(83),
            a = Object.prototype,
            o = a.hasOwnProperty;
        e.exports = r
    }, function(e, t, n) {
        function r(e, t) {
            var n = this.__data__;
            return this.size += this.has(e) ? 0 : 1, n[e] = i && void 0 === t ? a : t, this
        }
        var i = n(83),
            a = "__lodash_hash_undefined__";
        e.exports = r
    }, function(e, t, n) {
        function r(e) {
            var t = -1,
                n = null == e ? 0 : e.length;
            for (this.clear(); ++t < n;) {
                var r = e[t];
                this.set(r[0], r[1])
            }
        }
        var i = n(89),
            a = n(90),
            o = n(92),
            s = n(93),
            l = n(94);
        r.prototype.clear = i, r.prototype.delete = a, r.prototype.get = o, r.prototype.has = s, r.prototype.set = l, e.exports = r
    }, function(e, t) {
        function n() {
            this.__data__ = [], this.size = 0
        }
        e.exports = n
    }, function(e, t, n) {
        function r(e) {
            var t = this.__data__,
                n = i(t, e);
            if (n < 0) return !1;
            var r = t.length - 1;
            return n == r ? t.pop() : o.call(t, n, 1), --this.size, !0
        }
        var i = n(91),
            a = Array.prototype,
            o = a.splice;
        e.exports = r
    }, function(e, t, n) {
        function r(e, t) {
            for (var n = e.length; n--;)
                if (i(e[n][0], t)) return n;
            return -1
        }
        var i = n(22);
        e.exports = r
    }, function(e, t, n) {
        function r(e) {
            var t = this.__data__,
                n = i(t, e);
            return n < 0 ? void 0 : t[n][1]
        }
        var i = n(91);
        e.exports = r
    }, function(e, t, n) {
        function r(e) {
            return i(this.__data__, e) > -1
        }
        var i = n(91);
        e.exports = r
    }, function(e, t, n) {
        function r(e, t) {
            var n = this.__data__,
                r = i(n, e);
            return r < 0 ? (++this.size, n.push([e, t])) : n[r][1] = t, this
        }
        var i = n(91);
        e.exports = r
    }, function(e, t, n) {
        var r = n(8),
            i = n(13),
            a = r(i, "Map");
        e.exports = a
    }, function(e, t, n) {
        function r(e) {
            var t = i(this, e).delete(e);
            return this.size -= t ? 1 : 0, t
        }
        var i = n(97);
        e.exports = r
    }, function(e, t, n) {
        function r(e, t) {
            var n = e.__data__;
            return i(t) ? n["string" == typeof t ? "string" : "hash"] : n.map
        }
        var i = n(98);
        e.exports = r
    }, function(e, t) {
        function n(e) {
            var t = typeof e;
            return "string" == t || "number" == t || "symbol" == t || "boolean" == t ? "__proto__" !== e : null === e
        }
        e.exports = n
    }, function(e, t, n) {
        function r(e) {
            return i(this, e).get(e)
        }
        var i = n(97);
        e.exports = r
    }, function(e, t, n) {
        function r(e) {
            return i(this, e).has(e)
        }
        var i = n(97);
        e.exports = r
    }, function(e, t, n) {
        function r(e, t) {
            var n = i(this, e),
                r = n.size;
            return n.set(e, t), this.size += n.size == r ? 0 : 1, this
        }
        var i = n(97);
        e.exports = r
    }, function(e, t, n) {
        function r(e) {
            return null == e ? "" : i(e)
        }
        var i = n(103);
        e.exports = r
    }, function(e, t, n) {
        function r(e) {
            if ("string" == typeof e) return e;
            if (o(e)) return a(e, r) + "";
            if (s(e)) return c ? c.call(e) : "";
            var t = e + "";
            return "0" == t && 1 / e == -l ? "-0" : t
        }
        var i = n(12),
            a = n(65),
            o = n(41),
            s = n(62),
            l = 1 / 0,
            u = i ? i.prototype : void 0,
            c = u ? u.toString : void 0;
        e.exports = r
    }, function(e, t, n) {
        function r(e) {
            if ("string" == typeof e || i(e)) return e;
            var t = e + "";
            return "0" == t && 1 / e == -a ? "-0" : t
        }
        var i = n(62),
            a = 1 / 0;
        e.exports = r
    }, function(e, t, n) {
        function r(e, t, n, r) {
            if (!s(e)) return e;
            t = a(t, e);
            for (var u = -1, c = t.length, d = c - 1, f = e; null != f && ++u < c;) {
                var p = l(t[u]),
                    _ = n;
                if (u != d) {
                    var h = f[p];
                    _ = r ? r(h, p, f) : void 0, void 0 === _ && (_ = s(h) ? h : o(t[u + 1]) ? [] : {})
                }
                i(f, p, _), f = f[p]
            }
            return e
        }
        var i = n(5),
            a = n(74),
            o = n(34),
            s = n(17),
            l = n(104);
        e.exports = r
    }, function(e, t, n) {
        function r(e, t) {
            return null != e && a(e, t, i)
        }
        var i = n(107),
            a = n(108);
        e.exports = r
    }, function(e, t) {
        function n(e, t) {
            return null != e && t in Object(e)
        }
        e.exports = n
    }, function(e, t, n) {
        function r(e, t, n) {
            t = i(t, e);
            for (var r = -1, c = t.length, d = !1; ++r < c;) {
                var f = u(t[r]);
                if (!(d = null != e && n(e, f))) break;
                e = e[f]
            }
            return d || ++r != c ? d : (c = null == e ? 0 : e.length, !!c && l(c) && s(f, c) && (o(e) || a(e)))
        }
        var i = n(74),
            a = n(38),
            o = n(41),
            s = n(34),
            l = n(33),
            u = n(104);
        e.exports = r
    }, function(e, t, n) {
        function r(e) {
            return o(a(e, void 0, i), e + "")
        }
        var i = n(110),
            a = n(26),
            o = n(27);
        e.exports = r
    }, function(e, t, n) {
        function r(e) {
            var t = null == e ? 0 : e.length;
            return t ? i(e, 1) : []
        }
        var i = n(111);
        e.exports = r
    }, function(e, t, n) {
        function r(e, t, n, o, s) {
            var l = -1,
                u = e.length;
            for (n || (n = a), s || (s = []); ++l < u;) {
                var c = e[l];
                t > 0 && n(c) ? t > 1 ? r(c, t - 1, n, o, s) : i(s, c) : o || (s[s.length] = c)
            }
            return s
        }
        var i = n(112),
            a = n(113);
        e.exports = r
    }, function(e, t) {
        function n(e, t) {
            for (var n = -1, r = t.length, i = e.length; ++n < r;) e[i + n] = t[n];
            return e
        }
        e.exports = n
    }, function(e, t, n) {
        function r(e) {
            return o(e) || a(e) || !!(s && e && e[s])
        }
        var i = n(12),
            a = n(38),
            o = n(41),
            s = i ? i.isConcatSpreadable : void 0;
        e.exports = r
    }, , function(e, t) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        t.AD_IMPRESSION = "video_ad_impression", t.AD_IMPRESSION_COMPLETE = "video_ad_impression_complete", t.AD_REQUEST = "video_ad_request", t.AD_REQUEST_DECLINED = "video_ad_request_declined", t.AD_REQUEST_ERROR = "video_ad_request_error", t.AD_REQUEST_RESPONSE = "video_ad_request_response", t.AD_SKIPPED = "video_ad_skipped", t.AD_ERROR = "video_ad_error", t.AD_LOADED = "video_ad_loaded", t.VIDEO_AD_REQUEST_ERROR = "video_ad_request_error", t.AAX_AD_AUCTION = "video_ad_auction", t.AAX_AD_AUCTION_RESPONSE = "video_ad_auction_response", t.AAX_AD_AUCTION_ERROR = "video_ad_auction_error", t.AAX_AD_AUCTION_INIT_ERROR = "video_ad_auction_init_error"
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            if (e && e.__esModule) return e;
            var t = {};
            if (null != e)
                for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
            return t.default = e, t
        }

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function a(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function o(e) {
            var t = String(e).trim(),
                n = t.indexOf(" ");
            return n > 0 ? t.slice(0, n) : t
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.Analytics = t.BROADCAST_PLATFORM_WATCH_PARTY = t.SITE_MINIPLAYER_ACTION = t.VIDEO_PLAY_VARIANT_MANIFEST = t.VIDEO_PLAY_MASTER_MANIFEST = t.VIDEO_PLAY_NAUTH = t.VIDEO_PLAY_OAUTH = t.VIDEO_PLAY_LOAD_START = t.REBROADCAST_TYPE = void 0;
        var s = function() {
                function e(e, t) {
                    var n = [],
                        r = !0,
                        i = !1,
                        a = void 0;
                    try {
                        for (var o, s = e[Symbol.iterator](); !(r = (o = s.next()).done) && (n.push(o.value), !t || n.length !== t); r = !0);
                    } catch (e) {
                        i = !0, a = e
                    } finally {
                        try {
                            !r && s.return && s.return()
                        } finally {
                            if (i) throw a
                        }
                    }
                    return n
                }
                return function(t, n) {
                    if (Array.isArray(t)) return t;
                    if (Symbol.iterator in Object(t)) return e(t, n);
                    throw new TypeError("Invalid attempt to destructure non-iterable instance")
                }
            }(),
            l = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }();
        t.removeVariantName = o;
        var u = n(117),
            c = i(u),
            d = n(118),
            f = i(d),
            p = n(70),
            _ = i(p),
            h = n(120),
            m = i(h),
            v = n(162),
            y = i(v),
            g = n(163),
            E = n(165),
            b = n(166),
            T = n(227),
            S = n(168),
            A = r(S),
            C = n(200),
            P = n(242),
            O = r(P),
            w = n(263),
            k = n(251),
            I = n(183),
            N = n(217),
            R = n(264),
            L = n(265),
            M = n(178),
            D = r(M),
            j = n(179),
            x = r(j),
            U = n(220),
            B = t.REBROADCAST_TYPE = "rebroadcast",
            F = (t.VIDEO_PLAY_LOAD_START = "video_play_load_start", t.VIDEO_PLAY_OAUTH = "video_play_oauth", t.VIDEO_PLAY_NAUTH = "video_play_nauth", t.VIDEO_PLAY_MASTER_MANIFEST = "video_play_master_manifest", t.VIDEO_PLAY_VARIANT_MANIFEST = "video_play_variant_manifest", t.SITE_MINIPLAYER_ACTION = "site_mini_player_action", "video_init"),
            V = "video-play",
            H = "video_end",
            G = "minute-watched",
            q = "buffer-empty",
            Y = "buffer-refill",
            K = "vod_seek",
            W = "player_caption_preset",
            $ = "theatre mode",
            z = "fullscreen",
            Q = "popout",
            X = "mini",
            J = t.BROADCAST_PLATFORM_WATCH_PARTY = "watch_party",
            Z = 500;
        t.Analytics = function() {
            function e(t, n, r, i, o) {
                a(this, e), this.player = t, this.tracker = n, this.state = r, this.store = i, this.options = o, this.hasPlayed = !1, this.bufferEmptyStartTime = null, this.bufferEmptyCount = 0, this.lastNetworkProfile = -(1 / 0), this.lastSeekTime = null, this.timeStampBeforeSeek = 0, this.isSeekInProgress = !1, this.trackNetworkProfile = this.store.getState().experiments.get(k.NETWORK_PROFILE_COLLECTION), this.countessTracker = new E.CountessTracker({
                    host: A.countessHost
                }), this.comscore = new T.ComscoreAnalytics(this, this.player, this.store), this.latencyTracker = new b.LatencyTracker(this, .001, this.player, this.store), this.valveClient = new w.ValveClient, this.initProperties(), this.initEvents(), this.unsubscribes = [], this.unsubscribes.push(this._subscribeCaptions(this.store)), this.unsubscribes.push((0, I.subscribe)(this.store, ["quality.current", "quality.selected"], this.onQualityChange.bind(this))), this.unsubscribes.push((0, I.subscribe)(this.store, ["collection.id"], this.onCollectionChange.bind(this))), this.unsubscribes.push((0, I.subscribe)(this.store, ["ui.isMini"], this.onMiniChange.bind(this))), this.unsubscribes.push((0, I.subscribe)(this.store, ["playback.ended"], this.onPlaybackEnded.bind(this))), this.unsubscribes.push((0, I.subscribe)(this.store, ["watchParty.vodId"], this.onWatchPartyVodChange.bind(this))), this.unsubscribes.push((0, I.subscribe)(this.store, ["watchParty.watchPartyId"], this.onWatchPartyChange.bind(this)))
            }
            return l(e, [{
                key: "_subscribeCaptions",
                value: function(e) {
                    var t = this;
                    return (0, I.subscribe)(e, ["captions"], function(e, n) {
                        var r = e.captions,
                            i = n.captions;
                        r.preset !== i.preset && t.trackEvent(W, {
                            captions_preset: r.preset
                        })
                    })
                }
            }, {
                key: "initProperties",
                value: function() {
                    if (this.tracker.setProperties((0, C.userInfo)().then(function(e) {
                            return {
                                login: e.login,
                                turbo: Boolean(e.turbo)
                            }
                        })), this.tracker.setProperties((0, C.krakenUserInfo)().then(function(e) {
                            return {
                                user_id: e._id,
                                staff: "staff" === e.type
                            }
                        })), this.options.channel) {
                        var e = (0, C.channelAPIInfo)(this.options.channel);
                        this.valveClient.channelInfo(e);
                        var t = (0, C.channelViewerInfo)(this.options.channel);
                        this.valveClient.viewerInfo(t), this.tracker.setProperties(t.then(function(e) {
                            return {
                                subscriber: Boolean(e.chansub)
                            }
                        }))
                    }
                }
            }, {
                key: "initMinutesWatchedTimer",
                value: function() {
                    this.minutesWatchedTimer = new g.MinutesWatched, this.minutesWatchedTimer.on(g.EVENT_MINUTE, this.onMinuteWatched.bind(this))
                }
            }, {
                key: "initEvents",
                value: function() {
                    this.initMinutesWatchedTimer(), this.player.addEventListener(D.PLAYER_INIT, this.onBackendInit.bind(this)), this.player.addEventListener(x.LOADSTART, this.onLoadStart.bind(this)), this.player.addEventListener(x.PAUSE, this.onPause.bind(this)), this.player.addEventListener(x.WAITING, this.onWaiting.bind(this)), this.player.addEventListener(x.PLAYING, this.onPlaying.bind(this)), this.player.addEventListener(x.PLAYING, this.onQualityChange.bind(this)), this.player.addEventListener(x.ENDED, this.onEnded.bind(this)), this.player.addEventListener(D.CASTING_CHANGE, this.onCastingChange.bind(this)), this.player.addEventListener(x.SEEKING, this.onSeeking.bind(this)), this.player.addEventListener(x.TIME_UPDATE, this.onTimeUpdate.bind(this)), this.player.addEventListener(x.CAN_PLAY, this.onCanPlay.bind(this)), this.player.addEventListener(D.ABS_STREAM_FORMAT_CHANGE, this.onABSStreamFormatChange.bind(this))
                }
            }, {
                key: "onABSStreamFormatChange",
                value: function(e) {
                    this.tracker.trackEvent(D.ABS_STREAM_FORMAT_CHANGE, (0, c.default)({}, e, {
                        minutes_logged: this.minutesWatchedTimer.totalMinutes
                    }))
                }
            }, {
                key: "getNetworkProfileStats",
                value: function(e) {
                    function t(e, t) {
                        return e + t
                    }
                    if (0 === e.length) return {};
                    var n = e.map(function(e) {
                            return e.firstByteLatency
                        }).reduce(t),
                        r = e.map(function(e) {
                            return e.segmentDuration
                        }).reduce(t),
                        i = e.map(function(e) {
                            return e.downloadDuration
                        }).reduce(t),
                        a = e.map(function(e) {
                            return e.bytes
                        }).reduce(t);
                    return {
                        transport_segments: e.length,
                        transport_first_byte_latency: n,
                        transport_segment_duration: r,
                        transport_download_duration: i,
                        transport_download_bytes: a
                    }
                }
            }, {
                key: "trackEvent",
                value: function(e, t) {
                    var n = this.player.getVideoInfo(),
                        r = (0, f.default)({}, (0, _.default)(n, ["bandwidth", "cluster", "current_bitrate", "current_fps", "dropped_frames", "hls_latency_broadcaster", "hls_latency_encoder", "hls_latency_broadcaster_send_time", "hls_latency_ingest_receive_time", "hls_latency_ingest_send_time", "hls_latency_transcode_receive_time", "hls_latency_transcode_send_time", "hls_target_duration", "manifest_cluster", "manifest_node", "manifest_node_type", "serving_id", "node", "user_ip", "vid_display_height", "vid_display_width", "vid_height", "vid_width", "video_buffer_size", "vod_cdn_origin", "vod_cdn_region"]), {
                            volume: this.player.getVolume(),
                            muted: this.player.getMuted(),
                            is_https: "https" === n.segment_protocol
                        }, t);
                    this.tracker.trackEvent(e, r)
                }
            }, {
                key: "onMinuteWatched",
                value: function() {
                    var e = this,
                        t = this.store.getState(),
                        n = t.analytics,
                        r = t.captions,
                        i = t.communities,
                        a = t.streamMetadata,
                        o = t.collection,
                        s = t.stream,
                        l = t.manifestInfo,
                        u = t.lang,
                        c = t.playerOptions,
                        d = this.player.getNetworkProfile().filter(function(e) {
                            return e.startTime > this.lastNetworkProfile
                        }.bind(this));
                    this.lastNetworkProfile = d.reduce(function(e, t) {
                        return Math.max(e, t.startTime)
                    }, this.lastNetworkProfile);
                    var p = this.getNetworkProfileStats(d);
                    this.player.video && (0, f.default)(p, {
                        vod_timestamp: this.player.getCurrentTime()
                    });
                    var _ = {
                        seconds_offset: this.minutesWatchedTimer.initialDelay / 1e3,
                        minutes_logged: this.minutesWatchedTimer.totalMinutes,
                        captions_enabled: r.enabled,
                        quality_change_count: n.qualityChangeCount,
                        player_size_mode: this._getPlayerDisplayMode(),
                        broadcast_id: a.broadcastID,
                        community_id: i.data._id,
                        community_name: i.data.name,
                        medium: c.tt_medium,
                        content: c.tt_content,
                        transcoder_type: l.transcodestack,
                        autoplayed: this.options.autoplay,
                        streamType: a.streamType,
                        language: u.langCode
                    };
                    s.contentType === U.CONTENT_MODE_VOD && o.id && (_.collection_item_position = (0, y.default)(o.items, {
                        item_id: s.videoId.substr(1)
                    }), _.collection_id = o.id), this.trackEvent(G, (0, f.default)({}, p, _)), this.store.dispatch((0, R.resetQualityChangeCount)()), this.valveClient.notify(), this.trackNetworkProfile.then(function(t) {
                        "yes" === t && d.length > 0 && e.tracker.trackEvents(d.map(function(e) {
                            return {
                                event: "network_profile",
                                properties: {
                                    bytes: e.bytes,
                                    duration: e.segmentDuration,
                                    time: e.startTime + e.firstByteLatency + e.downloadDuration,
                                    time_to_first_byte: e.firstByteLatency,
                                    download_duration: e.downloadDuration,
                                    curr_buffer_length: e.currBufferLength,
                                    reason_code: e.reasonCode,
                                    curr_quality: e.currQuality,
                                    rendition: e.rendition
                                }
                            }
                        }))
                    })
                }
            }, {
                key: "onBackendInit",
                value: function() {
                    this.tracker.setProperty("backend", this.player.getBackend()), this.tracker.setProperty("backend_version", this.player.getVersion()), this.tracker.trackEvent(F)
                }
            }, {
                key: "onLoadStart",
                value: function() {
                    this.player.getChannel() ? this.onLoadChannel() : this.player.getVideo() && this.onLoadVideo(), this.minutesWatchedTimer.destroy(), this.initMinutesWatchedTimer(), this.hasPlayed = !1, this.bufferEmptyCount = 0
                }
            }, {
                key: "onLoadChannel",
                value: function() {
                    var e = this,
                        t = this.player.getChannel(),
                        n = (0, C.channelInfo)(t),
                        r = (0, C.channelAPIInfo)(t);
                    n.then(function(e) {
                        this.countessTracker.trackView("channel", e._id)
                    }.bind(this));
                    var i = {},
                        a = {},
                        o = Promise.all([n, r]).then(function(e) {
                            var n = s(e, 2),
                                r = n[0],
                                o = n[1];
                            return i = r, a = o, (0, C.getCommunityFromChannel)(t)
                        }).then(function(t) {
                            e.store.dispatch((0, L.setCommunitiesData)(t));
                            var n = a.broadcaster_software,
                                r = n === J ? J : void 0;
                            return {
                                broadcaster_software: n,
                                channel: i.name,
                                channel_id: i._id,
                                game: i.game,
                                live: n !== B,
                                content_mode: n === B ? "vod" : "live",
                                partner: i.partner,
                                vod_type: r
                            }
                        });
                    this.tracker.setProperties(o)
                }
            }, {
                key: "onLoadVideo",
                value: function() {
                    var e = this.player.getVideo(),
                        t = (0, C.videoInfo)(e);
                    this.tracker.setProperties(t.then(function(e) {
                        return (0, C.channelInfo)(e.channel.name)
                    }).then(function(e) {
                        return (0, _.default)(e, "partner")
                    }));
                    var n = t.then(function(e) {
                        return {
                            channel: e.channel.name,
                            channel_id: e.channel._id,
                            vod: e._id,
                            vod_id: e._id,
                            vod_type: e.broadcast_type,
                            game: e.game,
                            live: !1,
                            content_mode: "vod"
                        }
                    });
                    this.tracker.setProperties(n)
                }
            }, {
                key: "onWaiting",
                value: function() {
                    var e = this.store.getState(),
                        t = e.communities;
                    this.player.getSeeking() || (this.bufferEmptyStartTime = (new Date).getTime(), this.bufferEmptyCount++, this.trackEvent(q, {
                        buffer_empty_count: this.bufferEmptyCount,
                        community_id: t.data._id,
                        community_name: t.data.name
                    }))
                }
            }, {
                key: "onPlaying",
                value: function() {
                    var e = this,
                        t = this.store.getState(),
                        n = t.analytics,
                        r = t.communities,
                        i = t.stream,
                        a = t.collection;
                    if (null !== this.bufferEmptyStartTime) {
                        var o = (new Date).getTime();
                        this.trackEvent(Y, {
                            buffering_time: (o - this.bufferEmptyStartTime) / 1e3,
                            community_id: r.data._id,
                            community_name: r.data.name
                        }), this.bufferEmptyStartTime = null
                    }
                    if (!this.hasPlayed) {
                        var s = {
                            time_since_load_start: Date.now() - n.playSessionStartTime,
                            community_id: r.data._id,
                            community_name: r.data.name,
                            autoplayed: this.options.autoplay
                        };
                        i.contentType === U.CONTENT_MODE_VOD && ((0, C.videoInfo)(i.videoId).then(function(t) {
                            e.countessTracker.trackVODView(t)
                        }), a.id && (s.collection_item_position = (0, y.default)(a.items, {
                            item_id: i.videoId.substr(1)
                        }), s.collection_id = a.id)), this.trackEvent(V, s), this.hasPlayed = !0, this.valveClient.notify(), this.store.dispatch(O.sendPlayerBeacon()), this.store.dispatch(O.sendVideoBeacon())
                    }
                    this.minutesWatchedTimer.start()
                }
            }, {
                key: "onCanPlay",
                value: function() {
                    this.isSeekInProgress && (this.isSeekInProgress = !1, this.trackEvent(K, {
                        timestamp_departed: this.timeStampBeforeSeek,
                        timestamp_target: this.player.getCurrentTime(),
                        time_spent_seeking: (Date.now() - this.lastSeekTime) / 1e3
                    })), this.timeStampBeforeSeek = this.player.getCurrentTime()
                }
            }, {
                key: "onSeeking",
                value: function() {
                    this.hasPlayed && !this.isSeekInProgress && (this.isSeekInProgress = !0, this.lastSeekTime = Date.now())
                }
            }, {
                key: "onTimeUpdate",
                value: function() {
                    if (!this.isSeekInProgress) {
                        var e = this.player.getCurrentTime();
                        e - this.timeStampBeforeSeek < Z && this.timeStampBeforeSeek < e && (this.timeStampBeforeSeek = e)
                    }
                }
            }, {
                key: "onPause",
                value: function() {
                    this.minutesWatchedTimer.reset()
                }
            }, {
                key: "onPlaybackEnded",
                value: function() {
                    var e = this.store.getState(),
                        t = e.playback;
                    t.ended && this.trackEvent(H, {})
                }
            }, {
                key: "onCollectionChange",
                value: function() {
                    var e = this.store.getState(),
                        t = e.collection;
                    t.id && this.countessTracker.trackView("collection", t.id)
                }
            }, {
                key: "onWatchPartyVodChange",
                value: function() {
                    var e = this.store.getState(),
                        t = e.watchParty;
                    t && t.vodId && t.incrementViewCountURL && this.countessTracker.trackVODView({
                        increment_view_count_url: t.incrementViewCountURL
                    })
                }
            }, {
                key: "onWatchPartyChange",
                value: function() {
                    var e = this.store.getState(),
                        t = e.watchParty;
                    t && t.watchPartyId && this.countessTracker.trackView("watch_party", t.watchPartyId)
                }
            }, {
                key: "onEnded",
                value: function() {
                    this.minutesWatchedTimer.reset(), this.bufferEmptyStartTime = null
                }
            }, {
                key: "onQualityChange",
                value: function() {
                    var e = this.store.getState(),
                        t = e.quality;
                    if (0 !== t.available.length) {
                        var n = (0, m.default)(t.available, function(e) {
                                return e.group === t.selected
                            }),
                            r = n ? n.name : t.current;
                        this.tracker.setProperty("quality", o(r)), this.tracker.setProperty("stream_format", t.current)
                    }
                }
            }, {
                key: "onCastingChange",
                value: function() {
                    var e = this.player.getCasting(),
                        t = this.store.getState(),
                        n = t.env;
                    "connected" === e || "connecting" === e ? this.tracker.setProperties({
                        player: "chromecast",
                        chromecast_sender: n.platform
                    }) : this.tracker.setProperties({
                        player: n.playerType,
                        chromecast_sender: null
                    })
                }
            }, {
                key: "onMiniChange",
                value: function() {
                    var e = this.store.getState(),
                        t = e.env,
                        n = e.ui;
                    t.playerType === N.PLAYER_SITE && this.tracker.setProperty("player", n.isMini ? N.PLAYER_SITE_MINI : N.PLAYER_SITE)
                }
            }, {
                key: "_getPlayerDisplayMode",
                value: function() {
                    var e = this.store.getState(),
                        t = e.ui,
                        n = e.screenMode;
                    return n.isFullScreen ? z : this.options.player === N.PLAYER_POPOUT ? Q : this.player.getTheatre() ? $ : t.isMini ? X : ""
                }
            }, {
                key: "destroy",
                value: function() {
                    this.minutesWatchedTimer.destroy(), this.comscore.destroy(), this.unsubscribes.map(function(e) {
                        e()
                    })
                }
            }]), e
        }()
    }, function(e, t, n) {
        var r = n(5),
            i = n(4),
            a = n(23),
            o = n(32),
            s = n(50),
            l = n(66),
            u = Object.prototype,
            c = u.hasOwnProperty,
            d = a(function(e, t) {
                if (s(t) || o(t)) return void i(t, l(t), e);
                for (var n in t) c.call(t, n) && r(e, n, t[n])
            });
        e.exports = d
    }, function(e, t, n) {
        e.exports = n(119)
    }, function(e, t, n) {
        var r = n(4),
            i = n(23),
            a = n(35),
            o = i(function(e, t) {
                r(t, a(t), e)
            });
        e.exports = o
    }, function(e, t, n) {
        var r = n(121),
            i = n(162),
            a = r(i);
        e.exports = a
    }, function(e, t, n) {
        function r(e) {
            return function(t, n, r) {
                var s = Object(t);
                if (!a(t)) {
                    var l = i(n, 3);
                    t = o(t), n = function(e) {
                        return l(s[e], e, s)
                    }
                }
                var u = e(t, n, r);
                return u > -1 ? s[l ? t[u] : u] : void 0
            }
        }
        var i = n(122),
            a = n(32),
            o = n(66);
        e.exports = r
    }, function(e, t, n) {
        function r(e) {
            return "function" == typeof e ? e : null == e ? o : "object" == typeof e ? s(e) ? a(e[0], e[1]) : i(e) : l(e)
        }
        var i = n(123),
            a = n(157),
            o = n(25),
            s = n(41),
            l = n(159);
        e.exports = r
    }, function(e, t, n) {
        function r(e) {
            var t = a(e);
            return 1 == t.length && t[0][2] ? o(t[0][0], t[0][1]) : function(n) {
                return n === e || i(n, e, t)
            }
        }
        var i = n(124),
            a = n(154),
            o = n(156);
        e.exports = r
    }, function(e, t, n) {
        function r(e, t, n, r) {
            var l = n.length,
                u = l,
                c = !r;
            if (null == e) return !u;
            for (e = Object(e); l--;) {
                var d = n[l];
                if (c && d[2] ? d[1] !== e[d[0]] : !(d[0] in e)) return !1
            }
            for (; ++l < u;) {
                d = n[l];
                var f = d[0],
                    p = e[f],
                    _ = d[1];
                if (c && d[2]) {
                    if (void 0 === p && !(f in e)) return !1
                } else {
                    var h = new i;
                    if (r) var m = r(p, _, f, e, t, h);
                    if (!(void 0 === m ? a(_, p, o | s, r, h) : m)) return !1
                }
            }
            return !0
        }
        var i = n(125),
            a = n(131),
            o = 1,
            s = 2;
        e.exports = r
    }, function(e, t, n) {
        function r(e) {
            var t = this.__data__ = new i(e);
            this.size = t.size
        }
        var i = n(88),
            a = n(126),
            o = n(127),
            s = n(128),
            l = n(129),
            u = n(130);
        r.prototype.clear = a, r.prototype.delete = o, r.prototype.get = s, r.prototype.has = l, r.prototype.set = u, e.exports = r
    }, function(e, t, n) {
        function r() {
            this.__data__ = new i, this.size = 0
        }
        var i = n(88);
        e.exports = r
    }, function(e, t) {
        function n(e) {
            var t = this.__data__,
                n = t.delete(e);
            return this.size = t.size, n
        }
        e.exports = n
    }, function(e, t) {
        function n(e) {
            return this.__data__.get(e)
        }
        e.exports = n
    }, function(e, t) {
        function n(e) {
            return this.__data__.has(e)
        }
        e.exports = n
    }, function(e, t, n) {
        function r(e, t) {
            var n = this.__data__;
            if (n instanceof i) {
                var r = n.__data__;
                if (!a || r.length < s - 1) return r.push([e, t]), this.size = ++n.size, this;
                n = this.__data__ = new o(r)
            }
            return n.set(e, t), this.size = n.size, this
        }
        var i = n(88),
            a = n(95),
            o = n(79),
            s = 200;
        e.exports = r
    }, function(e, t, n) {
        function r(e, t, n, o, s) {
            return e === t || (null == e || null == t || !a(e) && !a(t) ? e !== e && t !== t : i(e, t, n, o, r, s))
        }
        var i = n(132),
            a = n(40);
        e.exports = r
    }, function(e, t, n) {
        function r(e, t, n, r, m, y) {
            var g = u(e),
                E = u(t),
                b = g ? _ : l(e),
                T = E ? _ : l(t);
            b = b == p ? h : b, T = T == p ? h : T;
            var S = b == h,
                A = T == h,
                C = b == T;
            if (C && c(e)) {
                if (!c(t)) return !1;
                g = !0, S = !1
            }
            if (C && !S) return y || (y = new i), g || d(e) ? a(e, t, n, r, m, y) : o(e, t, b, n, r, m, y);
            if (!(n & f)) {
                var P = S && v.call(e, "__wrapped__"),
                    O = A && v.call(t, "__wrapped__");
                if (P || O) {
                    var w = P ? e.value() : e,
                        k = O ? t.value() : t;
                    return y || (y = new i), m(w, k, n, r, y)
                }
            }
            return !!C && (y || (y = new i), s(e, t, n, r, m, y))
        }
        var i = n(125),
            a = n(133),
            o = n(139),
            s = n(143),
            l = n(149),
            u = n(41),
            c = n(42),
            d = n(45),
            f = 1,
            p = "[object Arguments]",
            _ = "[object Array]",
            h = "[object Object]",
            m = Object.prototype,
            v = m.hasOwnProperty;
        e.exports = r
    }, function(e, t, n) {
        function r(e, t, n, r, u, c) {
            var d = n & s,
                f = e.length,
                p = t.length;
            if (f != p && !(d && p > f)) return !1;
            var _ = c.get(e);
            if (_ && c.get(t)) return _ == t;
            var h = -1,
                m = !0,
                v = n & l ? new i : void 0;
            for (c.set(e, t), c.set(t, e); ++h < f;) {
                var y = e[h],
                    g = t[h];
                if (r) var E = d ? r(g, y, h, t, e, c) : r(y, g, h, e, t, c);
                if (void 0 !== E) {
                    if (E) continue;
                    m = !1;
                    break
                }
                if (v) {
                    if (!a(t, function(e, t) {
                            if (!o(v, t) && (y === e || u(y, e, n, r, c))) return v.push(t)
                        })) {
                        m = !1;
                        break
                    }
                } else if (y !== g && !u(y, g, n, r, c)) {
                    m = !1;
                    break
                }
            }
            return c.delete(e), c.delete(t), m
        }
        var i = n(134),
            a = n(137),
            o = n(138),
            s = 1,
            l = 2;
        e.exports = r
    }, function(e, t, n) {
        function r(e) {
            var t = -1,
                n = null == e ? 0 : e.length;
            for (this.__data__ = new i; ++t < n;) this.add(e[t])
        }
        var i = n(79),
            a = n(135),
            o = n(136);
        r.prototype.add = r.prototype.push = a, r.prototype.has = o, e.exports = r
    }, function(e, t) {
        function n(e) {
            return this.__data__.set(e, r), this
        }
        var r = "__lodash_hash_undefined__";
        e.exports = n
    }, function(e, t) {
        function n(e) {
            return this.__data__.has(e)
        }
        e.exports = n
    }, function(e, t) {
        function n(e, t) {
            for (var n = -1, r = null == e ? 0 : e.length; ++n < r;)
                if (t(e[n], n, e)) return !0;
            return !1
        }
        e.exports = n
    }, function(e, t) {
        function n(e, t) {
            return e.has(t)
        }
        e.exports = n
    }, function(e, t, n) {
        function r(e, t, n, r, i, S, C) {
            switch (n) {
                case T:
                    if (e.byteLength != t.byteLength || e.byteOffset != t.byteOffset) return !1;
                    e = e.buffer, t = t.buffer;
                case b:
                    return !(e.byteLength != t.byteLength || !S(new a(e), new a(t)));
                case f:
                case p:
                case m:
                    return o(+e, +t);
                case _:
                    return e.name == t.name && e.message == t.message;
                case v:
                case g:
                    return e == t + "";
                case h:
                    var P = l;
                case y:
                    var O = r & c;
                    if (P || (P = u), e.size != t.size && !O) return !1;
                    var w = C.get(e);
                    if (w) return w == t;
                    r |= d, C.set(e, t);
                    var k = s(P(e), P(t), r, i, S, C);
                    return C.delete(e), k;
                case E:
                    if (A) return A.call(e) == A.call(t)
            }
            return !1
        }
        var i = n(12),
            a = n(140),
            o = n(22),
            s = n(133),
            l = n(141),
            u = n(142),
            c = 1,
            d = 2,
            f = "[object Boolean]",
            p = "[object Date]",
            _ = "[object Error]",
            h = "[object Map]",
            m = "[object Number]",
            v = "[object RegExp]",
            y = "[object Set]",
            g = "[object String]",
            E = "[object Symbol]",
            b = "[object ArrayBuffer]",
            T = "[object DataView]",
            S = i ? i.prototype : void 0,
            A = S ? S.valueOf : void 0;
        e.exports = r
    }, function(e, t, n) {
        var r = n(13),
            i = r.Uint8Array;
        e.exports = i
    }, function(e, t) {
        function n(e) {
            var t = -1,
                n = Array(e.size);
            return e.forEach(function(e, r) {
                n[++t] = [r, e]
            }), n
        }
        e.exports = n
    }, function(e, t) {
        function n(e) {
            var t = -1,
                n = Array(e.size);
            return e.forEach(function(e) {
                n[++t] = e
            }), n
        }
        e.exports = n
    }, function(e, t, n) {
        function r(e, t, n, r, o, l) {
            var u = n & a,
                c = i(e),
                d = c.length,
                f = i(t),
                p = f.length;
            if (d != p && !u) return !1;
            for (var _ = d; _--;) {
                var h = c[_];
                if (!(u ? h in t : s.call(t, h))) return !1
            }
            var m = l.get(e);
            if (m && l.get(t)) return m == t;
            var v = !0;
            l.set(e, t), l.set(t, e);
            for (var y = u; ++_ < d;) {
                h = c[_];
                var g = e[h],
                    E = t[h];
                if (r) var b = u ? r(E, g, h, t, e, l) : r(g, E, h, e, t, l);
                if (!(void 0 === b ? g === E || o(g, E, n, r, l) : b)) {
                    v = !1;
                    break
                }
                y || (y = "constructor" == h)
            }
            if (v && !y) {
                var T = e.constructor,
                    S = t.constructor;
                T != S && "constructor" in e && "constructor" in t && !("function" == typeof T && T instanceof T && "function" == typeof S && S instanceof S) && (v = !1)
            }
            return l.delete(e), l.delete(t), v
        }
        var i = n(144),
            a = 1,
            o = Object.prototype,
            s = o.hasOwnProperty;
        e.exports = r
    }, function(e, t, n) {
        function r(e) {
            return i(e, o, a)
        }
        var i = n(145),
            a = n(146),
            o = n(66);
        e.exports = r
    }, function(e, t, n) {
        function r(e, t, n) {
            var r = t(e);
            return a(e) ? r : i(r, n(e))
        }
        var i = n(112),
            a = n(41);
        e.exports = r
    }, function(e, t, n) {
        var r = n(147),
            i = n(148),
            a = Object.prototype,
            o = a.propertyIsEnumerable,
            s = Object.getOwnPropertySymbols,
            l = s ? function(e) {
                return null == e ? [] : (e = Object(e), r(s(e), function(t) {
                    return o.call(e, t)
                }))
            } : i;
        e.exports = l
    }, function(e, t) {
        function n(e, t) {
            for (var n = -1, r = null == e ? 0 : e.length, i = 0, a = []; ++n < r;) {
                var o = e[n];
                t(o, n, e) && (a[i++] = o)
            }
            return a
        }
        e.exports = n
    }, function(e, t) {
        function n() {
            return []
        }
        e.exports = n
    }, function(e, t, n) {
        var r = n(150),
            i = n(95),
            a = n(151),
            o = n(152),
            s = n(153),
            l = n(11),
            u = n(20),
            c = "[object Map]",
            d = "[object Object]",
            f = "[object Promise]",
            p = "[object Set]",
            _ = "[object WeakMap]",
            h = "[object DataView]",
            m = u(r),
            v = u(i),
            y = u(a),
            g = u(o),
            E = u(s),
            b = l;
        (r && b(new r(new ArrayBuffer(1))) != h || i && b(new i) != c || a && b(a.resolve()) != f || o && b(new o) != p || s && b(new s) != _) && (b = function(e) {
            var t = l(e),
                n = t == d ? e.constructor : void 0,
                r = n ? u(n) : "";
            if (r) switch (r) {
                case m:
                    return h;
                case v:
                    return c;
                case y:
                    return f;
                case g:
                    return p;
                case E:
                    return _
            }
            return t
        }), e.exports = b
    }, function(e, t, n) {
        var r = n(8),
            i = n(13),
            a = r(i, "DataView");
        e.exports = a
    }, function(e, t, n) {
        var r = n(8),
            i = n(13),
            a = r(i, "Promise");
        e.exports = a
    }, function(e, t, n) {
        var r = n(8),
            i = n(13),
            a = r(i, "Set");
        e.exports = a
    }, function(e, t, n) {
        var r = n(8),
            i = n(13),
            a = r(i, "WeakMap");
        e.exports = a
    }, function(e, t, n) {
        function r(e) {
            for (var t = a(e), n = t.length; n--;) {
                var r = t[n],
                    o = e[r];
                t[n] = [r, o, i(o)]
            }
            return t
        }
        var i = n(155),
            a = n(66);
        e.exports = r
    }, function(e, t, n) {
        function r(e) {
            return e === e && !i(e)
        }
        var i = n(17);
        e.exports = r
    }, function(e, t) {
        function n(e, t) {
            return function(n) {
                return null != n && (n[e] === t && (void 0 !== t || e in Object(n)))
            }
        }
        e.exports = n
    }, function(e, t, n) {
        function r(e, t) {
            return s(e) && l(t) ? u(c(e), t) : function(n) {
                var r = a(n, e);
                return void 0 === r && r === t ? o(n, e) : i(t, r, d | f)
            }
        }
        var i = n(131),
            a = n(158),
            o = n(106),
            s = n(75),
            l = n(155),
            u = n(156),
            c = n(104),
            d = 1,
            f = 2;
        e.exports = r
    }, function(e, t, n) {
        function r(e, t, n) {
            var r = null == e ? void 0 : i(e, t);
            return void 0 === r ? n : r
        }
        var i = n(73);
        e.exports = r
    }, function(e, t, n) {
        function r(e) {
            return o(e) ? i(s(e)) : a(e)
        }
        var i = n(160),
            a = n(161),
            o = n(75),
            s = n(104);
        e.exports = r
    }, function(e, t) {
        function n(e) {
            return function(t) {
                return null == t ? void 0 : t[e]
            }
        }
        e.exports = n
    }, function(e, t, n) {
        function r(e) {
            return function(t) {
                return i(t, e)
            }
        }
        var i = n(73);
        e.exports = r
    }, function(e, t, n) {
        function r(e, t, n) {
            var r = null == e ? 0 : e.length;
            if (!r) return -1;
            var l = null == n ? 0 : o(n);
            return l < 0 && (l = s(r + l, 0)), i(e, a(t, 3), l)
        }
        var i = n(55),
            a = n(122),
            o = n(59),
            s = Math.max;
        e.exports = r
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i() {
            this.initialDelay = Math.round(6e4 * Math.random()), this._remainingDelay = this.initialDelay, this._timeout = null, this._timeoutStart = null, this.totalMinutes = 0, this._events = new o.default
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.EVENT_MINUTE = void 0, t.MinutesWatched = i;
        var a = n(164),
            o = r(a),
            s = t.EVENT_MINUTE = "minute";
        i.EVENT_INTERVAL = 6e4, i.MAX_DRIFT = 1e4, i.prototype.start = function() {
            null === this._timeout && this._scheduleTick()
        }, i.prototype.stop = function() {
            null !== this._timeout && (clearTimeout(this._timeout), this._timeout = null, this._tick())
        }, i.prototype.reset = function() {
            this.stop(), this._remainingDelay = i.EVENT_INTERVAL
        }, i.prototype.on = function(e, t) {
            this._events.on(e, t)
        }, i.prototype.off = function(e, t) {
            this._events.off(e, t)
        }, i.prototype.destroy = function() {
            clearTimeout(this._timeout), this._events.removeAllListeners()
        }, i.prototype._tick = function() {
            var e = (new Date).getTime(),
                t = e - this._timeoutStart;
            for (this._remainingDelay -= t, this._remainingDelay <= -i.MAX_DRIFT && (this._remainingDelay = 0), this._remainingDelay >= i.EVENT_INTERVAL + i.MAX_DRIFT && (this._remainingDelay = 0); this._remainingDelay <= 0;) this._remainingDelay += i.EVENT_INTERVAL, this.totalMinutes += 1, setTimeout(this._events.emit.bind(this._events, s), 0)
        }, i.prototype._scheduleTick = function() {
            this._timeoutStart = (new Date).getTime();
            var e = this;
            this._timeout = setTimeout(function() {
                e._tick(), e._scheduleTick()
            }, this._remainingDelay)
        }
    }, , function(e, t) {
        "use strict";

        function n(e) {
            this._host = e.host
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.CountessTracker = n, n.prototype._trackEvent = function(e) {
            var t = new Image;
            t.src = e
        }, n.prototype.trackVODView = function(e) {
            this._trackEvent(e.increment_view_count_url)
        }, n.prototype.trackView = function(e, t) {
            var n = {
                    type: e,
                    id: t
                },
                r = {
                    u: JSON.stringify(n)
                },
                i = this._host + "/ping.gif?" + $.param(r);
            this._trackEvent(i)
        }
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            if (e && e.__esModule) return e;
            var t = {};
            if (null != e)
                for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
            return t.default = e, t
        }

        function i(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function a(e) {
            var t = 4294967295,
                n = 0;
            return function(r) {
                return u.v3(r, n) / t <= e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.LatencyTracker = void 0;
        var o = function() {
            function e(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                }
            }
            return function(t, n, r) {
                return n && e(t.prototype, n), r && e(t, r), t
            }
        }();
        t.murmurSegmentSampler = a;
        var s = n(167),
            l = n(226),
            u = r(l),
            c = n(178),
            d = r(c);
        t.LatencyTracker = function() {
            function e(t, n, r, o) {
                i(this, e), this._analytics = t, this._sample = a(n), this._player = r, this._store = o, r.addEventListener(d.SEGMENT_CHANGE, this._onSegmentChange.bind(this))
            }
            return o(e, [{
                key: "_segmentName",
                value: function(e) {
                    var t = this._store.getState(),
                        n = t.stream,
                        r = t.quality,
                        i = n.contentType === s.CONTENT_MODE_LIVE ? n.channel.toLowerCase() : "",
                        a = r.current;
                    return i + "," + a + "," + e
                }
            }, {
                key: "_onSegmentChange",
                value: function(e) {
                    var t = this._segmentName(e.name);
                    this._sample(t) && this._store.getState().stream.contentType === s.CONTENT_MODE_LIVE && this._analytics.trackEvent("latency_report_playback", {
                        segment: t,
                        broadcaster_send: e.broadcaster_send,
                        ingest_receive: e.ingest_receive,
                        ingest_send: e.ingest_send,
                        transcode_receive: e.transcode_receive,
                        transcode_send: e.transcode_send,
                        playback_start: e.playback_start
                    })
                }
            }]), e
        }()
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function a(e, t) {
            if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !t || "object" != typeof t && "function" != typeof t ? e : t
        }

        function o(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.LiveContentStream = t.CONTENT_MODE_LIVE = void 0;
        var s = function() {
                function e(e, t) {
                    var n = [],
                        r = !0,
                        i = !1,
                        a = void 0;
                    try {
                        for (var o, s = e[Symbol.iterator](); !(r = (o = s.next()).done) && (n.push(o.value), !t || n.length !== t); r = !0);
                    } catch (e) {
                        i = !0, a = e
                    } finally {
                        try {
                            !r && s.return && s.return()
                        } finally {
                            if (i) throw a
                        }
                    }
                    return n
                }
                return function(t, n) {
                    if (Array.isArray(t)) return t;
                    if (Symbol.iterator in Object(t)) return e(t, n);
                    throw new TypeError("Invalid attempt to destructure non-iterable instance")
                }
            }(),
            l = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            u = n(117),
            c = r(u),
            d = n(118),
            f = r(d),
            p = n(168),
            _ = n(221),
            h = n(222),
            m = t.CONTENT_MODE_LIVE = "live";
        t.LiveContentStream = function(e) {
            function t(e, n, r, o, s) {
                i(this, t);
                var l = a(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments));
                return l._channelName = e, l
            }
            return o(t, e), l(t, [{
                key: "_fetchAccessToken",
                value: function(e, t, n) {
                    return (0, _.fetchChannelAccessToken)(e, t, n)
                }
            }, {
                key: "_buildUsherParams",
                value: function(e) {
                    return (0, f.default)({
                        token: e.token,
                        sig: e.sig,
                        allow_source: !0
                    }, this._usherParams)
                }
            }, {
                key: "contentType",
                get: function() {
                    return m
                }
            }, {
                key: "channel",
                get: function() {
                    return this._channelName
                }
            }, {
                key: "_baseStreamUrl",
                get: function() {
                    return p.usherHost + "/api/channel/hls/" + this._channelName.toLowerCase() + ".m3u8"
                }
            }, {
                key: "streamUrl",
                get: function() {
                    var e = this;
                    return Promise.all([this.accessToken, this._commonExperimentParams(), this._experimentSettings.transcode]).then(function(t) {
                        var n = s(t, 3),
                            r = n[0],
                            i = n[1],
                            a = n[2],
                            o = e._buildUsherParams(r);
                        return o.expgroup = a, (0, c.default)(o, i), p.usherHost + "/api/channel/hls/" + e._channelName.toLowerCase() + ".m3u8?" + $.param(o)
                    })
                }
            }]), t
        }(h.AbstractStream)
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            if (e && e.__esModule) return e;
            var t = {};
            if (null != e)
                for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
            return t.default = e, t
        }

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.resumewatchingHost = t.httpsQualityCarryover = t.livestreamResumePushback = t.cancelResumeAmount = t.hotkeySeekAmount = t.defaultLanguage = t.leaveDialog = t.imaNetworkID = t.doubleClickLiveUrl = t.doubleClickVODUrl = t.flashTimeout = t.volumeStepAmount = t.embedParameters = t.mutedSegmentsMessage = t.chromecastStates = t.debugIgnoreEvents = t.allEvents = t.customEvents = t.mediaEvents = t.reportHideDelay = t.hoverControlsDelay = t.initialControlsDelay = t.qualityChangeDuration = t.qualityText = t.bufferPollDelay = t.chromecastId = t.popoutSize = t.gamePath = t.countessHost = t.spadeIgnore = t.untrustedSpadeHost = t.mixpanelIgnore = t.mixpanelToken = t.mixpanelHost = t.apiTimeout = t.playerHost = t.valveApiHost = t.usherHost = t.apiHost = t.twitchHost = t.domain = t.DEFAULT_AVATAR_URL = t.TWITCH_SIGNUP_URL = void 0;
        var a = n(169),
            o = i(a),
            s = n(176),
            l = n(177),
            u = r(l),
            c = n(178),
            d = r(c),
            f = n(179),
            p = r(f),
            _ = n(180),
            h = n(186),
            m = "testplayer.twitch.tv",
            v = (t.TWITCH_SIGNUP_URL = "https://www.twitch.tv/signup", t.DEFAULT_AVATAR_URL = "https://static-cdn.jtvnw.net/jtv_user_pictures/xarth/404_user_70x70.png", t.domain = "twitch.tv", t.twitchHost = "//www.twitch.tv"),
            y = t.apiHost = "https://api.twitch.tv",
            g = (t.usherHost = "https://usher.ttvnw.net", t.valveApiHost = y + "/steam/watching", t.playerHost = function() {
                var e = document.currentScript,
                    t = document.getElementsByTagName("script");
                if (!e) {
                    var n = Array.prototype.filter.call(t, function(e) {
                        return e.src && e.src.match(/player(?:\.\w+)?\.js$/i)
                    });
                    e = 1 === n.length ? n[0] : t[t.length - 1]
                }
                var r = (0, s.parseUri)(e.src);
                if (r.authority === m) {
                    var i = r.path.split("/").slice(1, -2).join("/");
                    return r.protocol + "://" + r.authority + "/" + i
                }
                return r.protocol + "://" + r.authority
            }(), t.apiTimeout = 1e4, t.mixpanelHost = "//api.mixpanel.com", t.mixpanelToken = "809576468572134f909dffa6bd0dcfcf", t.mixpanelIgnore = ["abs_stream_format_change", "minute-buffered", "x_untrusted_video_init", "x_untrusted_video-play", "x_untrusted_minute-watched", "x_untrusted_buffer-empty", "x_untrusted_buffer-refill", "network_profile", "video_pause"], t.untrustedSpadeHost = "//spade.twitch.tv", t.spadeIgnore = [], t.countessHost = "//countess.twitch.tv", t.gamePath = v + "/directory/game", t.popoutSize = {
                width: 853,
                height: 480
            }, t.chromecastId = "358E83DC", t.bufferPollDelay = 1e3, t.qualityText = {
                chunked: "Source",
                high: "High",
                medium: "Medium",
                low: "Low",
                mobile: "Mobile",
                auto: "Auto"
            }, t.qualityChangeDuration = 6e3, t.initialControlsDelay = 8e3, t.hoverControlsDelay = 5e3, t.reportHideDelay = 2e3, t.mediaEvents = [p.LOADSTART, p.PROGRESS, p.SUSPEND, p.ABORT, p.ERROR, p.EMPTIED, p.STALLED, p.LOADED_METADATA, p.LOADED_DATA, p.CAN_PLAY, p.CAN_PLAY_THROUGH, p.PLAYING, p.WAITING, p.SEEKING, p.SEEKED, p.ENDED, p.DURATION_CHANGE, p.TIME_UPDATE, p.PLAY, p.PAUSE, p.VOLUME_CHANGE, p.RATE_CHANGE]),
            E = t.customEvents = ["usherfail", u.AD_END, u.AD_START, u.COMPANION_RENDERED, u.AD_IMPRESSION, u.AD_IMPRESSION_COMPLETE, _.FULLSCREEN_CHANGE, d.BUFFER_CHANGE, d.CAPTION_UPDATE, d.CASTING_CHANGE, d.MANIFEST_EXTRA_INFO, d.OFFLINE, d.ONLINE, d.PLAYER_INIT, d.CONTENT_SHOWING, d.OPEN_STREAM, d.QUALITIES_CHANGE, d.QUALITY_CHANGE, d.RESTRICTED, d.SEGMENT_CHANGE, d.THEATRE_CHANGE, d.TRANSITION_TO_COLLECTION_VOD, d.TRANSITION_TO_RECOMMENDED_VOD, d.VIEWERS_CHANGE, d.ABS_STREAM_FORMAT_CHANGE, d.PERSISTENT_PLAYER_TOGGLE, d.STATS_UPDATE, d.PROMPT_LOGIN_MODAL];
        t.allEvents = (0, o.default)(g, E), t.debugIgnoreEvents = [p.TIME_UPDATE, d.BUFFER_CHANGE], t.chromecastStates = [h.CHROMECAST_UNAVAILABLE, h.CHROMECAST_AVAILABLE, h.CHROMECAST_CONNECTING, h.CHROMECAST_CONNECTED, p.ERROR], t.mutedSegmentsMessage = "Audio for portions of this video has been muted as it appears to contain copyrighted content owned or controlled by a third party.", t.embedParameters = Object.freeze(["channel", "video", "collection", "muted", "autoplay", "time", "t", "debug", "debug_ads", "html5", "flash", "quality", "controls", "devcaptions", "playsinline", "stream", "channelId", "tt_content", "tt_medium"]), t.volumeStepAmount = .1, t.flashTimeout = 5e3, t.doubleClickVODUrl = "//pubads.g.doubleclick.net/gampad/ads", t.doubleClickLiveUrl = "//pubads.g.doubleclick.net/gampad/live/ads", t.imaNetworkID = "3576121", t.leaveDialog = {
            enabled: !1,
            sinceEnded: 45,
            viewerThreshold: 5e4,
            text: "Don't panicBasket. The broadcast is down, but don't refresh just yet. When the broadcast is back, the player will automatically reload for you.",
            refreshTimeout: 20,
            warningDuration: 45
        }, t.defaultLanguage = "en-US", t.hotkeySeekAmount = 5, t.cancelResumeAmount = 120, t.livestreamResumePushback = 30, t.httpsQualityCarryover = new Date(2016, 3, 30), t.resumewatchingHost = y + "/api/resumewatching/"
    }, function(e, t, n) {
        var r = n(111),
            i = n(24),
            a = n(170),
            o = n(175),
            s = i(function(e) {
                return a(r(e, 1, o, !0))
            });
        e.exports = s
    }, function(e, t, n) {
        function r(e, t, n) {
            var r = -1,
                d = a,
                f = e.length,
                p = !0,
                _ = [],
                h = _;
            if (n) p = !1, d = o;
            else if (f >= c) {
                var m = t ? null : l(e);
                if (m) return u(m);
                p = !1, d = s, h = new i
            } else h = t ? [] : _;
            e: for (; ++r < f;) {
                var v = e[r],
                    y = t ? t(v) : v;
                if (v = n || 0 !== v ? v : 0, p && y === y) {
                    for (var g = h.length; g--;)
                        if (h[g] === y) continue e;
                    t && h.push(y), _.push(v)
                } else d(h, y, n) || (h !== _ && h.push(y), _.push(v))
            }
            return _
        }
        var i = n(134),
            a = n(171),
            o = n(172),
            s = n(138),
            l = n(173),
            u = n(142),
            c = 200;
        e.exports = r
    }, function(e, t, n) {
        function r(e, t) {
            var n = null == e ? 0 : e.length;
            return !!n && i(e, t, 0) > -1
        }
        var i = n(54);
        e.exports = r
    }, function(e, t) {
        function n(e, t, n) {
            for (var r = -1, i = null == e ? 0 : e.length; ++r < i;)
                if (n(t, e[r])) return !0;
            return !1
        }
        e.exports = n
    }, function(e, t, n) {
        var r = n(152),
            i = n(174),
            a = n(142),
            o = 1 / 0,
            s = r && 1 / a(new r([, -0]))[1] == o ? function(e) {
                return new r(e)
            } : i;
        e.exports = s
    }, function(e, t) {
        function n() {}
        e.exports = n
    }, function(e, t, n) {
        function r(e) {
            return a(e) && i(e)
        }
        var i = n(32),
            a = n(40);
        e.exports = r
    }, function(e, t) {
        "use strict";

        function n(e) {
            for (var t = {
                    strictMode: !1,
                    key: ["source", "protocol", "authority", "userInfo", "user", "password", "host", "port", "relative", "path", "directory", "file", "query", "anchor"],
                    q: {
                        name: "queryKey",
                        parser: /(?:^|&)([^&=]*)=?([^&]*)/g
                    },
                    parser: {
                        strict: /^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,
                        loose: /^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/
                    }
                }, n = t.parser[t.strictMode ? "strict" : "loose"].exec(e), r = {}, i = 14; i--;) r[t.key[i]] = n[i] || "";
            return r[t.q.name] = {}, r[t.key[12]].replace(t.q.parser, function(e, n, i) {
                n && (r[t.q.name][n] = i)
            }), r
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.parseUri = n
    }, function(e, t) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        t.AD_START = "adstart", t.AD_END = "adend", t.COMPANION_RENDERED = "adcompanionrendered", t.AD_IMPRESSION = "adImpression", t.AD_IMPRESSION_COMPLETE = "adImpressionComplete", t.AD_SKIPPED = "adSkipped"
    }, function(e, t) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        t.PLAYER_INIT = "init", t.CONTENT_SHOWING = "contentShowing", t.PLAYBACK_STATISTICS = "playbackStatistics", t.CHANSUB_REQUIRED = "chansubRequired", t.VIDEO_FAILURE = "videoFailure", t.FORMATS = "videoFormats", t.ABS_STREAM_FORMAT_CHANGE = "abs_stream_format_change", t.FORMAT_CHANGED = "videoFormatChanged", t.TIME_CHANGE = "timeChange", t.BUFFER_CHANGE = "bufferChange", t.SEGMENT_CHANGE = "segmentchange", t.USHER_FAIL_ERROR = "usherFail", t.CAPTION_UPDATE = "captions", t.SEEK_FAILED = "seekfailed", t.VARIANT_SWITCH_REQUESTED = "variantSwitchRequested", t.VIEWER_COUNT = "viewerCount", t.VIEWERS_CHANGE = "viewerschange", t.STREAM_LOADED = "streamLoaded", t.VIDEO_LOADED = "videoLoaded", t.VIDEO_PAUSED = "videoPaused", t.QUALITIES_CHANGE = "qualitieschange", t.QUALITY_CHANGE = "qualitychange", t.ONLINE = "online", t.OFFLINE = "offline", t.RESTRICTED = "restricted", t.CASTING_CHANGE = "castingchange", t.THEATRE_CHANGE = "theatrechange", t.MIDROLL_REQUESTED = "midrollrequested", t.MANIFEST_EXTRA_INFO = "manifestExtraInfo", t.TRANSITION_TO_COLLECTION_VOD = "transitionToCollectionVod", t.TRANSITION_TO_RECOMMENDED_VOD = "transitionToRecommendedVod", t.STITCHED_AD_START = "stitchedadstart", t.STITCHED_AD_END = "stitchedadend", t.PERSISTENT_PLAYER_TOGGLE = "persistentPlayerEnableToggle", t.STATS_UPDATE = "statsupdate", t.PROMPT_LOGIN_MODAL = "prompt login modal", t.OPEN_STREAM = "openStream"
    }, function(e, t) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        t.LOADSTART = "loadstart", t.PROGRESS = "progress", t.SUSPEND = "suspend", t.ABORT = "abort", t.ERROR = "error", t.EMPTIED = "emptied", t.STALLED = "stalled", t.LOADED_METADATA = "loadedmetadata", t.LOADED_DATA = "loadeddata", t.CAN_PLAY = "canplay", t.CAN_PLAY_THROUGH = "canplaythrough", t.PLAYING = "playing", t.WAITING = "waiting", t.SEEKING = "seeking", t.SEEKED = "seeked", t.ENDED = "ended", t.DURATION_CHANGE = "durationchange", t.TIME_UPDATE = "timeupdate", t.PLAY = "play", t.PAUSE = "pause", t.VOLUME_CHANGE = "volumechange", t.RATE_CHANGE = "ratechange"
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.FullScreen = t.FULLSCREEN_CHANGE = void 0;
        var a = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            o = n(181),
            s = r(o),
            l = n(182),
            u = n(183),
            c = n(185);
        t.FULLSCREEN_CHANGE = "fullscreenchange", t.FullScreen = function() {
            function e(t, n) {
                var r = this;
                i(this, e), this._store = n, this._root = t, this._store.dispatch((0, l.setCanFullScreen)(this.canFullScreen())), (0, u.subscribe)(this._store, ["screenMode.isFullScreen"], function(e) {
                    var t = e.screenMode;
                    r.setFullScreen(t.isFullScreen)
                })
            }
            return a(e, [{
                key: "canFullScreen",
                value: function() {
                    return s.default.enabled || this._checkWebkitFullscreen()
                }
            }, {
                key: "_checkWebkitFullscreen",
                value: function() {
                    var e = this._root.getElementsByTagName("video").item(0);
                    return !!e && (e.webkitSupportsFullscreen || !1)
                }
            }, {
                key: "isFullScreen",
                value: function() {
                    return s.default.element === this._root
                }
            }, {
                key: "setFullScreen",
                value: function(e) {
                    if (this.canFullScreen() && this.isFullScreen() !== e) {
                        var t = this._onFullScreenChange.bind(this);
                        s.default.toggle(this._root, t, t)
                    }
                }
            }, {
                key: "_onFullScreenChange",
                value: function() {
                    this._store.dispatch((0, c.emitFullscreenChange)()), this._store.dispatch((0, l.setFullScreen)(this.isFullScreen()))
                }
            }]), e
        }()
    }, function(e, t, n) {
        var r;
        /*! BigScreen
         * v2.0.5 - 2015-05-02
         * 
         * Copyright 2015 Brad Dougherty <me@brad.is>; MIT License
         */
        ! function(i, a, o) {
            "use strict";

            function s(e) {
                var t = null;
                if ("VIDEO" === e.tagName) t = e;
                else {
                    var n = e.getElementsByTagName("video");
                    n[0] && (t = n[0])
                }
                return t
            }

            function l(e) {
                var t = s(e);
                if (t && t.webkitEnterFullscreen) {
                    try {
                        t.readyState < t.HAVE_METADATA ? (t.addEventListener("loadedmetadata", function e() {
                            t.removeEventListener("loadedmetadata", e, !1), t.webkitEnterFullscreen(), h = !!t.getAttribute("controls")
                        }, !1), t.load()) : (t.webkitEnterFullscreen(), h = !!t.getAttribute("controls")), _ = t
                    } catch (t) {
                        return b("not_supported", e)
                    }
                    return !0
                }
                return b(void 0 === p.request ? "not_supported" : "not_enabled", e)
            }

            function u() {
                T.element || (E(), d())
            }

            function c() {
                o && "webkitfullscreenchange" === p.change && window.addEventListener("resize", u, !1)
            }

            function d() {
                o && "webkitfullscreenchange" === p.change && window.removeEventListener("resize", u, !1)
            }
            var f = /i(Pad|Phone|Pod)/.test(navigator.userAgent) && parseInt(navigator.userAgent.replace(/^.*OS (\d+)_(\d+).*$/, "$1.$2"), 10) >= 7,
                p = function() {
                    var e = a.createElement("video"),
                        t = {
                            request: ["requestFullscreen", "webkitRequestFullscreen", "webkitRequestFullScreen", "mozRequestFullScreen", "msRequestFullscreen"],
                            exit: ["exitFullscreen", "webkitCancelFullScreen", "webkitExitFullscreen", "mozCancelFullScreen", "msExitFullscreen"],
                            enabled: ["fullscreenEnabled", "webkitFullscreenEnabled", "mozFullScreenEnabled", "msFullscreenEnabled"],
                            element: ["fullscreenElement", "webkitFullscreenElement", "webkitCurrentFullScreenElement", "mozFullScreenElement", "msFullscreenElement"],
                            change: ["fullscreenchange", "webkitfullscreenchange", "mozfullscreenchange", "MSFullscreenChange"],
                            error: ["fullscreenerror", "webkitfullscreenerror", "mozfullscreenerror", "MSFullscreenError"]
                        },
                        n = {};
                    for (var r in t)
                        for (var i = 0, o = t[r].length; i < o; i++)
                            if (t[r][i] in e || t[r][i] in a || "on" + t[r][i].toLowerCase() in a) {
                                n[r] = t[r][i];
                                break
                            }
                    return n
                }(),
                _ = null,
                h = null,
                m = function() {},
                v = [],
                y = !1;
            navigator.userAgent.indexOf("Android") > -1 && navigator.userAgent.indexOf("Chrome") > -1 && (y = parseInt(navigator.userAgent.replace(/^.*Chrome\/(\d+).*$/, "$1"), 10) || !0);
            var g = function(e) {
                    var t = v[v.length - 1];
                    t && (e !== t.element && e !== _ || !t.hasEntered) && ("VIDEO" === e.tagName && (_ = e), 1 === v.length && T.onenter(T.element), t.enter.call(t.element, e || t.element), t.hasEntered = !0)
                },
                E = function() {
                    !_ || h || f || (_.setAttribute("controls", "controls"), _.removeAttribute("controls")), _ = null, h = null;
                    var e = v.pop();
                    e && (e.exit.call(e.element), T.element || (v.forEach(function(e) {
                        e.exit.call(e.element)
                    }), v = [], T.onexit()))
                },
                b = function(e, t) {
                    if (v.length > 0) {
                        var n = v.pop();
                        t = t || n.element, n.error.call(t, e), T.onerror(t, e)
                    }
                },
                T = {
                    request: function(e, t, n, r) {
                        if (e = e || a.body, v.push({
                                element: e,
                                enter: t || m,
                                exit: n || m,
                                error: r || m
                            }), void 0 === p.request) return void l(e);
                        if (o && a[p.enabled] === !1) return void l(e);
                        if (y !== !1 && y < 32) return void l(e);
                        if (o && void 0 === p.enabled) return p.enabled = "webkitFullscreenEnabled", e[p.request](), void setTimeout(function() {
                            a[p.element] ? a[p.enabled] = !0 : (a[p.enabled] = !1, l(e))
                        }, 250);
                        try {
                            e[p.request](), setTimeout(function() {
                                a[p.element] || b(o ? "not_enabled" : "not_allowed", e)
                            }, 100)
                        } catch (t) {
                            b("not_enabled", e)
                        }
                    },
                    exit: function() {
                        d(), a[p.exit]()
                    },
                    toggle: function(e, t, n, r) {
                        T.element ? T.exit() : T.request(e, t, n, r)
                    },
                    videoEnabled: function(e) {
                        if (T.enabled) return !0;
                        e = e || a.body;
                        var t = s(e);
                        return !(!t || void 0 === t.webkitSupportsFullscreen) && (t.readyState < t.HAVE_METADATA ? "maybe" : t.webkitSupportsFullscreen)
                    },
                    onenter: m,
                    onexit: m,
                    onchange: m,
                    onerror: m
                };
            try {
                Object.defineProperties(T, {
                    element: {
                        enumerable: !0,
                        get: function() {
                            return _ && _.webkitDisplayingFullscreen ? _ : a[p.element] || null
                        }
                    },
                    enabled: {
                        enumerable: !0,
                        get: function() {
                            return "webkitCancelFullScreen" === p.exit && !o || !(y !== !1 && y < 32) && (a[p.enabled] || !1)
                        }
                    }
                }), p.change && a.addEventListener(p.change, function(e) {
                    if (T.onchange(T.element), T.element) {
                        var t = v[v.length - 2];
                        t && t.element === T.element ? E() : (g(T.element), c())
                    } else E()
                }, !1), a.addEventListener("webkitbeginfullscreen", function(e) {
                    var t = !0;
                    if (v.length > 0)
                        for (var n = 0, r = v.length; n < r; n++) {
                            var i = s(v[n].element);
                            if (i === e.srcElement) {
                                t = !1;
                                break
                            }
                        }
                    t && v.push({
                        element: e.srcElement,
                        enter: m,
                        exit: m,
                        error: m
                    }), T.onchange(e.srcElement), g(e.srcElement)
                }, !0), a.addEventListener("webkitendfullscreen", function(e) {
                    T.onchange(e.srcElement), E(e.srcElement)
                }, !0), p.error && a.addEventListener(p.error, function(e) {
                    b("not_allowed")
                }, !1)
            } catch (e) {
                T.element = null, T.enabled = !1
            }
            r = function() {
                return T
            }.call(t, n, t, e), !(void 0 !== r && (e.exports = r))
        }(this, document, self !== top)
    }, function(e, t) {
        "use strict";

        function n(e) {
            return {
                type: s,
                isFullScreen: e
            }
        }

        function r(e) {
            return {
                type: l,
                canFullScreen: e
            }
        }

        function i() {
            return {
                type: u
            }
        }

        function a(e) {
            return {
                type: c,
                isTheatreMode: e
            }
        }

        function o() {
            return {
                type: d
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.setFullScreen = n, t.setCanFullScreen = r, t.toggleFullScreen = i, t.setTheatreMode = a, t.toggleTheatreMode = o;
        var s = t.ACTION_SET_FULLSCREEN = "set fullscreen",
            l = t.ACTION_SET_CAN_FULLSCREEN = "set can fullscreen",
            u = t.ACTION_TOGGLE_FULLSCREEN = "toggle fullscreen",
            c = t.ACTION_SET_THEATRE_MODE = "set theatre mode",
            d = t.ACTION_TOGGLE_THEATRE_MODE = "toggle theatre mode"
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e, t, n) {
            var r = e.getState();
            return e.subscribe(function() {
                var i = !1,
                    a = e.getState(),
                    s = t.reduce(function(e, t) {
                        return (0, o.default)(e, t, (0, l.default)(a, t)), (0, l.default)(a, t) !== (0, l.default)(r, t) && (i = !0), e
                    }, {});
                if (i) {
                    var u = r;
                    r = a, n(s, u)
                }
            })
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.subscribe = i;
        var a = n(184),
            o = r(a),
            s = n(158),
            l = r(s)
    }, function(e, t, n) {
        function r(e, t, n) {
            return null == e ? e : i(e, t, n)
        }
        var i = n(105);
        e.exports = r
    }, function(e, t) {
        "use strict";

        function n() {
            return {
                type: d
            }
        }

        function r(e) {
            return {
                type: s,
                emitter: e
            }
        }

        function i() {
            return {
                type: l
            }
        }

        function a(e, t) {
            return {
                type: u,
                collectionId: e,
                vodId: t
            }
        }

        function o(e) {
            return {
                type: c,
                vodId: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.emitFullscreenChange = n, t.eventEmitterLoaded = r, t.emitOpenStream = i, t.emitTransitionToCollection = a, t.emitTransitionToRecommendedVOD = o;
        var s = t.ACTION_USE_EVENT_EMITTER = "use event emitter",
            l = t.ACTION_EMIT_OPEN_STREAM = "emit open stream",
            u = t.ACTION_TRANSITION_TO_COLLECTION = "transition to collection",
            c = t.ACTION_TRANSITION_TO_REC_VOD = "transition to recommended vod",
            d = t.ACTION_EMIT_FULLSCREEN_CHANGE = "emit fullscreen change"
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            if (e && e.__esModule) return e;
            var t = {};
            if (null != e)
                for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
            return t.default = e, t
        }

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function a(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.State = t.CHROMECAST_CONNECTED = t.CHROMECAST_CONNECTING = t.CHROMECAST_AVAILABLE = t.CHROMECAST_UNAVAILABLE = t.PLAYBACK_ENDED = t.PLAYBACK_PLAYING = t.PLAYBACK_PAUSED = t.EVENT_PLAYER_UPDATE = t.EVENT_STATE_UPDATE = void 0;
        var o = function() {
                function e(e, t) {
                    var n = [],
                        r = !0,
                        i = !1,
                        a = void 0;
                    try {
                        for (var o, s = e[Symbol.iterator](); !(r = (o = s.next()).done) && (n.push(o.value), !t || n.length !== t); r = !0);
                    } catch (e) {
                        i = !0, a = e
                    } finally {
                        try {
                            !r && s.return && s.return()
                        } finally {
                            if (i) throw a
                        }
                    }
                    return n
                }
                return function(t, n) {
                    if (Array.isArray(t)) return t;
                    if (Symbol.iterator in Object(t)) return e(t, n);
                    throw new TypeError("Invalid attempt to destructure non-iterable instance")
                }
            }(),
            s = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            l = n(53),
            u = i(l),
            c = n(164),
            d = i(c),
            f = n(187),
            p = n(168),
            _ = r(p),
            h = n(200),
            m = r(h),
            v = n(179),
            y = r(v),
            g = n(178),
            E = r(g),
            b = n(220),
            T = n(167),
            S = n(225),
            A = t.EVENT_STATE_UPDATE = "stateupdate",
            C = t.EVENT_PLAYER_UPDATE = "player",
            P = t.PLAYBACK_PAUSED = "paused",
            O = t.PLAYBACK_PLAYING = "playing",
            w = t.PLAYBACK_ENDED = "ended",
            k = (t.CHROMECAST_UNAVAILABLE = "unavailable", t.CHROMECAST_AVAILABLE = "available", t.CHROMECAST_CONNECTING = "connecting", t.CHROMECAST_CONNECTED = "connected", [A, C]),
            I = "markerschange";
        t.State = function() {
            function e(t, n, r, i) {
                a(this, e), this._options = i, this._backend = t, this._store = n, this._timelineMetadata = new f.TimelineMetadata(r), this._eventEmitter = new d.default, this._isVODRestricted = !1, this._hasCurrentStreamPlayed = !1, this._markers = [], _.allEvents.forEach(function(e) {
                    t.addEventListener(e, this.handleEvent.bind(this, e))
                }, this)
            }
            return s(e, [{
                key: "getMarkers",
                value: function() {
                    return this._markers
                }
            }, {
                key: "isVODRestricted",
                value: function() {
                    return this._isVODRestricted
                }
            }, {
                key: "getVideoInfo",
                value: function(e) {
                    return m.videoInfo(e)
                }
            }, {
                key: "handleEvent",
                value: function(e) {
                    switch (this._logStateChange(e), e) {
                        case y.LOADED_METADATA:
                            this._updateIsVODRestricted();
                            break;
                        case y.LOADSTART:
                            this._hasCurrentStreamPlayed = !1, this._resetTimelineMetadata(), this._updateIsVODRestricted();
                            break;
                        case y.PLAYING:
                            !this._hasCurrentStreamPlayed && this.videoID && this._retrieveTimelineMetadata(), this._hasCurrentStreamPlayed = !0;
                            break;
                        case E.USHER_FAIL_ERROR:
                            this._updateIsVODRestricted()
                    }
                    this._eventEmitter.emit(C, e), this._eventEmitter.emit(A, this)
                }
            }, {
                key: "_resetTimelineMetadata",
                value: function() {
                    this._markers = []
                }
            }, {
                key: "_retrieveTimelineMetadata",
                value: function() {}
            }, {
                key: "addEventListener",
                value: function(e, t) {
                    (0, u.default)(k, e) && this._eventEmitter.addListener(e, t)
                }
            }, {
                key: "removeEventListener",
                value: function(e, t) {
                    this._eventEmitter.removeListener(e, t)
                }
            }, {
                key: "toJSON",
                value: function() {
                    var e = this._store.getState(),
                        t = e.stream || new S.NullContentStream;
                    return {
                        channelName: t instanceof T.LiveContentStream ? t._channelName : "",
                        currentTime: this.currentTime,
                        duration: e.playback.duration,
                        muted: e.playback.muted,
                        playback: this.playback,
                        quality: e.quality.current,
                        qualitiesAvailable: e.quality.available,
                        videoID: t instanceof b.VODContentStream ? t._vodId : "",
                        viewers: e.viewercount,
                        volume: e.playback.volume
                    }
                }
            }, {
                key: "_logStateChange",
                value: function() {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null;
                    this._options.debug && this._options.verbose && !(0, u.default)(_.debugIgnoreEvents, e) && null !== e && (console.groupCollapsed("state change: %s", e), console.log("partial state: %o", this.toJSON()), console.groupEnd())
                }
            }, {
                key: "_updateMarkers",
                value: function(e) {
                    this._markers = e, this._logStateChange(I), this._eventEmitter.emit(A, this)
                }
            }, {
                key: "_updateIsVODRestricted",
                value: function() {
                    var e = this;
                    if (this._isVODRestricted = !1, this._eventEmitter.emit(A, this), this._store.getState().stream instanceof b.VODContentStream) {
                        var t = m.videoInfo(this._store.getState().stream._vodId),
                            n = t.then(function(e) {
                                return m.channelViewerInfo(e.channel.name)
                            });
                        Promise.all([t, n]).then(function(t) {
                            var n = o(t, 2),
                                r = n[0],
                                i = n[1];
                            e._isVODRestricted = m.isVODRestricted(i, r), e._eventEmitter.emit(A, e)
                        })
                    }
                }
            }, {
                key: "destroy",
                value: function() {
                    var e = this;
                    k.map(function(t) {
                        e._eventEmitter.removeEvent(t)
                    })
                }
            }, {
                key: "currentTime",
                get: function() {
                    return this._backend.getCurrentTime()
                }
            }, {
                key: "error",
                get: function() {
                    return this._backend.error
                }
            }, {
                key: "playback",
                get: function() {
                    return this._backend.getEnded() ? w : this._backend.getPaused() ? P : O
                }
            }, {
                key: "videoID",
                get: function() {
                    return this._backend.getVideo()
                }
            }]), e
        }()
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function a(e, t, n) {
            return t in e ? Object.defineProperty(e, t, {
                value: n,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : e[t] = n, e
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.TimelineMetadata = t.NULL_MARKER_THUMBNAIL = void 0;
        var o, s = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            l = n(188),
            u = r(l),
            c = n(197),
            d = r(c),
            f = n(63),
            p = r(f),
            _ = n(199),
            h = t.NULL_MARKER_THUMBNAIL = {
                imageURL: "",
                x: 0,
                y: 0,
                width: 0,
                height: 0,
                cols: 0
            },
            m = "https://clipmn.twitch.tv/prod/",
            v = "lol",
            y = "hs",
            g = "leagueOfLegendTags",
            E = "hearthStoneOpeningTags",
            b = "hearthStoneMatchTags",
            T = "ungroupedTags",
            S = (o = {}, a(o, g, function(e, t, n) {
                var r = {
                    title: "Match " + (t + 1),
                    info: "",
                    startTime: e.start_sec,
                    thumbnail: C(e, t, n)
                };
                return r
            }), a(o, b, function(e, t, n) {
                var r = {
                    title: "Match " + (t + 1),
                    info: "<strong>" + e.game_data.characters[0] + "</strong> vs " + e.game_data.characters[1],
                    startTime: e.start_sec,
                    thumbnail: C(e, t, n)
                };
                return r
            }), o),
            A = function() {
                return null
            },
            C = function(e, t, n) {
                return null === e.thumbnail_index ? h : {
                    imageURL: "" + m + n.thumbnail_sheet,
                    x: e.thumbnail_index[1] * n.thumbnail_size[0],
                    y: e.thumbnail_index[0] * n.thumbnail_size[1],
                    width: n.thumbnail_size[0],
                    height: n.thumbnail_size[1],
                    cols: n.sheet_dimensions[1]
                }
            };
        t.TimelineMetadata = function() {
            function e(t, n) {
                i(this, e), this._analytics = t, this._options = n
            }
            return s(e, [{
                key: "getMarkers",
                value: function(e) {
                    return (0, _.fetch)({
                        url: m + "channels.json",
                        dataType: "json"
                    }).then(function(t) {
                        return t.indexOf(e.channel.name) === -1 ? Promise.reject("Current channel is not marker enabled") : (0, _.fetch)({
                            url: "" + m + e._id + ".json",
                            dataType: "json"
                        })
                    }).then(this._normalizedMarkers).catch(function() {
                        return []
                    })
                }
            }, {
                key: "_normalizedMarkers",
                value: function(e) {
                    if (null === e) return [];
                    var t = (0, u.default)(e.data.tags, function(e) {
                        switch (e.game_type) {
                            case v:
                                return g;
                            case y:
                                switch (e.game_data.type) {
                                    case 0:
                                        return b;
                                    case 1:
                                        return E
                                }
                        }
                        return T
                    });
                    return Array.prototype.concat.apply([], (0, p.default)((0, d.default)(t, function(t, n) {
                        return t.map(function(t, r) {
                            var i = S[n] || A;
                            return i(t, r, e.data)
                        })
                    }))).filter(function(e) {
                        return null !== e
                    }).sort()
                }
            }]), e
        }()
    }, function(e, t, n) {
        var r = n(6),
            i = n(189),
            a = Object.prototype,
            o = a.hasOwnProperty,
            s = i(function(e, t, n) {
                o.call(e, n) ? e[n].push(t) : r(e, n, [t])
            });
        e.exports = s
    }, function(e, t, n) {
        function r(e, t) {
            return function(n, r) {
                var l = s(n) ? i : a,
                    u = t ? t() : {};
                return l(n, e, o(r, 2), u)
            }
        }
        var i = n(190),
            a = n(191),
            o = n(122),
            s = n(41);
        e.exports = r
    }, function(e, t) {
        function n(e, t, n, r) {
            for (var i = -1, a = null == e ? 0 : e.length; ++i < a;) {
                var o = e[i];
                t(r, o, n(o), e)
            }
            return r
        }
        e.exports = n
    }, function(e, t, n) {
        function r(e, t, n, r) {
            return i(e, function(e, i, a) {
                t(r, e, n(e), a)
            }), r
        }
        var i = n(192);
        e.exports = r
    }, function(e, t, n) {
        var r = n(193),
            i = n(196),
            a = i(r);
        e.exports = a
    }, function(e, t, n) {
        function r(e, t) {
            return e && i(e, t, a)
        }
        var i = n(194),
            a = n(66);
        e.exports = r
    }, function(e, t, n) {
        var r = n(195),
            i = r();
        e.exports = i
    }, function(e, t) {
        function n(e) {
            return function(t, n, r) {
                for (var i = -1, a = Object(t), o = r(t), s = o.length; s--;) {
                    var l = o[e ? s : ++i];
                    if (n(a[l], l, a) === !1) break
                }
                return t
            }
        }
        e.exports = n
    }, function(e, t, n) {
        function r(e, t) {
            return function(n, r) {
                if (null == n) return n;
                if (!i(n)) return e(n, r);
                for (var a = n.length, o = t ? a : -1, s = Object(n);
                    (t ? o-- : ++o < a) && r(s[o], o, s) !== !1;);
                return n
            }
        }
        var i = n(32);
        e.exports = r
    }, function(e, t, n) {
        function r(e, t) {
            var n = s(e) ? i : o;
            return n(e, a(t, 3))
        }
        var i = n(65),
            a = n(122),
            o = n(198),
            s = n(41);
        e.exports = r
    }, function(e, t, n) {
        function r(e, t) {
            var n = -1,
                r = a(e) ? Array(e.length) : [];
            return i(e, function(e, i, a) {
                r[++n] = t(e, i, a)
            }), r
        }
        var i = n(192),
            a = n(32);
        e.exports = r
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e) {
            var t = (0, o.default)({
                dataType: u,
                timeout: s.apiTimeout
            }, e);
            return e.hasOwnProperty("data") && (t.data = Object.keys(e.data).reduce(function(t, n) {
                return null !== e.data[n] && (t[n] = e.data[n]), t
            }, {})), Promise.resolve($.ajax(t))
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.fetch = i;
        var a = n(118),
            o = r(a),
            s = n(168),
            l = !!("withCredentials" in new XMLHttpRequest),
            u = l ? "json" : "jsonp"
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            if (e && e.__esModule) return e;
            var t = {};
            if (null != e)
                for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
            return t.default = e, t
        }

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function a(e) {
            return e.replace(/[^A-Za-z0-9_]/g, "")
        }

        function o(e) {
            return z().then(function(e) {
                return e.token
            }, function(e) {
                return null
            }).then(function(t) {
                var n = (0, N.default)({}, K, e);
                return t && (n.headers.Authorization = "OAuth " + t), $.ajax(n)
            })
        }

        function s(e) {
            return o({
                url: B.apiHost + "/kraken/" + e,
                headers: {
                    Accept: q
                }
            })
        }

        function l(e, t) {
            var n = {
                Accept: Y
            };
            return t && t.headers && (n = (0, N.default)(n, t.headers)), o((0, N.default)({}, t, {
                url: B.apiHost + "/kraken/" + e,
                headers: n
            }))
        }

        function u(e) {
            return s("streams/" + a(e))
        }

        function c(e, t) {
            return l("users/" + e + "/subscriptions/" + t)
        }

        function d(e) {
            return o({
                url: B.apiHost + "/channels/" + a(e) + "/product"
            })
        }

        function f(e, t) {
            return "users/" + a(e.toString()) + "/follows/channels/" + a(t.toString())
        }

        function p(e, t) {
            var n = f(e, t);
            return l(n)
        }

        function _(e, t, n) {
            var r = f(e, t);
            return l(r, {
                method: n ? "PUT" : "DELETE"
            })
        }

        function h(e, t, n) {
            var r = f(e, t);
            return l(r, {
                data: {
                    notifications: n
                },
                method: "PUT"
            })
        }

        function m(e) {
            return W(e).then(function(e) {
                var t = e._id;
                return l("channels/" + t + "/community").then(function(e) {
                    return Promise.resolve(e)
                }).catch(function() {
                    return Promise.resolve()
                })
            })
        }

        function v(e) {
            return o({
                url: B.apiHost + "/v5/channels/" + e + "/collections?limit=1&exclude_empty=true"
            })
        }

        function y(e) {
            var t = o({
                    url: B.apiHost + "/v5/collections/" + e
                }),
                n = o({
                    url: B.apiHost + "/v5/collections/" + e + "/items"
                });
            return Promise.all([t, n])
        }

        function g(e) {
            var t = e.player,
                n = e.oauth_token;
            if (t === V.PLAYER_CURSE && n) {
                var r = Promise.resolve({
                    token: n
                });
                z.cache.set(void 0, r)
            }
        }

        function E(e, t) {
            return null === e.chansub && !e.is_admin && (0, D.default)(t.restrictions, function(e, t) {
                return e || "chansub" === t
            }, !1)
        }

        function b(e, t) {
            var n = B.twitchHost + "/" + a(e);
            return t && (n += "?" + $.param(t)), n
        }

        function T(e, t, n) {
            var r = b(e),
                i = t[0],
                o = t.substring(1);
            return r += "/" + a(i) + "/" + a(o), n && (r += "?" + $.param(n)), r
        }

        function S(e) {
            return W(e).then(function(e) {
                return l("channels/" + e._id + "/extensions")
            }).then(function(e) {
                return e.installed_extensions.reduce(function(t, n) {
                    var r = n.extension,
                        i = n.installation_status;
                    if ("active" !== i.activation_state || "video_overlay" !== i.activation_config.anchor) return t;
                    var a = (0, x.default)(e.tokens, function(e) {
                        return r.id === e.extension_id
                    });
                    return a ? t.concat({
                        id: r.id,
                        name: r.name,
                        summary: r.summary,
                        anchor: r.anchor,
                        version: r.version,
                        viewerUrl: r.viewer_url,
                        token: (0, H.parseExtensionToken)(a.token)
                    }) : t
                }, [])
            }).catch(function() {
                return []
            })
        }

        function A(e, t, n) {
            if (!e || !t) return Promise.reject();
            var r = JSON.stringify({
                token: t,
                show_user: n
            });
            return l("extensions/" + e + "/auth/link_user", {
                method: "POST",
                contentType: "application/json",
                dataType: "json",
                data: r,
                processData: !1
            }).then(function(e) {
                var t = e.token;
                return (0, H.parseExtensionToken)(t)
            })
        }

        function C(e) {
            return $.ajax({
                method: "POST",
                url: "/user/report",
                data: e
            })
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.oauthToken = t.channelAPIInfo = t.krakenUserInfo = t.userInfo = t.channelViewerInfo = t.videoInfo = t.channelInfo = void 0, t.krakenRequest = s, t.krakenRequestv5 = l, t.streamInfo = u, t.getSubscriptionInfo = c, t.getSubscriptionProducts = d, t.getFollowChannel = p, t.setFollowChannel = _, t.setFollowNotifications = h, t.getCommunityFromChannel = m, t.getFeaturedCollection = v, t.collectionInfo = y, t.setOAuthToken = g, t.isVODRestricted = E, t.channelUrl = b, t.videoUrl = T, t.overlayExtensionsForChannel = S, t.updateIdentitySharingForExtension = A, t.postExtensionReport = C;
        var P = n(117),
            O = i(P),
            w = n(78),
            k = i(w),
            I = n(201),
            N = i(I),
            R = n(70),
            L = i(R),
            M = n(214),
            D = i(M),
            j = n(120),
            x = i(j),
            U = n(168),
            B = r(U),
            F = n(217),
            V = r(F),
            H = n(219),
            G = !!("withCredentials" in new XMLHttpRequest),
            q = "application/vnd.twitchtv.v3+json",
            Y = "application/vnd.twitchtv.v5+json",
            K = {
                dataType: G ? "json" : "jsonp",
                headers: {
                    "Client-ID": "jzkbprff40iqj646a697cyrvl0zt2m6"
                },
                timeout: B.apiTimeout
            },
            W = t.channelInfo = (0, k.default)(function(e) {
                return null === e ? Promise.reject(new Error("No channel info available on null channel ID")) : s("channels/" + a(e))
            }),
            z = (t.videoInfo = (0, k.default)(function(e) {
                if (null === e || void 0 === e) return Promise.reject(new Error("No video info available on null video ID"));
                var t = s("videos/" + a(e)),
                    n = o({
                        url: B.apiHost + "/api/videos/" + a(e)
                    }).then(function(e) {
                        return (0, L.default)(e, ["muted_segments", "increment_view_count_url", "restrictions", "seek_previews_url"])
                    });
                return Promise.all([t, n]).then(function(e) {
                    var t = e[0].channel.name;
                    return W(t).then(function(t) {
                        var n = (0, O.default)({}, e[0], e[1]);
                        return n.channel = t, n
                    })
                })
            }), t.channelViewerInfo = (0, k.default)(function(e) {
                return o({
                    url: B.apiHost + "/api/channels/" + a(e) + "/viewer"
                })
            }), t.userInfo = (0, k.default)(function() {
                return o({
                    url: B.apiHost + "/api/viewer/info.json",
                    xhrFields: {
                        withCredentials: !0
                    }
                })
            }), t.krakenUserInfo = (0, k.default)(function() {
                return s("user")
            }), t.channelAPIInfo = (0, k.default)(function(e) {
                return o({
                    url: B.apiHost + "/api/channels/" + e
                })
            }), t.oauthToken = (0, k.default)(function() {
                var e = $.ajax((0, O.default)({
                    url: B.apiHost + "/api/viewer/token.json",
                    xhrFields: {
                        withCredentials: !0
                    }
                }, K));
                return Promise.resolve(e)
            }))
    }, function(e, t, n) {
        var r = n(202),
            i = n(23),
            a = i(function(e, t, n) {
                r(e, t, n)
            });
        e.exports = a
    }, function(e, t, n) {
        function r(e, t, n, c, d) {
            e !== t && o(t, function(o, u) {
                if (l(o)) d || (d = new i), s(e, t, u, n, r, c, d);
                else {
                    var f = c ? c(e[u], o, u + "", e, t, d) : void 0;
                    void 0 === f && (f = o), a(e, u, f)
                }
            }, u)
        }
        var i = n(125),
            a = n(203),
            o = n(194),
            s = n(204),
            l = n(17),
            u = n(35);
        e.exports = r
    }, function(e, t, n) {
        function r(e, t, n) {
            (void 0 === n || a(e[t], n)) && (void 0 !== n || t in e) || i(e, t, n)
        }
        var i = n(6),
            a = n(22);
        e.exports = r
    }, function(e, t, n) {
        function r(e, t, n, r, y, g, E) {
            var b = e[n],
                T = t[n],
                S = E.get(T);
            if (S) return void i(e, n, S);
            var A = g ? g(b, T, n + "", e, t, E) : void 0,
                C = void 0 === A;
            if (C) {
                var P = c(T),
                    O = !P && f(T),
                    w = !P && !O && m(T);
                A = T, P || O || w ? c(b) ? A = b : d(b) ? A = s(b) : O ? (C = !1, A = a(T, !0)) : w ? (C = !1, A = o(T, !0)) : A = [] : h(T) || u(T) ? (A = b, u(b) ? A = v(b) : (!_(b) || r && p(b)) && (A = l(T))) : C = !1
            }
            C && (E.set(T, A), y(A, T, r, g, E), E.delete(T)), i(e, n, A)
        }
        var i = n(203),
            a = n(205),
            o = n(206),
            s = n(208),
            l = n(209),
            u = n(38),
            c = n(41),
            d = n(175),
            f = n(42),
            p = n(10),
            _ = n(17),
            h = n(212),
            m = n(45),
            v = n(213);
        e.exports = r
    }, function(e, t, n) {
        (function(e) {
            function r(e, t) {
                if (t) return e.slice();
                var n = e.length,
                    r = u ? u(n) : new e.constructor(n);
                return e.copy(r), r
            }
            var i = n(13),
                a = "object" == typeof t && t && !t.nodeType && t,
                o = a && "object" == typeof e && e && !e.nodeType && e,
                s = o && o.exports === a,
                l = s ? i.Buffer : void 0,
                u = l ? l.allocUnsafe : void 0;
            e.exports = r
        }).call(t, n(43)(e))
    }, function(e, t, n) {
        function r(e, t) {
            var n = t ? i(e.buffer) : e.buffer;
            return new e.constructor(n, e.byteOffset, e.length)
        }
        var i = n(207);
        e.exports = r
    }, function(e, t, n) {
        function r(e) {
            var t = new e.constructor(e.byteLength);
            return new i(t).set(new i(e)), t
        }
        var i = n(140);
        e.exports = r
    }, function(e, t) {
        function n(e, t) {
            var n = -1,
                r = e.length;
            for (t || (t = Array(r)); ++n < r;) t[n] = e[n];
            return t
        }
        e.exports = n
    }, function(e, t, n) {
        function r(e) {
            return "function" != typeof e.constructor || o(e) ? {} : i(a(e))
        }
        var i = n(210),
            a = n(211),
            o = n(50);
        e.exports = r
    }, function(e, t, n) {
        var r = n(17),
            i = Object.create,
            a = function() {
                function e() {}
                return function(t) {
                    if (!r(t)) return {};
                    if (i) return i(t);
                    e.prototype = t;
                    var n = new e;
                    return e.prototype = void 0, n
                }
            }();
        e.exports = a
    }, , , function(e, t, n) {
        function r(e) {
            return i(e, a(e))
        }
        var i = n(4),
            a = n(35);
        e.exports = r
    }, function(e, t, n) {
        function r(e, t, n) {
            var r = l(e) ? i : s,
                u = arguments.length < 3;
            return r(e, o(t, 4), n, u, a)
        }
        var i = n(215),
            a = n(192),
            o = n(122),
            s = n(216),
            l = n(41);
        e.exports = r
    }, function(e, t) {
        function n(e, t, n, r) {
            var i = -1,
                a = null == e ? 0 : e.length;
            for (r && a && (n = e[++i]); ++i < a;) n = t(n, e[i], i, e);
            return n
        }
        e.exports = n
    }, function(e, t) {
        function n(e, t, n, r, i) {
            return i(e, function(e, i, a) {
                n = r ? (r = !1, e) : t(n, e, i, a)
            }), n
        }
        e.exports = n
    }, function(e, t, n) {
        "use strict";

        function r() {
            function e() {
                try {
                    return window.self !== window.top
                } catch (e) {
                    return !0
                }
            }
            var t = !Twitch.notScript;
            return t ? a : e() && !(0, i.isTwitchEmbed)() ? o : s
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.PLAYER_PULSE = t.PLAYER_TWITCH_EVERYWHERE = t.PLAYER_HIGHLIGHTER = t.PLAYER_FACEBOOK = t.PLAYER_CURSE = t.PLAYER_CREATIVE = t.PLAYER_DASHBOARD = t.PLAYER_FRONTPAGE = t.PLAYER_POPOUT = t.PLAYER_EMBED = t.PLAYER_SITE_MINI = t.PLAYER_SITE = void 0, t.getPlayerType = r;
        var i = n(218),
            a = t.PLAYER_SITE = "site",
            o = (t.PLAYER_SITE_MINI = "site_mini", t.PLAYER_EMBED = "embed"),
            s = t.PLAYER_POPOUT = "popout";
        t.PLAYER_FRONTPAGE = "frontpage", t.PLAYER_DASHBOARD = "dashboard", t.PLAYER_CREATIVE = "creative", t.PLAYER_CURSE = "curse", t.PLAYER_FACEBOOK = "facebook", t.PLAYER_HIGHLIGHTER = "highlighter", t.PLAYER_TWITCH_EVERYWHERE = "twitch_everywhere", t.PLAYER_PULSE = "pulse"
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            if (e && e.__esModule) return e;
            var t = {};
            if (null != e)
                for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
            return t.default = e, t
        }

        function i() {
            var e;
            e = window.self !== window.parent ? document.referrer : window.location.href;
            var t = (0, a.parseUri)(e),
                n = t.host.split(".").slice(-2).join(".");
            return n === s.domain
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.isTwitchEmbed = i;
        var a = n(176),
            o = n(168),
            s = r(o)
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e) {
            if (!e) return c;
            try {
                var t = JSON.parse(atob(e.split(".")[1])),
                    n = !(!t || !t.user_id),
                    r = t.role,
                    i = n ? l : s;
                return (0, o.default)({}, c, {
                    token: e,
                    permissionsState: i,
                    role: r
                })
            } catch (e) {
                console.error("Error parsing extension token", e)
            }
            return (0, o.default)({}, c, {
                token: e
            })
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.EXTENSION_ROLE_BROADCASTER = t.EXTENSION_ROLE_VIEWER = t.EXTENSION_PERMISSION_STATE_GRANTED = t.EXTENSION_PERMISSION_STATE_NONE = void 0, t.parseExtensionToken = i;
        var a = n(117),
            o = r(a),
            s = t.EXTENSION_PERMISSION_STATE_NONE = "none",
            l = t.EXTENSION_PERMISSION_STATE_GRANTED = "granted",
            u = t.EXTENSION_ROLE_VIEWER = "viewer",
            c = (t.EXTENSION_ROLE_BROADCASTER = "broadcaster", {
                permissionsState: s,
                role: u
            })
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function a(e, t) {
            if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !t || "object" != typeof t && "function" != typeof t ? e : t
        }

        function o(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.VODContentStream = t.CONTENT_MODE_VOD = void 0;
        var s = function() {
                function e(e, t) {
                    var n = [],
                        r = !0,
                        i = !1,
                        a = void 0;
                    try {
                        for (var o, s = e[Symbol.iterator](); !(r = (o = s.next()).done) && (n.push(o.value), !t || n.length !== t); r = !0);
                    } catch (e) {
                        i = !0, a = e
                    } finally {
                        try {
                            !r && s.return && s.return()
                        } finally {
                            if (i) throw a
                        }
                    }
                    return n
                }
                return function(t, n) {
                    if (Array.isArray(t)) return t;
                    if (Symbol.iterator in Object(t)) return e(t, n);
                    throw new TypeError("Invalid attempt to destructure non-iterable instance")
                }
            }(),
            l = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            u = n(117),
            c = r(u),
            d = n(118),
            f = r(d),
            p = n(168),
            _ = n(221),
            h = n(222),
            m = t.CONTENT_MODE_VOD = "vod";
        t.VODContentStream = function(e) {
            function t(e, n, r, o, s) {
                i(this, t);
                var l = a(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments));
                return l._vodId = e, l
            }
            return o(t, e), l(t, [{
                key: "_fetchAccessToken",
                value: function(e, t, n) {
                    return (0, _.fetchVideoAccessToken)(e, t, n)
                }
            }, {
                key: "_buildUsherParams",
                value: function(e) {
                    return (0, f.default)({
                        nauth: e.token,
                        nauthsig: e.sig,
                        allow_source: !0
                    }, this._usherParams)
                }
            }, {
                key: "contentType",
                get: function() {
                    return m
                }
            }, {
                key: "videoId",
                get: function() {
                    return this._vodId
                }
            }, {
                key: "_baseStreamUrl",
                get: function() {
                    return p.usherHost + "/vod/" + this._vodId.substring(1) + ".m3u8"
                }
            }, {
                key: "streamUrl",
                get: function() {
                    var e = this;
                    return Promise.all([this.accessToken, this._commonExperimentParams()]).then(function(t) {
                        var n = s(t, 2),
                            r = n[0],
                            i = n[1],
                            a = e._buildUsherParams(r);
                        return (0, c.default)(a, i), e._baseStreamUrl + "?" + $.param(a)
                    })
                }
            }]), t
        }(h.AbstractStream)
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e, t, n) {
            return (0, u.fetch)({
                url: e,
                data: (0, l.default)({}, n, {
                    oauth_token: t
                }),
                xhrFields: {
                    withCredentials: !0
                },
                headers: {
                    "Client-ID": "jzkbprff40iqj646a697cyrvl0zt2m6"
                }
            })
        }

        function a(e, t, n) {
            var r = c.apiHost + "/api/vods/" + e.substring(1) + "/access_token";
            return i(r, t, n)
        }

        function o(e, t, n) {
            var r = c.apiHost + "/api/channels/" + e.toLowerCase() + "/access_token";
            return i(r, t, n)
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.fetchAccessToken = i, t.fetchVideoAccessToken = a, t.fetchChannelAccessToken = o;
        var s = n(117),
            l = r(s),
            u = n(199),
            c = n(168)
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.AbstractStream = void 0;
        var a = function() {
                function e(e, t) {
                    var n = [],
                        r = !0,
                        i = !1,
                        a = void 0;
                    try {
                        for (var o, s = e[Symbol.iterator](); !(r = (o = s.next()).done) && (n.push(o.value), !t || n.length !== t); r = !0);
                    } catch (e) {
                        i = !0, a = e
                    } finally {
                        try {
                            !r && s.return && s.return()
                        } finally {
                            if (i) throw a
                        }
                    }
                    return n
                }
                return function(t, n) {
                    if (Array.isArray(t)) return t;
                    if (Symbol.iterator in Object(t)) return e(t, n);
                    throw new TypeError("Invalid attempt to destructure non-iterable instance")
                }
            }(),
            o = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            s = n(53),
            l = r(s),
            u = n(223),
            c = r(u),
            d = n(117),
            f = r(d);
        t.AbstractStream = function() {
            function e(t, n, r, a, o) {
                i(this, e), this._contentId = t, this._oAuthToken = n, this._usherParams = r, this._accessTokenParams = a, this._experimentSettings = o, this._restrictedBitrates = []
            }
            return o(e, [{
                key: "_handleInvalidOp",
                value: function(e) {
                    var t = void 0;
                    t = "AbstractStream" === this.constructor.name ? "AbstractStream should not be instantiated directly" : this.constructor.name + "." + e + " is not implemented", console.error("Invalid operation: " + t)
                }
            }, {
                key: "_fetchAccessToken",
                value: function() {
                    return this._handleInvalidOp("_fetchAccessToken"), Promise.resolve({})
                }
            }, {
                key: "resetNAuthToken",
                value: function() {
                    this._nAuthPromise = this._fetchNAuthToken()
                }
            }, {
                key: "_fetchNAuthToken",
                value: function() {
                    var e = this;
                    return this._oAuthToken.then(function(t) {
                        return e._fetchAccessToken(e._contentId, t, e._accessTokenParams)
                    }).then(function(t) {
                        return e._nAuth = t, t
                    })
                }
            }, {
                key: "_buildUsherParams",
                value: function(e) {
                    return this._handleInvalidOp("_buildUsherParams"), {}
                }
            }, {
                key: "_commonExperimentParams",
                value: function() {
                    var e = this;
                    return Promise.all([this.accessToken, this._experimentSettings.adStitchingUS, this._experimentSettings.adStitchingUK, this._experimentSettings.adStitchingA, this._experimentSettings.adStitchingB, this._experimentSettings.adStitchingC, this._experimentSettings.adStitchingD, this._experimentSettings.adStitchingE, this._experimentSettings.adStitchingF, this._experimentSettings.adStitchingG, this._experimentSettings.adStitchingH, this._experimentSettings.adStitchingI, this._experimentSettings.adStitchingPrerolls]).then(function(t) {
                        var n = a(t, 13),
                            r = n[0],
                            i = n[1],
                            o = n[2],
                            s = n[3],
                            u = n[4],
                            d = n[5],
                            p = n[6],
                            _ = n[7],
                            h = n[8],
                            m = n[9],
                            v = n[10],
                            y = n[11],
                            g = n[12],
                            E = {};
                        E.baking_bread = (0, c.default)([i, o, s, u, d, p, _, h, m, v, y], function(e) {
                            return (0, l.default)(e, "yes")
                        });
                        var b = function(e) {
                            var t = /^(yes_play|no_play)_(\d+)$/,
                                n = t.exec(e),
                                r = n || [],
                                i = a(r, 3),
                                o = i[1],
                                s = i[2];
                            if (o && !(s < 1)) return {
                                baking_brownies: "yes_play" === o,
                                baking_brownies_timeout: Number(s)
                            }
                        };
                        return e._restrictedBitrates = JSON.parse(r.token).chansub.restricted_bitrates, (0, f.default)({}, E, b(g))
                    })
                }
            }, {
                key: "contentType",
                get: function() {
                    return this._handleInvalidOp("contentType"), ""
                }
            }, {
                key: "channel",
                get: function() {
                    return this._handleInvalidOp("channel"), ""
                }
            }, {
                key: "videoId",
                get: function() {
                    return this._handleInvalidOp("videoId"), ""
                }
            }, {
                key: "restrictedBitrates",
                get: function() {
                    return this._restrictedBitrates
                }
            }, {
                key: "accessToken",
                get: function() {
                    var e = !1;
                    try {
                        if (this._nAuth) {
                            var t = JSON.parse(this._nAuth.token);
                            e = Date.now() >= 1e3 * t.expires
                        }
                    } catch (e) {
                        console.error("Unable to JSON.parse nAuth.token: " + this._nAuth.token)
                    }
                    return this._nAuthPromise && !e || (this._nAuthPromise = this._fetchNAuthToken()), this._nAuthPromise
                }
            }, {
                key: "_baseStreamUrl",
                get: function() {
                    return this._handleInvalidOp("_baseStreamUrl"), ""
                }
            }, {
                key: "streamUrl",
                get: function() {
                    return this._handleInvalidOp("streamUrl"), ""
                }
            }, {
                key: "castStreamUrl",
                get: function() {
                    var e = this;
                    return this.accessToken.then(function(t) {
                        if (!t.token) return e._handleInvalidOp("castStreamUrl"), "";
                        var n = e._buildUsherParams(t);
                        return delete n.allow_source, e._restrictedBitrates = JSON.parse(t.token).chansub.restricted_bitrates, e._baseStreamUrl + "?" + $.param(n)
                    })
                }
            }]), e
        }()
    }, function(e, t, n) {
        function r(e, t, n) {
            var r = s(e) ? i : o;
            return n && l(e, t, n) && (t = void 0), r(e, a(t, 3))
        }
        var i = n(137),
            a = n(122),
            o = n(224),
            s = n(41),
            l = n(31);
        e.exports = r
    }, function(e, t, n) {
        function r(e, t) {
            var n;
            return i(e, function(e, r, i) {
                return n = t(e, r, i), !n
            }), !!n
        }
        var i = n(192);
        e.exports = r
    }, function(e, t) {
        "use strict";

        function n(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var r = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            i = t.CONTENT_MODE_NONE = null,
            a = function() {
                function e() {
                    n(this, e)
                }
                return r(e, [{
                    key: "contentType",
                    get: function() {
                        return i
                    }
                }, {
                    key: "channel",
                    get: function() {
                        return ""
                    }
                }, {
                    key: "restrictedBitrates",
                    get: function() {
                        return []
                    }
                }, {
                    key: "videoId",
                    get: function() {
                        return ""
                    }
                }, {
                    key: "streamUrl",
                    get: function() {
                        return Promise.resolve("")
                    }
                }, {
                    key: "accessToken",
                    get: function() {
                        return Promise.resolve({})
                    }
                }]), e
            }();
        t.nullContentStream = new a
    }, , function(e, t, n) {
        "use strict";

        function r(e) {
            if (e && e.__esModule) return e;
            var t = {};
            if (null != e)
                for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
            return t.default = e, t
        }

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function a(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function o(e) {
            return e.stream instanceof k.LiveContentStream ? Promise.resolve((0, m.default)({}, j, {
                ns_st_ci: e.streamMetadata.broadcastID,
                ns_st_st: e.streamMetadata.channel.displayName,
                ns_st_ep: e.streamMetadata.channel.status,
                ns_st_ge: L[e.streamMetadata.game] || M,
                ns_st_ddt: f(new Date(e.streamMetadata.createdAt), !0),
                ns_st_ce: !0
            })) : e.stream instanceof I.VODContentStream ? (0, w.videoInfo)(e.stream.videoId).then(function(e) {
                return (0, m.default)({}, j, {
                    ns_st_ci: e.broadcast_id,
                    ns_st_cl: 1e3 * e.length,
                    ns_st_st: e.channel.display_name,
                    ns_st_ep: e.title,
                    ns_st_ge: L[e.game] || M,
                    ns_st_ddt: f(new Date(e.recorded_at), !0),
                    ns_st_ce: "archive" === e.broadcast_type
                })
            }) : Promise.reject(new Error("No stream is currently playing; no metadata is available."))
        }

        function s(e) {
            return e.stream instanceof k.LiveContentStream ? e.streamMetadata.channel.partner ? O.default.StreamingTag.ContentType.Live : O.default.StreamingTag.ContentType.UserGeneratedLive : e.stream instanceof I.VODContentStream ? (0, w.videoInfo)(e.stream.videoId).then(function(e) {
                var t = 1e3 * e.length >= D;
                return e.partner ? t ? O.default.StreamingTag.ContentType.LongFormOnDemand : O.default.StreamingTag.ContentType.ShortFormOnDemand : t ? O.default.StreamingTag.ContentType.UserGeneratedLongFormOnDemand : O.default.StreamingTag.ContentType.UserGeneratedShortFormOnDemand
            }) : O.default.StreamingTag.ContentType.Other
        }

        function l(e) {
            return {
                ns_st_cl: (1e3 * e.time_break).toString()
            }
        }

        function u(e, t) {
            if (e.stream instanceof k.LiveContentStream) return O.default.StreamingTag.AdType.LinearLive;
            if (e.stream instanceof I.VODContentStream) switch (t.roll_type) {
                case C.PREROLL:
                    return O.default.StreamingTag.AdType.LinearOnDemandPreRoll;
                case C.MIDROLL:
                    return O.default.StreamingTag.AdType.LinearOnDemandMidRoll;
                case C.POSTROLL:
                    return O.default.StreamingTag.AdType.LinearOnDemandPostRoll
            }
            return O.default.StreamingTag.AdType.Other
        }

        function c(e) {
            return (0, E.default)(e, function(e, t, n) {
                return e[n] = d(t), e
            }, {})
        }

        function d(e) {
            switch (e) {
                case !0:
                    return "1";
                case !1:
                    return "0";
                case null:
                    return "*null"
            }
            return String(e)
        }

        function f(e) {
            var t = e.getUTCFullYear(),
                n = (0, y.default)(e.getUTCMonth() + 1, 2, "0"),
                r = (0, y.default)(e.getUTCDate(), 2, "0");
            return t + "-" + n + "-" + r
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.ComscoreAnalytics = void 0;
        var p = function() {
                function e(e, t) {
                    var n = [],
                        r = !0,
                        i = !1,
                        a = void 0;
                    try {
                        for (var o, s = e[Symbol.iterator](); !(r = (o = s.next()).done) && (n.push(o.value), !t || n.length !== t); r = !0);
                    } catch (e) {
                        i = !0, a = e
                    } finally {
                        try {
                            !r && s.return && s.return()
                        } finally {
                            if (i) throw a
                        }
                    }
                    return n
                }
                return function(t, n) {
                    if (Array.isArray(t)) return t;
                    if (Symbol.iterator in Object(t)) return e(t, n);
                    throw new TypeError("Invalid attempt to destructure non-iterable instance")
                }
            }(),
            _ = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            h = n(117),
            m = i(h),
            v = n(228),
            y = i(v),
            g = n(214),
            E = i(g),
            b = n(179),
            T = r(b),
            S = n(177),
            A = r(S),
            C = n(240),
            P = n(241),
            O = i(P),
            w = n(200),
            k = n(167),
            I = n(220),
            N = n(242),
            R = n(243),
            L = {
                Creative: "Creative",
                Poker: "Poker",
                Music: "Music"
            },
            M = "Gaming",
            D = 6e5,
            j = {
                ns_st_cl: null,
                ns_st_st: null,
                ns_st_pu: null,
                ns_st_pr: null,
                ns_st_ep: null,
                ns_st_sn: null,
                ns_st_en: null,
                ns_st_ge: null,
                ns_st_ti: null,
                ns_st_ia: !1,
                ns_st_ce: !1,
                ns_st_ddt: null,
                ns_st_tdt: null,
                c3: "TWITCH",
                c4: "twitch.tv",
                c6: null
            };
        t.ComscoreAnalytics = function() {
            function e(t, n, r) {
                a(this, e), this.analytics = t, this.player = n, this.store = r, this.ended = !1;
                var i = r.getState(),
                    o = i.window;
                n.addEventListener(T.PLAYING, this.onPlaying.bind(this)), n.addEventListener(T.PAUSE, this.onPause.bind(this)), n.addEventListener(T.SEEKING, this.onSeeking.bind(this)), n.addEventListener(T.ENDED, this.onEnded.bind(this)), n.addEventListener(A.AD_START, this.onAdStart.bind(this)), n.addEventListener(A.AD_IMPRESSION, this.onAdImpression.bind(this)), n.addEventListener(A.AD_IMPRESSION_COMPLETE, this.onAdImpressionComplete.bind(this)), n.addEventListener(A.AD_END, this.onAdEnd.bind(this)), o.addEventListener("beforeunload", this)
            }
            return _(e, [{
                key: "handleEvent",
                value: function(e) {
                    switch (e.type) {
                        case "beforeunload":
                            this._stop()
                    }
                }
            }, {
                key: "onPlaying",
                value: function() {
                    var e = this.store.getState();
                    e.ads.currentMetadata.contentType === R.AdContentTypes.NONE && Promise.all([o(e), s(e)]).then(function(t) {
                        var n = p(t, 2),
                            r = n[0],
                            i = n[1];
                        e.comscore.streamingTag.playVideoContentPart(c(r), i)
                    }), this.ended = !1
                }
            }, {
                key: "onPause",
                value: function() {
                    var e = this.store.getState(),
                        t = e.ads;
                    t.currentMetadata.contentType === R.AdContentTypes.NONE && this._stop()
                }
            }, {
                key: "onSeeking",
                value: function() {
                    this.analytics.hasPlayed && !this.player.paused && (this.ended ? (this.store.dispatch((0, N.resetTag)()), this.ended = !1) : this._stop())
                }
            }, {
                key: "onEnded",
                value: function() {
                    this._stop(), this.ended = !0
                }
            }, {
                key: "onAdStart",
                value: function(e) {
                    e.roll_type !== C.POSTROLL && this._stop()
                }
            }, {
                key: "onAdImpression",
                value: function(e) {
                    var t = this.store.getState();
                    t.comscore.streamingTag.playVideoAdvertisement(c(l(e)), u(t, e))
                }
            }, {
                key: "onAdImpressionComplete",
                value: function() {
                    this._stop()
                }
            }, {
                key: "onAdEnd",
                value: function(e) {
                    e.roll_type !== C.POSTROLL && this.onPlaying()
                }
            }, {
                key: "onBeforeUnload",
                value: function() {
                    this._stop()
                }
            }, {
                key: "destroy",
                value: function() {
                    this._stop()
                }
            }, {
                key: "_stop",
                value: function() {
                    this.store.getState().comscore.streamingTag.stop()
                }
            }]), e
        }()
    }, function(e, t, n) {
        function r(e, t, n) {
            e = s(e), t = o(t);
            var r = t ? a(e) : 0;
            return t && r < t ? i(t - r, n) + e : e
        }
        var i = n(229),
            a = n(234),
            o = n(59),
            s = n(102);
        e.exports = r
    }, function(e, t, n) {
        function r(e, t) {
            t = void 0 === t ? " " : a(t);
            var n = t.length;
            if (n < 2) return n ? i(t, e) : t;
            var r = i(t, c(e / l(t)));
            return s(t) ? o(u(r), 0, e).join("") : r.slice(0, e)
        }
        var i = n(230),
            a = n(103),
            o = n(231),
            s = n(233),
            l = n(234),
            u = n(237),
            c = Math.ceil;
        e.exports = r
    }, function(e, t) {
        function n(e, t) {
            var n = "";
            if (!e || t < 1 || t > r) return n;
            do t % 2 && (n += e), t = i(t / 2), t && (e += e); while (t);
            return n
        }
        var r = 9007199254740991,
            i = Math.floor;
        e.exports = n
    }, function(e, t, n) {
        function r(e, t, n) {
            var r = e.length;
            return n = void 0 === n ? r : n, !t && n >= r ? e : i(e, t, n)
        }
        var i = n(232);
        e.exports = r
    }, function(e, t) {
        function n(e, t, n) {
            var r = -1,
                i = e.length;
            t < 0 && (t = -t > i ? 0 : i + t), n = n > i ? i : n, n < 0 && (n += i), i = t > n ? 0 : n - t >>> 0, t >>>= 0;
            for (var a = Array(i); ++r < i;) a[r] = e[r + t];
            return a
        }
        e.exports = n
    }, function(e, t) {
        function n(e) {
            return c.test(e)
        }
        var r = "\\ud800-\\udfff",
            i = "\\u0300-\\u036f",
            a = "\\ufe20-\\ufe2f",
            o = "\\u20d0-\\u20ff",
            s = i + a + o,
            l = "\\ufe0e\\ufe0f",
            u = "\\u200d",
            c = RegExp("[" + u + r + s + l + "]");
        e.exports = n
    }, function(e, t, n) {
        function r(e) {
            return a(e) ? o(e) : i(e)
        }
        var i = n(235),
            a = n(233),
            o = n(236);
        e.exports = r
    }, function(e, t, n) {
        var r = n(160),
            i = r("length");
        e.exports = i
    }, function(e, t) {
        function n(e) {
            for (var t = T.lastIndex = 0; T.test(e);) ++t;
            return t
        }
        var r = "\\ud800-\\udfff",
            i = "\\u0300-\\u036f",
            a = "\\ufe20-\\ufe2f",
            o = "\\u20d0-\\u20ff",
            s = i + a + o,
            l = "\\ufe0e\\ufe0f",
            u = "[" + r + "]",
            c = "[" + s + "]",
            d = "\\ud83c[\\udffb-\\udfff]",
            f = "(?:" + c + "|" + d + ")",
            p = "[^" + r + "]",
            _ = "(?:\\ud83c[\\udde6-\\uddff]){2}",
            h = "[\\ud800-\\udbff][\\udc00-\\udfff]",
            m = "\\u200d",
            v = f + "?",
            y = "[" + l + "]?",
            g = "(?:" + m + "(?:" + [p, _, h].join("|") + ")" + y + v + ")*",
            E = y + v + g,
            b = "(?:" + [p + c + "?", c, _, h, u].join("|") + ")",
            T = RegExp(d + "(?=" + d + ")|" + b + E, "g");
        e.exports = n
    }, function(e, t, n) {
        function r(e) {
            return a(e) ? o(e) : i(e)
        }
        var i = n(238),
            a = n(233),
            o = n(239);
        e.exports = r
    }, function(e, t) {
        function n(e) {
            return e.split("")
        }
        e.exports = n
    }, function(e, t) {
        function n(e) {
            return e.match(T) || []
        }
        var r = "\\ud800-\\udfff",
            i = "\\u0300-\\u036f",
            a = "\\ufe20-\\ufe2f",
            o = "\\u20d0-\\u20ff",
            s = i + a + o,
            l = "\\ufe0e\\ufe0f",
            u = "[" + r + "]",
            c = "[" + s + "]",
            d = "\\ud83c[\\udffb-\\udfff]",
            f = "(?:" + c + "|" + d + ")",
            p = "[^" + r + "]",
            _ = "(?:\\ud83c[\\udde6-\\uddff]){2}",
            h = "[\\ud800-\\udbff][\\udc00-\\udfff]",
            m = "\\u200d",
            v = f + "?",
            y = "[" + l + "]?",
            g = "(?:" + m + "(?:" + [p, _, h].join("|") + ")" + y + v + ")*",
            E = y + v + g,
            b = "(?:" + [p + c + "?", c, _, h, u].join("|") + ")",
            T = RegExp(d + "(?=" + d + ")|" + b + E, "g");
        e.exports = n
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e, t, n) {
            return t in e ? Object.defineProperty(e, t, {
                value: n,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : e[t] = n, e
        }

        function a(e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "twitch.web",
                n = {
                    iu: "/" + f.imaNetworkID + "/" + t + "/client/desktop/live/" + e.channelId,
                    ius_szs: "300x250",
                    sz: "640x480",
                    impl: "s",
                    gdfp_req: "1",
                    env: "vp",
                    output: "xml_vast3",
                    url: e.url,
                    correlator: Date.now(),
                    cust_params: s(e),
                    unviewed_position_start: "1"
                },
                r = (0, d.default)(n, function(e, t, n) {
                    return e.push(n + "=" + t), e
                }, []).join("&");
            return e.contentType === h.CONTENT_MODE_VOD ? f.doubleClickVODUrl + "?" + r : f.doubleClickLiveUrl + "?" + r
        }

        function o(e) {
            return "string" == typeof e ? e.toLowerCase().replace(/[^a-z0-9]+/g, "_") : ""
        }

        function s(e) {
            var t = {
                partner: e.partner,
                game: e.game,
                chan: e.channel,
                chanid: e.channelId,
                deviceId: e.deviceId,
                twitchCorrelator: e.twitchCorrelator,
                embed: e.playerType === p.PLAYER_EMBED,
                platform: e.platform,
                playerType: e.playerType,
                mature: e.mature,
                pos: b[e.adType],
                timebreak: e.duration,
                adblock: void 0 === e.adblock ? "unknown" : e.adblock,
                sdk: e.sdk,
                padtime: e.padtime,
                aax: e.aaxExpGroup
            };
            if ("control" !== e.skippableExpGroup && (t.skip = e.skippableExpGroup), null !== e.communityId && (t.community = e.communityId), null !== e.kruxId && (t.kuid = e.kruxId), e.contentType === h.CONTENT_MODE_VOD && (t.vod_id = e.vod.id, t.vod_name = e.vod.name, t.vod_type = e.vod.type), t.embed) {
                var n = (0, _.parseUri)(e.referrer);
                t.embed_url = n.host.split(".").slice(-2).join(".")
            }
            return t = l(e, t), (0, d.default)(t, function(e, t, n) {
                var r = String(t);
                return (0, v.default)(T, n) || (r = r.toLowerCase()), e.push(n + "=" + r), e
            }, []).join("&").replace(/[=&, ]/g, function(e) {
                switch (e) {
                    case "=":
                        return "%3D";
                    case "&":
                        return "%26";
                    case ",":
                        return "%2C";
                    case " ":
                        return "_"
                }
            })
        }

        function l(e, t) {
            var n = t;
            return e.amznbid && e.amzniid && (n.amznbid = e.amznbid, n.amzniid = e.amzniid), n
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.POSTROLL = t.MIDROLL = t.PREROLL = void 0;
        var u;
        t.buildIMATags = a, t.formatCustomTag = o;
        var c = n(214),
            d = r(c),
            f = n(168),
            p = n(217),
            _ = n(176),
            h = n(220),
            m = n(53),
            v = r(m),
            y = t.PREROLL = "preroll",
            g = t.MIDROLL = "midroll",
            E = t.POSTROLL = "postroll",
            b = (u = {}, i(u, y, "1"), i(u, g, "2"), i(u, E, "3"), u),
            T = ["amznbid", "amzniid"]
    }, function(e, t, n) {
        var r, i;
        ! function(n, a) {
            r = [], i = function() {
                return n.ns_ = a(n.ns_)
            }.apply(t, r), !(void 0 !== i && (e.exports = i))
        }(this, function(e) {
            e = e || {}, e.ns_ = e;
            var t = {
                uid: function() {
                    var e = 1;
                    return function() {
                        return +new Date + "_" + e++
                    }
                }(),
                filter: function(e, t) {
                    var n = {};
                    for (var r in t) t.hasOwnProperty(r) && e(t[r]) && (n[r] = t[r]);
                    return n
                },
                extend: function(e) {
                    var t, n = arguments.length;
                    e = e || {};
                    for (var r = 1; n > r; r++)
                        if (t = arguments[r])
                            for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
                    return e
                },
                getString: function(e, t) {
                    var n = String(e);
                    return null == e ? t || "na" : n
                },
                getLong: function(e, t) {
                    var n = Number(e);
                    return null == e || isNaN(n) ? t || 0 : n
                },
                getInteger: function(e, t) {
                    var n = Number(parseInt(e));
                    return null == e || isNaN(n) ? t || 0 : n
                },
                getBoolean: function(e, t) {
                    var n = "true" == String(e).toLowerCase();
                    return null == e ? t || !1 : n
                },
                parseBoolean: function(e, t) {
                    return t = t || !1, e ? "0" != e && void 0 : t
                },
                isNotEmpty: function(e) {
                    return !this.isEmpty(e)
                },
                isEmpty: function(e) {
                    return void 0 === e || null === e || "" === e || e instanceof Array && 0 === e.length
                },
                indexOf: function(e, t) {
                    var n = -1;
                    return this.forEach(t, function(t, r) {
                        t == e && (n = r)
                    }), n
                },
                forEach: function(e, t, n) {
                    try {
                        if ("function" == typeof t)
                            if (n = "undefined" != typeof n ? n : null, "number" != typeof e.length || "undefined" == typeof e[0]) {
                                var r = "undefined" != typeof e.__proto__;
                                for (var i in e) e.hasOwnProperty(i) && (!r || r && "undefined" == typeof e.__proto__[i]) && "function" != typeof e[i] && t.call(n, e[i], i)
                            } else
                                for (var a = 0, o = e.length; o > a; a++) t.call(n, e[a], a)
                    } catch (e) {}
                },
                regionMatches: function(e, t, n, r, i) {
                    if (0 > t || 0 > r || t + i > e.length || r + i > n.length) return !1;
                    for (; --i >= 0;) {
                        var a = e.charAt(t++),
                            o = n.charAt(r++);
                        if (a != o) return !1
                    }
                    return !0
                },
                size: function(e) {
                    var t = 0;
                    for (var n in e) e.hasOwnProperty(n) && t++;
                    return t
                },
                log: function(e, t) {
                    if ("undefined" != typeof t && t && "undefined" != typeof console && console) {
                        var n = new Date,
                            r = n.getHours() + ":" + n.getMinutes() + ":" + n.getSeconds();
                        console.log(r, e)
                    }
                },
                isTrue: function(e) {
                    return "undefined" != typeof e && ("string" == typeof e ? (e = e.toLowerCase(), "true" === e || "1" === e || "on" === e) : !!e)
                },
                toString: function(e) {
                    if ("undefined" == typeof e) return "undefined";
                    if ("string" == typeof e) return e;
                    if ("[object Array]" === Object.prototype.toString.call(e)) return e.join(",");
                    if (this.size(e) > 0) {
                        var t = "";
                        for (var n in e) e.hasOwnProperty(n) && (t += n + ":" + e[n] + ";");
                        return t
                    }
                    return e.toString()
                },
                exists: function(e) {
                    return "undefined" != typeof e && null != e
                },
                firstGreaterThan0: function() {
                    for (var e = 0, t = arguments.length; t > e; e++) {
                        var n = arguments[e];
                        if (n > 0) return n
                    }
                    return 0
                },
                cloneObject: function(e) {
                    if (null == e || "object" != typeof e) return e;
                    var t = function() {
                        function e() {}

                        function t(t) {
                            return "object" == typeof t ? (e.prototype = t, new e) : t
                        }

                        function n(e) {
                            for (var t in e) e.hasOwnProperty(t) && (this[t] = e[t])
                        }

                        function r() {
                            this.copiedObjects = [];
                            var e = this;
                            this.recursiveDeepCopy = function(t) {
                                return e.deepCopy(t)
                            }, this.depth = 0
                        }

                        function i(e, t) {
                            var n = new r;
                            return t && (n.maxDepth = t), n.deepCopy(e)
                        }

                        function a(e) {
                            return "undefined" != typeof window && window && window.Node ? e instanceof Node : "undefined" != typeof document && e === document || "number" == typeof e.nodeType && e.attributes && e.childNodes && e.cloneNode
                        }
                        var o = [];
                        return n.prototype = {
                            constructor: n,
                            canCopy: function() {
                                return !1
                            },
                            create: function(e) {},
                            populate: function(e, t, n) {}
                        }, r.prototype = {
                            constructor: r,
                            maxDepth: 256,
                            cacheResult: function(e, t) {
                                this.copiedObjects.push([e, t])
                            },
                            getCachedResult: function(e) {
                                for (var t = this.copiedObjects, n = t.length, r = 0; n > r; r++)
                                    if (t[r][0] === e) return t[r][1]
                            },
                            deepCopy: function(e) {
                                if (null === e) return null;
                                if ("object" != typeof e) return e;
                                var t = this.getCachedResult(e);
                                if (t) return t;
                                for (var n = 0; n < o.length; n++) {
                                    var r = o[n];
                                    if (r.canCopy(e)) return this.applyDeepCopier(r, e)
                                }
                                throw new Error("Unable to clone the following object " + e)
                            },
                            applyDeepCopier: function(e, t) {
                                var n = e.create(t);
                                if (this.cacheResult(t, n), this.depth++, this.depth > this.maxDepth) throw new Error("Maximum recursion depth exceeded.");
                                return e.populate(this.recursiveDeepCopy, t, n), this.depth--, n
                            }
                        }, i.DeepCopier = n, i.deepCopiers = o, i.register = function(e) {
                            e instanceof n || (e = new n(e)), o.unshift(e)
                        }, i.register({
                            canCopy: function() {
                                return !0
                            },
                            create: function(e) {
                                return e instanceof e.constructor ? t(e.constructor.prototype) : {}
                            },
                            populate: function(e, t, n) {
                                for (var r in t) t.hasOwnProperty(r) && (n[r] = e(t[r]));
                                return n
                            }
                        }), i.register({
                            canCopy: function(e) {
                                return e instanceof Array
                            },
                            create: function(e) {
                                return new e.constructor
                            },
                            populate: function(e, t, n) {
                                for (var r = 0; r < t.length; r++) n.push(e(t[r]));
                                return n
                            }
                        }), i.register({
                            canCopy: function(e) {
                                return e instanceof Date
                            },
                            create: function(e) {
                                return new Date(e)
                            }
                        }), i.register({
                            canCopy: function(e) {
                                return a(e)
                            },
                            create: function(e) {
                                return "undefined" != typeof document && e === document ? document : e.cloneNode(!1)
                            },
                            populate: function(e, t, n) {
                                if ("undefined" != typeof document && t === document) return document;
                                if (t.childNodes && t.childNodes.length)
                                    for (var r = 0; r < t.childNodes.length; r++) {
                                        var i = e(t.childNodes[r]);
                                        n.appendChild(i)
                                    }
                            }
                        }), {
                            deepCopy: i
                        }
                    }();
                    return t.deepCopy(e)
                },
                safeGet: function(e, t) {
                    return t = this.exists(t) ? t : "", this.exists(e) ? e : t
                },
                getBrowserName: function() {
                    if (!navigator) return "";
                    var e, t, n = navigator.userAgent || "",
                        r = navigator.appName || "";
                    return -1 != (t = n.indexOf("Opera")) || -1 != (t = n.indexOf("OPR/")) ? r = "Opera" : -1 != (t = n.indexOf("Android")) ? r = "Android" : -1 != (t = n.indexOf("Chrome")) ? r = "Chrome" : -1 != (t = n.indexOf("Safari")) ? r = "Safari" : -1 != (t = n.indexOf("Firefox")) ? r = "Firefox" : -1 != (t = n.indexOf("IEMobile")) ? r = "Internet Explorer Mobile" : "Microsoft Internet Explorer" == r || "Netscape" == r ? r = "Internet Explorer" : (e = n.lastIndexOf(" ") + 1) < (t = n.lastIndexOf("/")) ? (r = n.substring(e, t), r.toLowerCase() == r.toUpperCase() && (r = navigator.appName)) : r = "unknown", r
                },
                getBrowserFullVersion: function() {
                    if (!navigator) return "";
                    var e, t, n, r, i = navigator.userAgent || "",
                        a = navigator.appName || "",
                        o = navigator.appVersion ? "" + parseFloat(navigator.appVersion) : "";
                    return -1 != (t = i.indexOf("Opera")) ? (o = i.substring(t + 6), -1 != (t = i.indexOf("Version")) && (o = i.substring(t + 8))) : -1 != (t = i.indexOf("OPR/")) ? o = i.substring(t + 4) : -1 != (t = i.indexOf("Android")) ? o = i.substring(t + 11) : -1 != (t = i.indexOf("Chrome")) ? o = i.substring(t + 7) : -1 != (t = i.indexOf("Safari")) ? (o = i.substring(t + 7), -1 != (t = i.indexOf("Version")) && (o = i.substring(t + 8))) : -1 != (t = i.indexOf("Firefox")) ? o = i.substring(t + 8) : "Microsoft Internet Explorer" == a ? (r = new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})"), null != r.exec(i) && (o = parseFloat(RegExp.$1))) : "Netscape" == a ? (r = new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})"), null != r.exec(i) && (o = parseFloat(RegExp.$1))) : o = i.lastIndexOf(" ") + 1 < (t = i.lastIndexOf("/")) ? i.substring(t + 1) : "unknown", o = o.toString(), -1 != (n = o.indexOf(";")) && (o = o.substring(0, n)), -1 != (n = o.indexOf(" ")) && (o = o.substring(0, n)), -1 != (n = o.indexOf(")")) && (o = o.substring(0, n)), e = parseInt("" + o, 10), isNaN(e) && (o = "" + parseFloat(navigator.appVersion)), o
                },
                browserAcceptsLargeURLs: function() {
                    return "undefined" == typeof window || (null !== window.ActiveXObject, !0)
                },
                getNamespace: function() {
                    return e.ns_ || e
                }
            };
            return e.StreamSense = e.StreamSense || function() {
                var n = function() {
                        var e = "cs_";
                        return function() {
                            var n = "undefined" != typeof localStorage ? localStorage : null;
                            t.extend(this, {
                                get: function(t) {
                                    return n && n.getItem(e + t)
                                },
                                set: function(t, r) {
                                    n && n.setItem(e + t, r)
                                },
                                has: function(t) {
                                    return n && n.getItem(e + t)
                                },
                                remove: function(t) {
                                    n && n.removeItem(e + t)
                                },
                                clear: function() {
                                    for (var t = 0; n && t < n.length; ++t) {
                                        var r = n.key(t);
                                        r.substr(0, e.length) === e && n.removeItem(r)
                                    }
                                }
                            })
                        }
                    }(),
                    r = function(e, t) {
                        if ("undefined" != typeof Image) {
                            var n = new Image;
                            n.onload = function() {
                                t && t(200), n = null
                            }, n.onerror = function() {
                                t && t(), n = null
                            }, n.src = e
                        }
                    },
                    i = function(e, t, n) {
                        n && "undefined" != typeof setTimeout && setTimeout(n, 0)
                    },
                    a = function() {
                        return {
                            dir: function() {
                                return null
                            },
                            append: function(e, t, n) {},
                            write: function(e, t, n) {},
                            deleteFile: function() {
                                return !1
                            },
                            read: function() {
                                return null
                            }
                        }
                    }(),
                    o = function() {
                        return {
                            PLATFORM: "generic",
                            httpGet: r,
                            httpPost: i,
                            Storage: n,
                            IO: a,
                            getCrossPublisherId: function() {
                                return null
                            },
                            getAppName: function() {
                                return s.UNKNOWN_VALUE
                            },
                            getAppVersion: function() {
                                return s.UNKNOWN_VALUE
                            },
                            getVisitorId: function() {
                                return this.getDeviceName() + +new Date + ~~(1e3 * Math.random())
                            },
                            getVisitorIdSuffix: function() {
                                return "72"
                            },
                            getDeviceName: function() {
                                return s.UNKNOWN_VALUE
                            },
                            getPlatformVersion: function() {
                                return s.UNKNOWN_VALUE
                            },
                            getPlatformName: function() {
                                return "js"
                            },
                            getRuntimeName: function() {
                                return s.UNKNOWN_VALUE
                            },
                            getRuntimeVersion: function() {
                                return s.UNKNOWN_VALUE
                            },
                            getResolution: function() {
                                return s.UNKNOWN_VALUE
                            },
                            getLanguage: function() {
                                return s.UNKNOWN_VALUE
                            },
                            getPackageName: function() {
                                return null
                            },
                            isConnectionAvailable: function() {
                                return !0
                            },
                            isCompatible: function() {
                                return !0
                            },
                            autoSelect: function() {},
                            setPlatformAPI: function() {},
                            isCrossPublisherIdChanged: function() {
                                return !1
                            },
                            setTimeout: function(e, t) {
                                return setTimeout(e, t)
                            },
                            clearTimeout: function(e) {
                                return clearTimeout(e)
                            },
                            getDeviceArchitecture: function() {
                                return s.UNKNOWN_VALUE
                            },
                            getConnectionType: function() {
                                return s.UNKNOWN_VALUE
                            },
                            getDeviceJailBrokenFlag: function() {
                                return s.UNKNOWN_VALUE
                            },
                            isConnSecure: function() {
                                return "s" === document.location.href.charAt(4)
                            },
                            processMeasurementLabels: function() {}
                        }
                    }(),
                    s = {
                        UNKNOWN_VALUE: "unknown",
                        UNKNOWN_RESOLUTION: "0x0"
                    };
                t.jsonObjectToStringDictionary = function(e) {
                    var t = {};
                    for (var n in e) {
                        var r = e[n];
                        null === r || void 0 === r ? t[n] = r : t[n] = e[n] + ""
                    }
                    return t
                }, t.getKeys = function(e, t) {
                    var n, r = [];
                    for (n in e) t && !t.test(n) || !e.hasOwnProperty(n) || (r[r.length] = n);
                    return r
                }, t.fixEventTime = function(e) {
                    if (e.ns_ts) return parseInt(e.ns_ts);
                    var t = +new Date;
                    return e.ns_ts = String(t), t
                }, t.isBrowser = function() {
                    return "undefined" != typeof window && "undefined" != typeof document
                }, t.addNewPlaybackInterval = function(e, n, r, i) {
                    var a = {};
                    if (!(r >= n)) return t.cloneObject(e);
                    if (a.start = n, a.end = r, 0 == e.length) return e.push(a), t.cloneObject(e);
                    var o;
                    for (o = 0; o < e.length; o++)
                        if (a.start >= e[o].start && a.end <= e[o].end) return t.cloneObject(e);
                    var s, l = !1;
                    for (s = 0; s < e.length; s++)
                        if (s + 1 === e.length && a.start >= e[s].start || a.start >= e[s].start && a.start < e[s + 1].start) {
                            e.splice(s + 1, 0, a), l = !0;
                            break
                        }
                    l || e.splice(0, 0, a);
                    var u = [e[0]];
                    for (o = 1; o < e.length; o++) u[u.length - 1].end + i < e[o].start ? u.push(e[o]) : u[u.length - 1].end < e[o].end && (u[u.length - 1].end = e[o].end);
                    return t.cloneObject(u)
                };
                var l = function() {
                        var e = ["play", "pause", "pause-on-buffering", "end", "buffer", "buffer-stop", "keep-alive", "hb", "custom", "load", "start", "skstart", "adskip", "cta", "error", "trans", "drmfa", "drmap", "drmde", "bitrt", "playrt", "volume", "window", "audio", "video", "subs", "cdn"];
                        return {
                            PLAY: 0,
                            PAUSE: 1,
                            PAUSE_ON_BUFFERING: 2,
                            END: 3,
                            BUFFER: 4,
                            BUFFER_STOP: 5,
                            KEEPALIVE: 6,
                            HEARTBEAT: 7,
                            CUSTOM: 8,
                            LOAD: 9,
                            START: 10,
                            SEEK_START: 11,
                            AD_SKIP: 12,
                            CTA: 13,
                            ERROR: 14,
                            TRANSFER: 15,
                            DRM_FAILED: 16,
                            DRM_APPROVED: 17,
                            DRM_DENIED: 18,
                            BIT_RATE: 19,
                            PLAYBACK_RATE: 20,
                            VOLUME: 21,
                            WINDOW_STATE: 22,
                            AUDIO: 23,
                            VIDEO: 24,
                            SUBS: 25,
                            CDN: 26,
                            toString: function(t) {
                                return e[t]
                            }
                        }
                    }(),
                    u = function() {
                        return {
                            IDLE: 0,
                            PLAYBACK_NOT_STARTED: 1,
                            PLAYING: 2,
                            PAUSED: 3,
                            BUFFERING_BEFORE_PLAYBACK: 4,
                            BUFFERING_DURING_PLAYBACK: 5,
                            BUFFERING_DURING_SEEKING: 6,
                            BUFFERING_DURING_PAUSE: 7,
                            SEEKING_BEFORE_PLAYBACK: 8,
                            SEEKING_DURING_PLAYBACK: 9,
                            SEEKING_DURING_BUFFERING: 10,
                            SEEKING_DURING_PAUSE: 11,
                            PAUSED_DURING_BUFFERING: 12
                        }
                    }(),
                    c = function() {
                        var e = ["c", "s", "r"];
                        return {
                            SINGLE_CLIP: 0,
                            SEGMENTED: 1,
                            REDUCED: 2,
                            toString: function(t) {
                                return e[t]
                            }
                        }
                    }(),
                    d = {
                        STREAMSENSE_VERSION: "5.1.3.160420",
                        MODEL_VERSION: "5.1",
                        DEFAULT_PLAYERNAME: "js_api",
                        DEFAULT_HEARTBEAT_INTERVAL: [{
                            playingtime: 6e4,
                            interval: 1e4
                        }, {
                            playingtime: null,
                            interval: 6e4
                        }],
                        DEFAULT_KEEP_ALIVE_INTERVAL: 12e5,
                        DEFAULT_PAUSED_ON_BUFFERING_INTERVAL: 500,
                        C1_VALUE: "19",
                        C10_VALUE: "js",
                        NS_AP_C12M_VALUE: "1",
                        NS_NC_VALUE: "1",
                        PAGE_NAME_LABEL: "name",
                        RESTRICTED_URL_LENGTH_LIMIT: 2048,
                        URL_LENGTH_LIMIT: 4096,
                        THROTTLING_DELAY: 500,
                        INTERVAL_MERGE_TOLERANCE: 500,
                        STANDARD_METADATA_LABELS: ["ns_st_ci", "ns_st_pr", "ns_st_sn", "ns_st_en", "ns_st_ep", "ns_st_ty", "ns_st_ct", "ns_st_li", "ns_st_ad", "ns_st_bn", "ns_st_tb", "ns_st_an", "ns_st_ta", "ns_st_pu", "c3", "c4", "c6"],
                        LABELS_ORDER: ["c1", "c2", "ca2", "cb2", "cc2", "cd2", "ns_site", "ca_ns_site", "cb_ns_site", "cc_ns_site", "cd_ns_site", "ns_vsite", "ca_ns_vsite", "cb_ns_vsite", "cc_ns_vsite", "cd_ns_vsite", "ns_alias", "ca_ns_alias", "cb_ns_alias", "cc_ns_alias", "cd_ns_alias", "ns_ap_an", "ca_ns_ap_an", "cb_ns_ap_an", "cc_ns_ap_an", "cd_ns_ap_an", "ns_ap_pn", "ns_ap_pv", "c12", "ca12", "cb12", "cc12", "cd12", "ns_ak", "ns_ap_hw", "name", "ns_ap_ni", "ns_ap_ec", "ns_ap_ev", "ns_ap_device", "ns_ap_id", "ns_ap_csf", "ns_ap_bi", "ns_ap_pfm", "ns_ap_pfv", "ns_ap_ver", "ca_ns_ap_ver", "cb_ns_ap_ver", "cc_ns_ap_ver", "cd_ns_ap_ver", "ns_ap_sv", "ns_ap_cv", "ns_ap_smv", "ns_type", "ca_ns_type", "cb_ns_type", "cc_ns_type", "cd_ns_type", "ns_radio", "ns_nc", "cs_partner", "cs_xcid", "ns_ap_ui", "ca_ns_ap_ui", "cb_ns_ap_ui", "cc_ns_ap_ui", "cd_ns_ap_ui", "ns_ap_gs", "ns_st_sv", "ns_st_pv", "ns_st_smv", "ns_st_it", "ns_st_id", "ns_st_ec", "ns_st_sp", "ns_st_sc", "ns_st_sq", "ns_st_ppc", "ns_st_apc", "ns_st_spc", "ns_st_cn", "ns_st_ev", "ns_st_po", "ns_st_cl", "ns_st_el", "ns_st_sl", "ns_st_pb", "ns_st_hc", "ns_st_mp", "ca_ns_st_mp", "cb_ns_st_mp", "cc_ns_st_mp", "cd_ns_st_mp", "ns_st_mv", "ca_ns_st_mv", "cb_ns_st_mv", "cc_ns_st_mv", "cd_ns_st_mv", "ns_st_pn", "ns_st_tp", "ns_st_ad", "ns_st_li", "ns_st_ci", "ns_st_si", "ns_st_pt", "ns_st_dpt", "ns_st_ipt", "ns_st_et", "ns_st_det", "ns_st_upc", "ns_st_dupc", "ns_st_iupc", "ns_st_upa", "ns_st_dupa", "ns_st_iupa", "ns_st_lpc", "ns_st_dlpc", "ns_st_lpa", "ns_st_dlpa", "ns_st_pa", "ns_ap_jb", "ns_ap_et", "ns_ap_res", "ns_ap_sd", "ns_ap_po", "ns_ap_ot", "ns_ap_c12m", "cs_c12u", "ca_cs_c12u", "cb_cs_c12u", "cc_cs_c12u", "cd_cs_c12u", "ns_ap_install", "ns_ap_updated", "ns_ap_lastrun", "ns_ap_cs", "ns_ap_runs", "ns_ap_usage", "ns_ap_fg", "ns_ap_ft", "ns_ap_dft", "ns_ap_bt", "ns_ap_dbt", "ns_ap_dit", "ns_ap_as", "ns_ap_das", "ns_ap_it", "ns_ap_uc", "ns_ap_aus", "ns_ap_daus", "ns_ap_us", "ns_ap_dus", "ns_ap_ut", "ns_ap_oc", "ns_ap_uxc", "ns_ap_uxs", "ns_ap_lang", "ns_ap_ar", "ns_ap_miss", "ns_ts", "ns_st_ca", "ns_st_cp", "ns_st_er", "ca_ns_st_er", "cb_ns_st_er", "cc_ns_st_er", "cd_ns_st_er", "ns_st_pe", "ns_st_ui", "ca_ns_st_ui", "cb_ns_st_ui", "cc_ns_st_ui", "cd_ns_st_ui", "ns_st_bc", "ns_st_dbc", "ns_st_bt", "ns_st_dbt", "ns_st_bp", "ns_st_lt", "ns_st_skc", "ns_st_dskc", "ns_st_ska", "ns_st_dska", "ns_st_skd", "ns_st_skt", "ns_st_dskt", "ns_st_pc", "ns_st_dpc", "ns_st_pp", "ns_st_br", "ns_st_pbr", "ns_st_rt", "ns_st_prt", "ns_st_ub", "ns_st_vo", "ns_st_pvo", "ns_st_ws", "ns_st_pws", "ns_st_ki", "ns_st_rp", "ns_st_bn", "ns_st_tb", "ns_st_an", "ns_st_ta", "ns_st_pl", "ns_st_pr", "ns_st_sn", "ns_st_en", "ns_st_ep", "ns_st_sr", "ns_st_ty", "ns_st_ct", "ns_st_cs", "ns_st_ge", "ns_st_st", "ns_st_ce", "ns_st_ia", "ns_st_dt", "ns_st_ddt", "ns_st_tdt", "ns_st_tm", "ns_st_dtm", "ns_st_ttm", "ns_st_de", "ns_st_pu", "ns_st_ti", "ns_st_cu", "ns_st_fee", "ns_st_at", "ns_st_pat", "ns_st_vt", "ns_st_pvt", "ns_st_tt", "ns_st_ptt", "ns_st_cdn", "ns_st_pcdn", "ns_ap_i1", "ns_ap_i2", "ns_ap_i3", "ns_ap_i4", "ns_ap_i5", "ns_ap_i6", "ns_ap_referrer", "ns_clid", "ns_campaign", "ns_source", "ns_mchannel", "ns_linkname", "ns_fee", "gclid", "utm_campaign", "utm_source", "utm_medium", "utm_term", "utm_content", "ns_ecommerce", "ns_ec_sv", "ns_client_id", "ns_order_id", "ns_ec_cur", "ns_orderline_id", "ns_orderlines", "ns_prod_id", "ns_qty", "ns_prod_price", "ns_prod_grp", "ns_brand", "ns_shop", "ns_category", "category", "ns_c", "ns_search_term", "ns_search_result", "ns_m_exp", "ns_m_chs", "c3", "ca3", "cb3", "cc3", "cd3", "c4", "ca4", "cb4", "cc4", "cd4", "c5", "ca5", "cb5", "cc5", "cd5", "c6", "ca6", "cb6", "cc6", "cd6", "c10", "c11", "c13", "c14", "c15", "c16", "c7", "c8", "c9", "ns_ap_er"]
                    },
                    f = function() {
                        function e() {
                            function e() {
                                M = {}, M.ns_st_pt = "0", M.ns_st_bt = "0", M.ns_st_bc = "0", M.ns_st_pc = "0", M.ns_st_sq = "0", M.ns_st_cl = "0", M.ns_st_pn = "1", M.ns_st_tp = "1", M.ns_st_skc = "0", M.ns_st_et = "0", M.ns_st_cn = "1", M.ns_st_sc = "0", M.ns_st_ska = "0", M.ns_st_skd = "0", M.ns_st_skt = "0", M.ns_st_upc = "0", M.ns_st_lpc = "0", M.ns_st_upa = "0", M.ns_st_lpa = "0", M.ns_st_ub = "0", M.ns_st_br = "0", a = !1, i = !1, r = s.UNKNOWN_VALUE, o = NaN, f = 0, u = 0, l = NaN, p = NaN, h = 0, _ = 0, c = 0, y = NaN, m = [], v = [], g = 0, E = 0, b = 0, T = 0, S = 0, A = 0, C = NaN, P = 0, O = !1, w = NaN, N = !1, I = 0, L = 0, k = 0, R = 0, D = 0, j = 0, x = 0, U = 0, B = 0
                            }

                            function n() {
                                var e, t, n = 0;
                                for (e = 0; e < m.length; e++) n += Math.abs(m[e].end - m[e].start);
                                F.setUniquePlaybackInterval(n);
                                var r = 0;
                                for (e = 0; e < m.length; e++) t = Math.abs(m[e].end - m[e].start), t > r && (r = t);
                                F.setLongestPlaybackInterval(r);
                                var i = 0;
                                for (e = 0; e < v.length; e++) i += Math.abs(v[e].end - v[e].start);
                                F.setAssetUniquePlaybackInterval(i);
                                var a = 0;
                                for (e = 0; e < v.length; e++) t = Math.abs(v[e].end - v[e].start), t > a && (a = t);
                                F.setAssetLongestPlaybackInterval(a)
                            }
                            var r, i, a, o, l, u, c, f, p, _, h, m, v, y, g, E, b, T, S, A, C, P, O, w, k, I, N, R, L, M, D, j, x, U, B, F = this,
                                V = d.INTERVAL_MERGE_TOLERANCE;
                            t.extend(this, {
                                getHash: function() {
                                    return r
                                },
                                setHash: function(e) {
                                    r = e
                                },
                                setPlaybackIntervalMergeTolerance: function(e) {
                                    V = e
                                },
                                getPlaybackIntervalMergeTolerance: function() {
                                    return V
                                },
                                setLabels: function(e) {
                                    null != e && t.extend(M, e)
                                },
                                getLabels: function() {
                                    return M
                                },
                                setLabel: function(e, t) {
                                    var n = {};
                                    n[e] = t, F.setLabels(n)
                                },
                                getLabel: function(e) {
                                    return M[e]
                                },
                                getClipNumber: function() {
                                    return parseInt(F.getLabel("ns_st_cn"))
                                },
                                setClipNumber: function(e) {
                                    F.setLabel("ns_st_cn", String(e))
                                },
                                getPartNumber: function() {
                                    return parseInt(F.getLabel("ns_st_pn"))
                                },
                                createLabels: function(e) {
                                    var n = e || {};
                                    n.ns_st_dbt = String(F.getBufferingTime() - P), P = F.getBufferingTime(), n.ns_st_det = String(F.getElapsedTime() - _), _ = F.getElapsedTime(), n.ns_st_dupc = String(F.getUniquePlaybackInterval() - g), g = F.getUniquePlaybackInterval(), parseInt(n.ns_st_dupc) < 0 && (n.ns_st_dupc = "0");
                                    var r;
                                    r = t.exists(n.ns_st_upc) ? parseInt(n.ns_st_upc) : F.getUniquePlaybackInterval(), n.ns_st_iupc = String(r - E), E = r, parseInt(n.ns_st_iupc) < 0 && (n.ns_st_iupc = "0"), n.ns_st_dupa = String(F.getAssetUniquePlaybackInterval() - b), b = F.getAssetUniquePlaybackInterval(), parseInt(n.ns_st_dupa) < 0 && (n.ns_st_dupa = "0");
                                    var i;
                                    i = t.exists(n.ns_st_upa) ? parseInt(n.ns_st_upa) : F.getAssetUniquePlaybackInterval(), n.ns_st_iupa = String(i - T), T = i, parseInt(n.ns_st_iupa) < 0 && (n.ns_st_iupa = "0"), n.ns_st_dlpc = String(F.getLongestPlaybackInterval() - S), S = F.getLongestPlaybackInterval(), parseInt(n.ns_st_dlpc) < 0 && (n.ns_st_dlpc = "0"), n.ns_st_dlpa = String(F.getAssetLongestPlaybackInterval() - A), A = F.getAssetLongestPlaybackInterval(), parseInt(n.ns_st_dlpa) < 0 && (n.ns_st_dlpa = "0");
                                    var o;
                                    return o = t.exists(n.ns_st_pt) ? parseInt(n.ns_st_pt) : F.getPlaybackTime(), n.ns_st_ipt = String(o - c), c = o, n.ns_st_dpt = String(F.getPlaybackTime() - u), u = F.getPlaybackTime(), n.ns_st_dpc = String(F.getPauses() - D), D = F.getPauses(), n.ns_st_dskc = String(F.getSeeks() - j), j = F.getSeeks(), n.ns_st_dbc = String(F.getBuffers() - x), x = F.getBuffers(), n.ns_st_dskt = String(F.getSeekingTime() - k), k = F.getSeekingTime(), n.ns_st_dska = String(F.getSeekingAmount() - R), R = F.getSeekingAmount(), t.extend(n, F.getLabels()), F.setSeekingDirection(0), a && (n.ns_st_spc = String(U), n.ns_st_apc = String(B)), a || t.parseBoolean(n.ns_st_sc) || (n.ns_st_sc = "1"), n
                                },
                                getVideoTrack: function() {
                                    return F.getLabel("ns_st_vt")
                                },
                                setVideoTrack: function(e) {
                                    F.setLabel("ns_st_vt", String(e))
                                },
                                getAudioTrack: function() {
                                    return F.getLabel("ns_st_at")
                                },
                                setAudioTrack: function(e) {
                                    F.setLabel("ns_st_at", String(e))
                                },
                                getSubtitleTrack: function() {
                                    return F.getLabel("ns_st_tt")
                                },
                                setSubtitleTrack: function(e) {
                                    F.setLabel("ns_st_tt", String(e))
                                },
                                getCDN: function() {
                                    return F.getLabel("ns_st_cdn")
                                },
                                setCDN: function(e) {
                                    F.setLabel("ns_st_cdn", String(e))
                                },
                                getClipPlaybackIntervals: function() {
                                    return m
                                },
                                setClipPlaybackIntervals: function(e) {
                                    m = e
                                },
                                getAssetPlaybackIntervals: function() {
                                    return v
                                },
                                getUniquePlaybackInterval: function() {
                                    return parseInt(F.getLabel("ns_st_upc"))
                                },
                                getAssetUniquePlaybackInterval: function() {
                                    return parseInt(F.getLabel("ns_st_upa"))
                                },
                                setAssetUniquePlaybackInterval: function(e) {
                                    F.setLabel("ns_st_upa", String(e))
                                },
                                setUniquePlaybackInterval: function(e) {
                                    F.setLabel("ns_st_upc", String(e))
                                },
                                getLongestPlaybackInterval: function() {
                                    return parseInt(F.getLabel("ns_st_lpc"))
                                },
                                setLongestPlaybackInterval: function(e) {
                                    F.setLabel("ns_st_lpc", String(e))
                                },
                                getAssetLongestPlaybackInterval: function() {
                                    return parseInt(F.getLabel("ns_st_lpa"))
                                },
                                setAssetLongestPlaybackInterval: function(e) {
                                    F.setLabel("ns_st_lpa", String(e))
                                },
                                incrementPauses: function() {
                                    F.setLabel("ns_st_pc", String(F.getPauses() + 1))
                                },
                                incrementSeeks: function() {
                                    F.setLabel("ns_st_skc", String(F.getSeeks() + 1))
                                },
                                incrementPlayCounter: function() {
                                    F.setLabel("ns_st_sq", String(F.getPlayCounter() + 1))
                                },
                                getPlayCounter: function() {
                                    return parseInt(F.getLabel("ns_st_sq"))
                                },
                                getBufferingTime: function() {
                                    return parseInt(F.getLabel("ns_st_bt"))
                                },
                                setBufferingTime: function(e) {
                                    F.setLabel("ns_st_bt", String(e))
                                },
                                addBufferingTime: function(e) {
                                    if (!isNaN(C)) {
                                        var t = F.getBufferingTime();
                                        t += e - C, F.setBufferingTime(t), C = NaN
                                    }
                                },
                                setPlaybackStartPosition: function(e) {
                                    y = parseInt(e)
                                },
                                getPlaybackStartPosition: function() {
                                    return y
                                },
                                addInterval: function(e) {
                                    isNaN(y) || isNaN(e) || (m = t.addNewPlaybackInterval(m, y, e, V), v = t.addNewPlaybackInterval(v, y, e, V), n(), y = NaN)
                                },
                                getElapsedTime: function() {
                                    return parseInt(F.getLabel("ns_st_et"))
                                },
                                setElapsedTime: function(e) {
                                    F.setLabel("ns_st_et", String(e))
                                },
                                addElapsedTime: function(e) {
                                    if (!isNaN(p)) {
                                        var t = F.getElapsedTime();
                                        t += e - p, F.setElapsedTime(t), p = NaN
                                    }
                                },
                                getElapsedTimestamp: function() {
                                    return p
                                },
                                setElapsedTimestamp: function(e) {
                                    p = e
                                },
                                addPlaybackTime: function(e) {
                                    if (!isNaN(o)) {
                                        var t = F.getPlaybackTime();
                                        t += e - o, F.setPlaybackTime(t), o = NaN
                                    }
                                },
                                getPlaybackTime: function() {
                                    return parseInt(F.getLabel("ns_st_pt"))
                                },
                                getExpectedPlaybackPosition: function(e) {
                                    return isNaN(o) || (f += e - o), f
                                },
                                setPlaybackTimeOffset: function(e) {
                                    f = e
                                },
                                getPlaybackTimeOffset: function() {
                                    return f
                                },
                                setPlaybackTime: function(e) {
                                    F.setLabel("ns_st_pt", String(e))
                                },
                                getPlaybackTimestamp: function() {
                                    return o
                                },
                                setPlaybackTimestamp: function(e) {
                                    o = e
                                },
                                setPreviousPlaybackTime: function(e) {
                                    u = e
                                },
                                setPreviousPlaybackTimestamp: function(e) {
                                    l = e
                                },
                                getBufferingTimestamp: function() {
                                    return C
                                },
                                setBufferingTimestamp: function(e) {
                                    C = e
                                },
                                getPauses: function() {
                                    return parseInt(F.getLabel("ns_st_pc"))
                                },
                                setPauses: function(e) {
                                    F.setLabel("ns_st_pc", String(e))
                                },
                                getSeeks: function() {
                                    return parseInt(F.getLabel("ns_st_skc"))
                                },
                                setSeeks: function(e) {
                                    F.setLabel("ns_st_skc", String(e))
                                },
                                setSeeking: function(e) {
                                    O = e
                                },
                                isSeeking: function() {
                                    return O
                                },
                                setCollectingSeekingTime: function(e) {
                                    N = e
                                },
                                isCollectingSeekingTime: function() {
                                    return N
                                },
                                setClipStarted: function(e) {
                                    i = e
                                },
                                isClipStarted: function() {
                                    return i
                                },
                                setPlaybackStarted: function(e) {
                                    a = e
                                },
                                isPlaybackStarted: function() {
                                    return a
                                },
                                setSeekingTimestamp: function(e) {
                                    w = e
                                },
                                getSeekingTimestamp: function() {
                                    return w
                                },
                                addSeekingTime: function(e) {
                                    if (!isNaN(w)) {
                                        var t = F.getSeekingTime();
                                        t += e - w, F.setSeekingTime(t), w = NaN
                                    }
                                },
                                getSeekingTime: function() {
                                    return parseInt(F.getLabel("ns_st_skt"))
                                },
                                setSeekingTime: function(e) {
                                    F.setLabel("ns_st_skt", String(e))
                                },
                                setSeekingTimeBeforeEnd: function(e) {
                                    L = e
                                },
                                getSeekingTimeBeforeEnd: function() {
                                    return L
                                },
                                setSeekStartPosition: function(e) {
                                    I = e
                                },
                                getSeekStartPosition: function() {
                                    return I
                                },
                                setSeekingAmount: function(e) {
                                    F.setLabel("ns_st_ska", String(e))
                                },
                                getSeekingAmount: function() {
                                    return parseInt(F.getLabel("ns_st_ska"))
                                },
                                addSeekingAmount: function(e) {
                                    var t = F.getSeekingAmount();
                                    t += Math.abs(e - I), F.setSeekingAmount(t);
                                    var n;
                                    I == e ? n = 0 : I > e ? n = -1 : e > I && (n = 1), F.setSeekingDirection(n), I = 0
                                },
                                getSeekingDirection: function() {
                                    return parseInt(F.getLabel("ns_st_skd"))
                                },
                                setSeekingDirection: function(e) {
                                    F.setLabel("ns_st_skd", String(e))
                                },
                                resetClipLifecycleLabels: function() {
                                    M.ns_st_pt = "0", u = 0, c = 0, M.ns_st_bt = "0", P = 0, M.ns_st_bc = "0", x = 0, M.ns_st_pc = "0", D = 0, M.ns_st_sq = "0", M.ns_st_upa = "0", b = 0, T = 0, M.ns_st_et = "0", _ = 0, M.ns_st_lpa = "0", A = 0, M.ns_st_skt = "0", k = 0, M.ns_st_ska = "0", R = 0, M.ns_st_skc = "0", j = 0
                                },
                                incrementSegmentPlaybackCounter: function() {
                                    U++
                                },
                                incrementClipLoadCounter: function() {
                                    F.setLabel("ns_st_sc", String(F.getClipLoadCounter() + 1))
                                },
                                incrementAssetPlaybackCounter: function() {
                                    B++
                                },
                                setPreviousUniquePlaybackInterval: function(e) {
                                    g = e
                                },
                                setPreviousEventIndependentUniquePlaybackInterval: function(e) {
                                    E = e
                                },
                                setPreviousLongestPlaybackInterval: function(e) {
                                    S = e
                                },
                                resetAssetPlaybackCounters: function() {
                                    v = [], F.setAssetUniquePlaybackInterval(0), b = 0, T = 0, F.setAssetLongestPlaybackInterval(0), A = 0
                                },
                                setSegmentPlaybackCounter: function(e) {
                                    U = e
                                },
                                setClipLoadCounter: function(e) {
                                    F.setLabel("ns_st_sc", String(e))
                                },
                                setAssetPlaybackCounter: function(e) {
                                    B = e
                                },
                                setLowestPartNumberPlayed: function(e) {
                                    h = e
                                },
                                getSegmentPlaybackCounter: function() {
                                    return U
                                },
                                getClipLoadCounter: function() {
                                    return parseInt(F.getLabel("ns_st_sc"))
                                },
                                getAssetPlaybackCounter: function() {
                                    return B
                                },
                                getLowestPartNumberPlayed: function() {
                                    return h
                                },
                                getBuffers: function() {
                                    return parseInt(F.getLabel("ns_st_bc"))
                                },
                                incrementBufferCount: function() {
                                    F.setLabel("ns_st_bc", String(F.getBuffers() + 1))
                                },
                                getPreviousBufferingTime: function() {
                                    return P
                                }
                            }), e()
                        }
                        return e.resetClip = function(e, t, n) {
                            for (var r = e.getLabels(), i = {}, a = 0; n && a < n.length; ++a) r.hasOwnProperty(n[a]) && (i[n[a]] = r[n[a]]);
                            t.setLabels(i), t.setPlaybackIntervalMergeTolerance(e.getPlaybackIntervalMergeTolerance())
                        }, e
                    }(),
                    p = function() {
                        function e() {
                            function e() {
                                n = new f, a = {}, a.ns_st_bp = "0", a.ns_st_pa = "0", a.ns_st_pp = "0", a.ns_st_sp = "1", a.ns_st_id = String(+new Date), r = NaN, i = NaN, s = {}, l = 0, o = !1, u = !1, c = 0
                            }
                            var n, r, i, a, o, s, l, u, c, d = this;
                            t.extend(this, {
                                resetClip: function() {
                                    var e = n;
                                    n = new f, f.resetClip(e, n)
                                },
                                hashExists: function(e) {
                                    return null != s[e]
                                },
                                storeHash: function(e) {
                                    s[e] = {}
                                },
                                removeHash: function(e) {
                                    delete s[e]
                                },
                                storeClipPlaybackCounters: function() {
                                    for (var e in s)
                                        if (s.hasOwnProperty(e) && s[e].clipNumber === n.getClipNumber()) {
                                            t.extend(s[e], {
                                                segmentPlaybackCounter: n.getSegmentPlaybackCounter(),
                                                clipLoadCounter: n.getClipLoadCounter(),
                                                assetPlaybackCounter: n.getAssetPlaybackCounter(),
                                                lowestPartNumberPlayed: n.getLowestPartNumberPlayed(),
                                                seeking: n.isSeeking(),
                                                seekingTimeBeforeEnd: n.getSeekingTimeBeforeEnd(),
                                                seekingStartPosition: n.getSeekStartPosition(),
                                                clipPlaybackIntervals: n.getClipPlaybackIntervals(),
                                                uniquePlaybackInterval: n.getUniquePlaybackInterval(),
                                                longestPlaybackInterval: n.getLongestPlaybackInterval(),
                                                videoTrack: n.getVideoTrack(),
                                                audioTrack: n.getAudioTrack(),
                                                subtitleTrack: n.getSubtitleTrack(),
                                                cdn: n.getCDN()
                                            });
                                            break
                                        }
                                },
                                getStoredClipRegisters: function(e) {
                                    return s[e]
                                },
                                getClipNumber: function(e) {
                                    return s[e].clipNumber
                                },
                                getMaxClipNumber: function() {
                                    return l
                                },
                                storeClipNumber: function(e, t) {
                                    s[e].clipNumber = t, t > l && (l = t)
                                },
                                setLabels: function(e) {
                                    null != e && t.extend(a, e)
                                },
                                getLabels: function() {
                                    return a
                                },
                                setLabel: function(e, t) {
                                    var n = {};
                                    n[e] = t, d.setLabels(n)
                                },
                                getLabel: function(e) {
                                    return a[e]
                                },
                                getClip: function() {
                                    return n
                                },
                                createLabels: function(e) {
                                    var r = e || {};
                                    return u || (r.ns_st_pb = null != r.ns_st_pb ? r.ns_st_pb : "1"), t.extend(r, d.getLabels()), n.isPlaybackStarted() && (r.ns_st_ppc = String(c)), r
                                },
                                incrementPlayCounter: function() {
                                    d.setLabel("ns_st_sp", String(parseInt(d.getLabel("ns_st_sp")) + 1))
                                },
                                incrementPauses: function() {
                                    d.setLabel("ns_st_pp", String(d.getPauses() + 1))
                                },
                                addPlaybackTime: function(e) {
                                    if (!isNaN(i)) {
                                        var t = d.getPlaybackTime();
                                        t += e - i, d.setPlaybackTime(t), i = NaN
                                    }
                                },
                                addBufferingTime: function(e) {
                                    if (!isNaN(r)) {
                                        var t = d.getBufferingTime();
                                        t += e - r, d.setBufferingTime(t), r = NaN
                                    }
                                },
                                getBufferingTime: function() {
                                    return parseInt(d.getLabel("ns_st_bp"))
                                },
                                setBufferingTime: function(e) {
                                    d.setLabel("ns_st_bp", String(e))
                                },
                                getPlaybackTime: function() {
                                    return parseInt(d.getLabel("ns_st_pa"))
                                },
                                setBufferingTimestamp: function(e) {
                                    r = e
                                },
                                getBufferingTimestamp: function() {
                                    return r
                                },
                                setPlaybackTime: function(e) {
                                    d.setLabel("ns_st_pa", String(e))
                                },
                                setPlaybackTimestamp: function(e) {
                                    i = e
                                },
                                getPlaybackTimestamp: function() {
                                    return i
                                },
                                getPauses: function() {
                                    return parseInt(d.getLabel("ns_st_pp"))
                                },
                                setPauses: function(e) {
                                    d.setLabel("ns_st_pp", String(e))
                                },
                                isPlaylistStarted: function() {
                                    return o
                                },
                                setPlaylistStarted: function(e) {
                                    o = e
                                },
                                getPlaybackCounter: function() {
                                    return c
                                },
                                incrementPlaybackCounter: function() {
                                    c++
                                },
                                setFirstEventSent: function(e) {
                                    u = e
                                }
                            }), e()
                        }
                        return e.resetPlaylist = function(t, n, r) {
                            for (var i = t.getClip(), a = t.getLabels(), o = {}, s = 0; r && s < r.length; s++) a.hasOwnProperty(r[s]) && (o[r[s]] = a[r[s]]);
                            n = new e, n.setLabels(o), f.resetClip(i, n.getClip(), r)
                        }, e
                    }(),
                    _ = function() {
                        return function(e) {
                            function n() {
                                i = 1
                            }

                            function r(n) {
                                a = t.extend({}, n);
                                var r = e.getSSECore().getPixelURL();
                                if (e.getAppCore()) {
                                    if (e.getSSECore().isProperlyInitialized()) {
                                        var i = e.getSSECore().getExports().et;
                                        if ("function" == typeof e.getAppCore().getMeasurementDispatcher) {
                                            var o = e.getAppCore().getMeasurementDispatcher();
                                            o.send(i.HIDDEN, n, r)
                                        } else {
                                            var s = e.getSSECore().getExports().am,
                                                l = s.newApplicationMeasurement(e.getAppCore(), i.HIDDEN, n, r);
                                            e.getAppCore().getQueue().offer(l)
                                        }
                                    }
                                } else r && e.getSSECore().getPlatformAPI().httpGet(e.getSSECore().prepareUrl(r, n))
                            }
                            var i, a, o = this;
                            t.extend(this, {
                                newEvent: function(e) {
                                    r(e.eventLabels), e.eventType != l.HEARTBEAT && o.incrementEventCounter()
                                },
                                getEventCounter: function() {
                                    return i
                                },
                                incrementEventCounter: function() {
                                    i++
                                },
                                setEventCounter: function(e) {
                                    i = e
                                },
                                getMeasurementSnapshot: function() {
                                    return a
                                }
                            }), n()
                        }
                    }(),
                    h = function() {
                        return function(e) {
                            function n() {
                                o = 0, s = 0
                            }

                            function r() {
                                s++;
                                var n = {},
                                    r = t.fixEventTime(n);
                                n.ns_st_po = String(e.getPlaylist().getClip().getPlaybackTimeOffset() + (r - e.getPlaylist().getClip().getPlaybackTimestamp())), n.ns_st_pa = String(e.getPlaylist().getPlaybackTime() + (r - e.getPlaylist().getPlaybackTimestamp())), n.ns_st_pt = String(e.getPlaylist().getClip().getPlaybackTime() + (r - e.getPlaylist().getClip().getPlaybackTimestamp())), n.ns_st_dpt = String(r - e.getPlaylist().getClip().getPlaybackTimestamp()), e.getStateMachine().getCurrentState() == u.BUFFERING_DURING_PLAYBACK ? (n.ns_st_bp = String(e.getPlaylist().getBufferingTime() + (r - e.getPlaylist().getBufferingTimestamp())), n.ns_st_bt = String(e.getPlaylist().getClip().getBufferingTime() + (r - e.getPlaylist().getClip().getBufferingTimestamp())), n.ns_st_dbt = String(r - e.getPlaylist().getClip().getBufferingTimestamp())) : n.ns_st_dbt = String(e.getPlaylist().getClip().getBufferingTime() - e.getPlaylist().getClip().getPreviousBufferingTime()), n.ns_st_et = String(e.getPlaylist().getClip().getElapsedTime() + (r - e.getPlaylist().getClip().getElapsedTimestamp())), n.ns_st_det = String(r - e.getPlaylist().getClip().getElapsedTimestamp());
                                var i = t.cloneObject(e.getPlaylist().getClip().getClipPlaybackIntervals()),
                                    a = t.cloneObject(e.getPlaylist().getClip().getAssetPlaybackIntervals());
                                i = t.addNewPlaybackInterval(i, e.getPlaylist().getClip().getPlaybackStartPosition(), parseInt(n.ns_st_po), e.getPlaylist().getClip().getPlaybackIntervalMergeTolerance()), a = t.addNewPlaybackInterval(a, e.getPlaylist().getClip().getPlaybackStartPosition(), parseInt(n.ns_st_po), e.getPlaylist().getClip().getPlaybackIntervalMergeTolerance());
                                var d, f, p = 0;
                                for (d = 0; d < i.length; d++) p += Math.abs(i[d].end - i[d].start);
                                n.ns_st_upc = String(p), n.ns_st_dupc = String(p - e.getPlaylist().getClip().getUniquePlaybackInterval());
                                var _ = 0;
                                for (d = 0; d < i.length; d++) f = Math.abs(i[d].end - i[d].start), f > _ && (_ = f);
                                n.ns_st_lpc = String(_), n.ns_st_dlpc = String(_ - e.getPlaylist().getClip().getLongestPlaybackInterval());
                                var h = 0;
                                for (d = 0; d < a.length; d++) h += Math.abs(a[d].end - a[d].start);
                                n.ns_st_upa = String(h), n.ns_st_dupa = String(h - e.getPlaylist().getClip().getAssetUniquePlaybackInterval());
                                var m = 0;
                                for (d = 0; d < a.length; d++) f = Math.abs(a[d].end - a[d].start), f > m && (m = f);
                                n.ns_st_lpa = String(m), n.ns_st_dlpa = String(m - e.getPlaylist().getClip().getAssetLongestPlaybackInterval()), n.ns_st_hc = String(e.getHeartbeat().getCount());
                                var v = e.getSSECore().createLabels(l.HEARTBEAT, n, r);
                                e.getEventManager().newEvent(v), o = 0, c.resume()
                            }

                            function i() {
                                null != a && (e.getSSECore().getPlatformAPI().clearTimeout(a), a = null)
                            }
                            var a, o, s, c = this,
                                f = d.DEFAULT_HEARTBEAT_INTERVAL;
                            t.extend(this, {
                                getCount: function() {
                                    return s
                                },
                                setIntervals: function(e) {
                                    f = e
                                },
                                getInterval: function(e) {
                                    var t = 0;
                                    if (null != f)
                                        for (var n = 0; n < f.length; n++) {
                                            var r = f[n],
                                                i = r.playingtime;
                                            if (!i || i > e) {
                                                t = r.interval;
                                                break
                                            }
                                        }
                                    return t
                                },
                                resume: function() {
                                    i();
                                    var t = c.getInterval(e.getPlaylist().getClip().getPlaybackTime() + (+new Date - e.getPlaylist().getClip().getPlaybackTimestamp()));
                                    if (t > 0) {
                                        var n = o > 0 ? o : t;
                                        a = e.getSSECore().getPlatformAPI().setTimeout(r, n)
                                    }
                                    o = 0
                                },
                                pause: function() {
                                    i();
                                    var t = c.getInterval(e.getPlaylist().getClip().getPlaybackTime() + (+new Date - e.getPlaylist().getClip().getPlaybackTimestamp()));
                                    o = t - (e.getPlaylist().getClip().getPlaybackTime() + (+new Date - e.getPlaylist().getClip().getPlaybackTimestamp())) % t
                                }
                            }), n()
                        }
                    }(),
                    m = function() {
                        return function(e) {
                            function n() {}

                            function r() {
                                var n = {},
                                    r = t.fixEventTime(n);
                                n.ns_st_po = String(e.getPlaylist().getClip().getExpectedPlaybackPosition(r)), e.getPlaylist().addPlaybackTime(r), e.getPlaylist().setPlaybackTimestamp(r), e.getPlaylist().getClip().addPlaybackTime(r), e.getPlaylist().getClip().setPlaybackTimestamp(r), e.getStateMachine().getCurrentState() == u.BUFFERING_DURING_PLAYBACK && (e.getPlaylist().addBufferingTime(r), e.getPlaylist().setBufferingTimestamp(r), e.getPlaylist().getClip().addBufferingTime(r), e.getPlaylist().getClip().setBufferingTimestamp(r)), e.getPlaylist().getClip().addElapsedTime(r), e.getPlaylist().getClip().setElapsedTimestamp(r), e.getPlaylist().getClip().addInterval(parseInt(n.ns_st_po)), e.getPlaylist().getClip().setPlaybackStartPosition(parseInt(n.ns_st_po));
                                var i = e.getSSECore().createLabels(l.KEEPALIVE, n, r);
                                e.getEventManager().newEvent(i), o.resume()
                            }

                            function i() {
                                null != a && (e.getSSECore().getPlatformAPI().clearTimeout(a), a = null)
                            }
                            var a, o = this,
                                s = d.DEFAULT_KEEP_ALIVE_INTERVAL;
                            t.extend(o, {
                                resume: function() {
                                    i(), a = e.getSSECore().getPlatformAPI().setTimeout(r, s)
                                },
                                pause: function() {
                                    i()
                                },
                                setInterval: function(e) {
                                    s = e
                                },
                                getInterval: function() {
                                    return s
                                }
                            }), n()
                        }
                    }(),
                    v = function() {
                        return function(e) {
                            function n() {
                                a = u.IDLE, i = null, r = NaN
                            }
                            var r, i, a, o = this;
                            t.extend(o, {
                                eventTypeToState: function(e) {
                                    if (a == u.IDLE) {
                                        if (e == l.PLAY) return u.PLAYING;
                                        if (e == l.SEEK_START) return u.SEEKING_BEFORE_PLAYBACK;
                                        if (e == l.BUFFER) return u.BUFFERING_BEFORE_PLAYBACK
                                    } else if (a == u.PLAYBACK_NOT_STARTED) {
                                        if (e == l.PLAY) return u.PLAYING;
                                        if (e == l.SEEK_START) return u.SEEKING_BEFORE_PLAYBACK;
                                        if (e == l.BUFFER) return u.BUFFERING_BEFORE_PLAYBACK;
                                        if (e == l.END || e == l.AD_SKIP) return u.IDLE
                                    } else if (a == u.PLAYING) {
                                        if (e == l.END || e == l.AD_SKIP) return u.IDLE;
                                        if (e == l.BUFFER) return u.BUFFERING_DURING_PLAYBACK;
                                        if (e == l.PAUSE) return u.PAUSED;
                                        if (e == l.SEEK_START) return u.SEEKING_DURING_PLAYBACK
                                    } else if (a == u.PAUSED) {
                                        if (e == l.END || e == l.AD_SKIP) return u.IDLE;
                                        if (e == l.BUFFER) return u.BUFFERING_DURING_PAUSE;
                                        if (e == l.PLAY) return u.PLAYING;
                                        if (e == l.SEEK_START) return u.SEEKING_DURING_PAUSE
                                    } else if (a == u.BUFFERING_BEFORE_PLAYBACK) {
                                        if (e == l.END || e == l.AD_SKIP) return u.IDLE;
                                        if (e == l.PAUSE || e == l.BUFFER_STOP) return u.PLAYBACK_NOT_STARTED;
                                        if (e == l.PLAY) return u.PLAYING;
                                        if (e == l.SEEK_START) return u.SEEKING_BEFORE_PLAYBACK
                                    } else if (a == u.BUFFERING_DURING_PLAYBACK) {
                                        if (e == l.END || e == l.AD_SKIP) return u.IDLE;
                                        if (e == l.PLAY || e == l.BUFFER_STOP) return u.PLAYING;
                                        if (e == l.PAUSE_ON_BUFFERING) return u.PAUSED_DURING_BUFFERING;
                                        if (e == l.SEEK_START) return u.SEEKING_DURING_BUFFERING;
                                        if (e == l.PAUSE) return u.PAUSED
                                    } else if (a == u.BUFFERING_DURING_SEEKING) {
                                        if (e == l.END || e == l.AD_SKIP) return u.IDLE;
                                        if (e == l.PLAY) return u.PLAYING;
                                        if (e == l.BUFFER_STOP) return u.SEEKING_DURING_PLAYBACK;
                                        if (e == l.PAUSE) return u.PAUSED
                                    } else if (a == u.BUFFERING_DURING_PAUSE) {
                                        if (e == l.END || e == l.AD_SKIP) return u.IDLE;
                                        if (e == l.PLAY) return u.PLAYING;
                                        if (e == l.SEEK_START) return u.SEEKING_DURING_PAUSE;
                                        if (e == l.BUFFER_STOP || e == l.PAUSE) return u.PAUSED
                                    } else if (a == u.SEEKING_BEFORE_PLAYBACK) {
                                        if (e == l.END || e == l.AD_SKIP) return u.IDLE;
                                        if (e == l.PAUSE) return u.PLAYBACK_NOT_STARTED;
                                        if (e == l.PLAY) return u.PLAYING;
                                        if (e == l.BUFFER) return u.BUFFERING_BEFORE_PLAYBACK
                                    } else if (a == u.SEEKING_DURING_PLAYBACK) {
                                        if (e == l.END || e == l.AD_SKIP) return u.IDLE;
                                        if (e == l.PLAY) return u.PLAYING;
                                        if (e == l.PAUSE) return u.PAUSED;
                                        if (e == l.BUFFER) return u.BUFFERING_DURING_SEEKING
                                    } else if (a == u.SEEKING_DURING_BUFFERING) {
                                        if (e == l.END || e == l.AD_SKIP) return u.IDLE;
                                        if (e == l.PLAY) return u.PLAYING;
                                        if (e == l.PAUSE || e == l.BUFFER_STOP) return u.PAUSED
                                    } else if (a == u.SEEKING_DURING_PAUSE) {
                                        if (e == l.END || e == l.AD_SKIP) return u.IDLE;
                                        if (e == l.PLAY) return u.PLAYING;
                                        if (e == l.PAUSE || e == l.BUFFER_STOP) return u.PAUSED;
                                        if (e == l.BUFFER) return u.BUFFERING_DURING_PAUSE
                                    } else if (a == u.PAUSED_DURING_BUFFERING) {
                                        if (e == l.END || e == l.AD_SKIP) return u.IDLE;
                                        if (e == l.SEEK_START) return u.SEEKING_DURING_BUFFERING;
                                        if (e == l.PAUSE) return u.PAUSED;
                                        if (e == l.PLAY || e == l.BUFFER_STOP) return u.PLAYING
                                    }
                                    return null
                                },
                                getCurrentState: function() {
                                    return a
                                },
                                newEvent: function(e, t) {
                                    var n = o.eventTypeToState(e);
                                    a != n && (i = a, a = n, r = t)
                                },
                                getPreviousState: function() {
                                    return i
                                },
                                getLastStateChangeTimestamp: function() {
                                    return r
                                }
                            }), n()
                        }
                    }(),
                    y = function() {
                        return function(e) {
                            var n = this;
                            t.extend(n, {
                                onSeekStartWhenPausedOrBufferingDuringPause: function(t, n) {
                                    var r = parseInt(n.ns_st_po);
                                    e.getPlaylist().getClip().isSeeking() ? e.getPlaylist().getClip().isCollectingSeekingTime() || (e.getPlaylist().getClip().setSeekingTimestamp(t), e.getPlaylist().getClip().setCollectingSeekingTime(!0)) : e.getPlaylist().getClip().incrementSeeks(), e.getPlaylist().getClip().isSeeking() || (e.getPlaylist().getClip().setSeeking(!0), e.getPlaylist().getClip().setCollectingSeekingTime(!0), e.getPlaylist().getClip().setSeekStartPosition(r), e.getPlaylist().getClip().setSeekingTimestamp(t))
                                },
                                onBufferWhenSeekingOrPlayBackNotStartedOrPaused: function(t, n) {
                                    e.getPlaylist().setBufferingTimestamp(t), e.getPlaylist().getClip().setBufferingTimestamp(t)
                                },
                                onPlayWhenSeekingDuringBufferingOrSeekingDuringPause: function(t, n) {
                                    var r = parseInt(n.ns_st_po);
                                    e.getPlaylist().getClip().isSeeking() && (e.getPlaylist().getClip().isCollectingSeekingTime() && (e.getPlaylist().getClip().addSeekingTime(t), e.getPlaylist().getClip().setCollectingSeekingTime(!1)), e.getPlaylist().getClip().addSeekingAmount(r), e.getPlaylist().getClip().setSeeking(!1)), e.getPlaylist().getClip().incrementPlayCounter(), e.getPlaylist().setPlaybackTimestamp(t), e.getPlaylist().getClip().setPlaybackTimestamp(t), e.getPlaylist().getClip().addElapsedTime(t), e.getPlaylist().getClip().setElapsedTimestamp(t), e.getPlaylist().getClip().setPlaybackStartPosition(r), e.getHeartbeat().resume(), e.getKeepAlive().resume();
                                    var i = e.getSSECore().createLabels(l.PLAY, n, t);
                                    e.getEventManager().newEvent(i)
                                },
                                onBufferStopWhenBufferingDuringSeekingOrBufferingDuringPause: function(t, n) {
                                    e.getPlaylist().addBufferingTime(t), e.getPlaylist().getClip().addBufferingTime(t)
                                },
                                onPauseWhenSeekingDuringPlaybackOrSeekingDuringPause: function(t, n) {
                                    e.getPlaylist().getClip().isSeeking() && e.getPlaylist().getClip().isCollectingSeekingTime() && (e.getPlaylist().getClip().addSeekingTime(t), e.getPlaylist().getClip().setCollectingSeekingTime(!1))
                                },
                                onEndOrAdSkipWhenSeekingDuringBufferingOrSeekingDuringPause: function(n, r) {
                                    e.getSSECore().resetHeartbeat(), e.getSSECore().resetKeepAlive(), e.getPlaylist().getClip().addElapsedTime(n);
                                    var i = e.getSSECore().createLabels(l.END, r, n);
                                    e.getEventManager().newEvent(i), e.getPlaylist().getClip().isSeeking() && e.getPlaylist().getClip().isCollectingSeekingTime() && (e.getPlaylist().getClip().setSeekingTimeBeforeEnd(n - e.getPlaylist().getClip().getSeekingTimestamp()), e.getPlaylist().getClip().setCollectingSeekingTime(!1)), e.getPlaylist().storeClipPlaybackCounters(), e.getPlaylist().getClip().resetClipLifecycleLabels(), e.getPlaylist().getClip().setPlaybackStarted(!1), r.hasOwnProperty("ns_st_pe") && t.parseBoolean(r.ns_st_pe, !1) && e.getSSECore().resetPlaylist()
                                },
                                onBufferStopWhenSeekingDuringBufferingOrSeekingDuringPause: function(t, n) {
                                    e.getPlaylist().getClip().isSeeking() && e.getPlaylist().getClip().isCollectingSeekingTime() && (e.getPlaylist().getClip().addSeekingTime(t), e.getPlaylist().getClip().setCollectingSeekingTime(!1))
                                }
                            })
                        }
                    }(),
                    g = function() {
                        return function(e) {
                            var n = this;
                            t.extend(n, {
                                onEndOrAdSkip: function(n, r) {
                                    e.getPlaylist().addBufferingTime(n), e.getPlaylist().getClip().addBufferingTime(n), e.getPlaylist().getClip().isSeeking() && e.getPlaylist().getClip().isCollectingSeekingTime() && e.getPlaylist().getClip().setSeekingTimeBeforeEnd(n - e.getPlaylist().getClip().getSeekingTimestamp()), e.getPlaylist().getClip().resetClipLifecycleLabels(), e.getPlaylist().getClip().setPlaybackStarted(!1), r.hasOwnProperty("ns_st_pe") && t.parseBoolean(r.ns_st_pe, !1) && e.getSSECore().resetPlaylist()
                                },
                                onBufferStop: function(t, n) {
                                    e.getPlaylist().addBufferingTime(t), e.getPlaylist().getClip().addBufferingTime(t), e.getPlaylist().getClip().isSeeking() && e.getPlaylist().getClip().isCollectingSeekingTime() && (e.getPlaylist().getClip().addSeekingTime(t), e.getPlaylist().getClip().setCollectingSeekingTime(!1))
                                },
                                onSeekStart: function(t, n) {
                                    var r = parseInt(n.ns_st_po);
                                    e.getPlaylist().addBufferingTime(t), e.getPlaylist().getClip().addBufferingTime(t), e.getPlaylist().getClip().isSeeking() ? e.getPlaylist().getClip().isCollectingSeekingTime() || (e.getPlaylist().getClip().setSeekingTimestamp(t), e.getPlaylist().getClip().setCollectingSeekingTime(!0)) : e.getPlaylist().getClip().incrementSeeks(), e.getPlaylist().getClip().isSeeking() || (e.getPlaylist().getClip().setSeeking(!0), e.getPlaylist().getClip().setCollectingSeekingTime(!0), e.getPlaylist().getClip().setSeekStartPosition(r), e.getPlaylist().getClip().setSeekingTimestamp(t))
                                },
                                onPause: function(t, n) {
                                    e.getPlaylist().addBufferingTime(t), e.getPlaylist().getClip().addBufferingTime(t), e.getPlaylist().getClip().isSeeking() && e.getPlaylist().getClip().isCollectingSeekingTime() && (e.getPlaylist().getClip().addSeekingTime(t), e.getPlaylist().getClip().setCollectingSeekingTime(!1))
                                },
                                onPlay: function(t, n) {
                                    var r = parseInt(n.ns_st_po);
                                    e.getPlaylist().addBufferingTime(t), e.getPlaylist().getClip().addBufferingTime(t), e.getPlaylist().getClip().isSeeking() && (e.getPlaylist().getClip().isCollectingSeekingTime() && (e.getPlaylist().getClip().addSeekingTime(t), e.getPlaylist().getClip().setCollectingSeekingTime(!1)), e.getPlaylist().getClip().addSeekingAmount(r), e.getPlaylist().getClip().setSeeking(!1)), e.getPlaylist().isPlaylistStarted() || (e.getPlaylist().setPlaylistStarted(!0), e.getPlaylist().incrementPlaybackCounter()), e.getPlaylist().getClip().setClipStarted(!0), e.getPlaylist().getClip().setPlaybackStarted(!0), e.getPlaylist().getClip().incrementSegmentPlaybackCounter(), (0 == e.getPlaylist().getClip().getLowestPartNumberPlayed() || parseInt(e.getPlaylist().getClip().getLabels().ns_st_pn) <= e.getPlaylist().getClip().getLowestPartNumberPlayed()) && (e.getPlaylist().getClip().setLowestPartNumberPlayed(parseInt(e.getPlaylist().getClip().getLabels().ns_st_pn)), e.getPlaylist().getClip().incrementAssetPlaybackCounter(), e.getPlaylist().getClip().resetAssetPlaybackCounters()), e.getPlaylist().getClip().incrementPlayCounter(), e.getPlaylist().setPlaybackTimestamp(t), e.getPlaylist().getClip().setPlaybackTimestamp(t), e.getPlaylist().getClip().setElapsedTimestamp(t), e.getPlaylist().getClip().setPlaybackStartPosition(r), e.getSSECore().isLoadingTimeSent() || (n.ns_st_lt = String(e.getSSECore().getLoadTimeOffset() + t - e.getSSECore().getInitTimestamp()), e.getSSECore().setLoadingTimeSent(!0)), e.getHeartbeat().resume(), e.getKeepAlive().resume();
                                    var i = e.getSSECore().createLabels(l.PLAY, n, t);
                                    e.getEventManager().newEvent(i)
                                }
                            })
                        }
                    }(),
                    E = function() {
                        return function(e) {
                            var n = this;
                            t.extend(n, {
                                onEndAndSkip: function(n, r) {
                                    e.getSSECore().resetHeartbeat(), e.getSSECore().resetKeepAlive(), e.getPlaylist().addBufferingTime(n), e.getPlaylist().getClip().addBufferingTime(n), e.getPlaylist().getClip().addElapsedTime(n);
                                    var i = e.getSSECore().createLabels(l.END, r, n);
                                    e.getEventManager().newEvent(i), e.getPlaylist().getClip().isSeeking() && e.getPlaylist().getClip().isCollectingSeekingTime() && (e.getPlaylist().getClip().setSeekingTimeBeforeEnd(n - e.getPlaylist().getClip().getSeekingTimestamp()), e.getPlaylist().getClip().setCollectingSeekingTime(!1)), e.getPlaylist().storeClipPlaybackCounters(), e.getPlaylist().getClip().resetClipLifecycleLabels(), e.getPlaylist().getClip().setPlaybackStarted(!1), r.hasOwnProperty("ns_st_pe") && t.parseBoolean(r.ns_st_pe, !1) && e.getSSECore().resetPlaylist()
                                },
                                onPause: function(t, n) {
                                    e.getPlaylist().addBufferingTime(t), e.getPlaylist().getClip().addBufferingTime(t)
                                },
                                onPlay: function(t, n) {
                                    var r = parseInt(n.ns_st_po);
                                    e.getPlaylist().addBufferingTime(t), e.getPlaylist().getClip().addBufferingTime(t), e.getPlaylist().getClip().isSeeking() && (e.getPlaylist().getClip().isCollectingSeekingTime() && (e.getPlaylist().getClip().addSeekingTime(t), e.getPlaylist().getClip().setCollectingSeekingTime(!1)), e.getPlaylist().getClip().addSeekingAmount(r), e.getPlaylist().getClip().setSeeking(!1)), e.getPlaylist().getClip().incrementPlayCounter(), e.getPlaylist().setPlaybackTimestamp(t), e.getPlaylist().getClip().setPlaybackTimestamp(t), e.getPlaylist().getClip().addElapsedTime(t), e.getPlaylist().getClip().setElapsedTimestamp(t), e.getPlaylist().getClip().setPlaybackStartPosition(r), e.getHeartbeat().resume(), e.getKeepAlive().resume();
                                    var i = e.getSSECore().createLabels(l.PLAY, n, t);
                                    e.getEventManager().newEvent(i)
                                }
                            })
                        }
                    }(),
                    b = function() {
                        return function(e) {
                            var n = this;
                            t.extend(n, {
                                onPauseOnBuffering: function(t, n) {
                                    var r = parseInt(n.ns_st_po);
                                    e.getSSECore().stopPausedOnBufferingTimer(), e.getHeartbeat().pause(), e.getSSECore().resetKeepAlive(), e.getPlaylist().addPlaybackTime(t), e.getPlaylist().getClip().addPlaybackTime(t), e.getPlaylist().getClip().addElapsedTime(t), e.getPlaylist().getClip().setElapsedTimestamp(t), e.getPlaylist().getClip().addInterval(r), e.getPlaylist().addBufferingTime(t), e.getPlaylist().getClip().addBufferingTime(t), e.getPlaylist().incrementPauses(), e.getPlaylist().getClip().incrementPauses();
                                    var i = e.getSSECore().createLabels(l.PAUSE, n, t);
                                    e.getEventManager().newEvent(i), e.getPlaylist().setBufferingTimestamp(t), e.getPlaylist().getClip().setBufferingTimestamp(t), e.getPlaylist().getClip().setPlaybackTimeOffset(r)
                                },
                                onBufferStop: function(t, n) {
                                    e.getPlaylist().addBufferingTime(t), e.getPlaylist().getClip().addBufferingTime(t)
                                },
                                onEndOrAdSkip: function(n, r) {
                                    var i = parseInt(r.ns_st_po);
                                    e.getSSECore().resetHeartbeat(), e.getSSECore().resetKeepAlive(), e.getSSECore().stopPausedOnBufferingTimer(), e.getPlaylist().addBufferingTime(n), e.getPlaylist().getClip().addBufferingTime(n), e.getPlaylist().getClip().addPlaybackTime(n), e.getPlaylist().getClip().addElapsedTime(n), e.getPlaylist().getClip().addInterval(i);
                                    var a = e.getSSECore().createLabels(l.END, r, n);
                                    e.getEventManager().newEvent(a), e.getPlaylist().getClip().resetClipLifecycleLabels(), e.getPlaylist().getClip().setPlaybackStarted(!1), r.hasOwnProperty("ns_st_pe") && t.parseBoolean(r.ns_st_pe, !1) && e.getSSECore().resetPlaylist()
                                },
                                onSeekStart: function(t, n) {
                                    var r = parseInt(n.ns_st_po);
                                    e.getSSECore().stopPausedOnBufferingTimer(), e.getPlaylist().addPlaybackTime(t), e.getPlaylist().getClip().addPlaybackTime(t), e.getPlaylist().getClip().addElapsedTime(t), e.getPlaylist().getClip().setElapsedTimestamp(t), e.getPlaylist().getClip().addInterval(r), e.getPlaylist().addBufferingTime(t), e.getPlaylist().getClip().addBufferingTime(t), e.getPlaylist().getClip().incrementSeeks(), e.getPlaylist().getClip().setSeeking(!0), e.getPlaylist().getClip().setCollectingSeekingTime(!0), e.getPlaylist().getClip().setSeekStartPosition(r), e.getPlaylist().getClip().setSeekingTimestamp(t), e.getPlaylist().incrementPauses(), e.getPlaylist().getClip().incrementPauses();
                                    var i = e.getSSECore().createLabels(l.PAUSE, n, t);
                                    e.getEventManager().newEvent(i)
                                },
                                onPause: function(t, n) {
                                    var r = parseInt(n.ns_st_po);
                                    e.getSSECore().stopPausedOnBufferingTimer(), e.getPlaylist().addPlaybackTime(t), e.getPlaylist().getClip().addPlaybackTime(t), e.getPlaylist().getClip().addElapsedTime(t), e.getPlaylist().getClip().setElapsedTimestamp(t), e.getPlaylist().getClip().addInterval(r), e.getPlaylist().addBufferingTime(t), e.getPlaylist().getClip().addBufferingTime(t), e.getPlaylist().incrementPauses(), e.getPlaylist().getClip().incrementPauses();
                                    var i = e.getSSECore().createLabels(l.PAUSE, n, t);
                                    e.getEventManager().newEvent(i)
                                },
                                onPlay: function(t, n) {
                                    e.getSSECore().stopPausedOnBufferingTimer(), e.getPlaylist().addBufferingTime(t), e.getPlaylist().getClip().addBufferingTime(t)
                                }
                            })
                        }
                    }(),
                    T = function() {
                        return function(e) {
                            var n = this;
                            t.extend(n, {
                                onEndOrAdSkip: function(n, r) {
                                    e.getSSECore().resetHeartbeat(), e.getSSECore().resetKeepAlive(), e.getSSECore().stopPausedOnBufferingTimer(), e.getPlaylist().addBufferingTime(n), e.getPlaylist().getClip().addBufferingTime(n), e.getPlaylist().getClip().addElapsedTime(n);
                                    var i = e.getSSECore().createLabels(l.END, r, n);
                                    e.getEventManager().newEvent(i), e.getPlaylist().getClip().isSeeking() && e.getPlaylist().getClip().isCollectingSeekingTime() && (e.getPlaylist().getClip().setSeekingTimeBeforeEnd(n - e.getPlaylist().getClip().getSeekingTimestamp()), e.getPlaylist().getClip().setCollectingSeekingTime(!1)), e.getPlaylist().storeClipPlaybackCounters(), e.getPlaylist().getClip().resetClipLifecycleLabels(), e.getPlaylist().getClip().setPlaybackStarted(!1), r.hasOwnProperty("ns_st_pe") && t.parseBoolean(r.ns_st_pe, !1) && e.getSSECore().resetPlaylist()
                                },
                                onPause: function(t, n) {
                                    e.getPlaylist().addBufferingTime(t), e.getPlaylist().getClip().addBufferingTime(t), e.getPlaylist().incrementPauses(), e.getPlaylist().getClip().incrementPauses(), e.getPlaylist().getClip().isSeeking() && e.getPlaylist().getClip().isCollectingSeekingTime() && (e.getPlaylist().getClip().addSeekingTime(t), e.getPlaylist().getClip().setCollectingSeekingTime(!1))
                                },
                                onPlay: function(t, n) {
                                    var r = parseInt(n.ns_st_po);
                                    e.getPlaylist().addBufferingTime(t), e.getPlaylist().getClip().addBufferingTime(t), e.getPlaylist().getClip().isSeeking() && (e.getPlaylist().getClip().isCollectingSeekingTime() && (e.getPlaylist().getClip().addSeekingTime(t), e.getPlaylist().getClip().setCollectingSeekingTime(!1)), e.getPlaylist().getClip().addSeekingAmount(r), e.getPlaylist().getClip().setSeeking(!1)), e.getPlaylist().getClip().incrementPlayCounter(), e.getPlaylist().setPlaybackTimestamp(t), e.getPlaylist().getClip().setPlaybackTimestamp(t), e.getPlaylist().getClip().addElapsedTime(t), e.getPlaylist().getClip().setElapsedTimestamp(t), e.getPlaylist().getClip().setPlaybackStartPosition(r), e.getHeartbeat().resume(), e.getKeepAlive().resume();
                                    var i = e.getSSECore().createLabels(l.PLAY, n, t);
                                    e.getEventManager().newEvent(i)
                                }
                            })
                        }
                    }(),
                    S = function() {
                        return function(e) {
                            var n = this;
                            t.extend(n, {
                                onBuffer: function(t, n) {
                                    e.getPlaylist().getClip().setSeekingTime(e.getPlaylist().getClip().getSeekingTimeBeforeEnd()), e.getPlaylist().setBufferingTimestamp(t), e.getPlaylist().getClip().setBufferingTimestamp(t)
                                },
                                onSeekStart: function(t, n) {
                                    var r = parseInt(n.ns_st_po);
                                    e.getPlaylist().getClip().setSeekingTime(e.getPlaylist().getClip().getSeekingTimeBeforeEnd()), e.getPlaylist().getClip().incrementSeeks(), e.getPlaylist().getClip().setSeeking(!0), e.getPlaylist().getClip().setCollectingSeekingTime(!0), e.getPlaylist().getClip().setSeekStartPosition(r), e.getPlaylist().getClip().setSeekingTimestamp(t)
                                },
                                onPlay: function(t, n) {
                                    var r = parseInt(n.ns_st_po);
                                    e.getPlaylist().getClip().setSeekingTime(e.getPlaylist().getClip().getSeekingTimeBeforeEnd()), e.getPlaylist().getClip().isSeeking() && (e.getPlaylist().getClip().addSeekingAmount(r), e.getPlaylist().getClip().setSeeking(!1)), e.getPlaylist().isPlaylistStarted() || (e.getPlaylist().setPlaylistStarted(!0), e.getPlaylist().incrementPlaybackCounter()), e.getPlaylist().getClip().setClipStarted(!0), e.getPlaylist().getClip().setPlaybackStarted(!0), e.getPlaylist().getClip().incrementSegmentPlaybackCounter(), (0 == e.getPlaylist().getClip().getLowestPartNumberPlayed() || parseInt(e.getPlaylist().getClip().getLabel("ns_st_pn")) <= e.getPlaylist().getClip().getLowestPartNumberPlayed()) && (e.getPlaylist().getClip().setLowestPartNumberPlayed(parseInt(e.getPlaylist().getClip().getLabel("ns_st_pn"))), e.getPlaylist().getClip().incrementAssetPlaybackCounter(), e.getPlaylist().getClip().resetAssetPlaybackCounters()), e.getPlaylist().getClip().incrementPlayCounter(), e.getPlaylist().setPlaybackTimestamp(t), e.getPlaylist().getClip().setPlaybackTimestamp(t), e.getPlaylist().getClip().setElapsedTimestamp(t), e.getPlaylist().getClip().setPlaybackStartPosition(r), e.getSSECore().isLoadingTimeSent() || (n.ns_st_lt = String(e.getSSECore().getLoadTimeOffset() + t - e.getSSECore().getInitTimestamp()), e.getSSECore().setLoadingTimeSent(!0)), e.getHeartbeat().resume(), e.getKeepAlive().resume();
                                    var i = e.getSSECore().createLabels(l.PLAY, n, t);
                                    e.getEventManager().newEvent(i)
                                }
                            })
                        }
                    }(),
                    A = function() {
                        return function(e) {
                            var n = this;
                            t.extend(n, {
                                onEndOrAdSkip: function(n, r) {
                                    e.getSSECore().resetHeartbeat(), e.getSSECore().resetKeepAlive(), e.getPlaylist().getClip().addElapsedTime(n);
                                    var i = e.getSSECore().createLabels(l.END, r, n);
                                    e.getEventManager().newEvent(i), e.getPlaylist().getClip().isSeeking() && e.getPlaylist().getClip().isCollectingSeekingTime() && (e.getPlaylist().getClip().setSeekingTimeBeforeEnd(n - e.getPlaylist().getClip().getSeekingTimestamp()), e.getPlaylist().getClip().setSeeking(!1)), e.getPlaylist().storeClipPlaybackCounters(), e.getPlaylist().getClip().resetClipLifecycleLabels(), e.getPlaylist().getClip().setPlaybackStarted(!1), r.hasOwnProperty("ns_st_pe") && t.parseBoolean(r.ns_st_pe, !1) && e.getSSECore().resetPlaylist()
                                },
                                onPlay: function(t, n) {
                                    var r = parseInt(n.ns_st_po);
                                    e.getPlaylist().getClip().isSeeking() && (e.getPlaylist().getClip().isCollectingSeekingTime() && (e.getPlaylist().getClip().addSeekingTime(t), e.getPlaylist().getClip().setCollectingSeekingTime(!1)), e.getPlaylist().getClip().addSeekingAmount(r), e.getPlaylist().getClip().setSeeking(!1)), e.getPlaylist().getClip().incrementPlayCounter(), e.getPlaylist().setPlaybackTimestamp(t), e.getPlaylist().getClip().setPlaybackTimestamp(t), e.getPlaylist().getClip().addElapsedTime(t), e.getPlaylist().getClip().setElapsedTimestamp(t), e.getPlaylist().getClip().setPlaybackStartPosition(r), e.getHeartbeat().resume(), e.getKeepAlive().resume();
                                    var i = e.getSSECore().createLabels(l.PLAY, n, t);
                                    e.getEventManager().newEvent(i)
                                }
                            })
                        }
                    }(),
                    C = function() {
                        return function(e) {
                            var n = this;
                            t.extend(n, {
                                onEndOrAdSkip: function(n, r) {
                                    e.getSSECore().resetHeartbeat(), e.getSSECore().resetKeepAlive(), e.getPlaylist().addBufferingTime(n), e.getPlaylist().getClip().addBufferingTime(n), e.getPlaylist().getClip().addElapsedTime(n);
                                    var i = e.getSSECore().createLabels(l.END, r, n);
                                    e.getEventManager().newEvent(i), e.getPlaylist().getClip().isSeeking() && e.getPlaylist().getClip().isCollectingSeekingTime() && (e.getPlaylist().getClip().setSeekingTimeBeforeEnd(n - e.getPlaylist().getClip().getSeekingTimestamp()), e.getPlaylist().getClip().setCollectingSeekingTime(!1)), e.getPlaylist().storeClipPlaybackCounters(), e.getPlaylist().getClip().resetClipLifecycleLabels(), e.getPlaylist().getClip().setPlaybackStarted(!1),
                                        r.hasOwnProperty("ns_st_pe") && t.parseBoolean(r.ns_st_pe, !1) && e.getSSECore().resetPlaylist()
                                },
                                onBufferStop: function(t, n) {
                                    var r = parseInt(n.ns_st_po);
                                    e.getPlaylist().addBufferingTime(t), e.getPlaylist().getClip().addBufferingTime(t), e.getPlaylist().setPlaybackTimestamp(t), e.getPlaylist().getClip().setPlaybackTimestamp(t), e.getPlaylist().getClip().addElapsedTime(t), e.getPlaylist().getClip().setElapsedTimestamp(t), e.getPlaylist().getClip().setPlaybackStartPosition(r), e.getHeartbeat().resume(), e.getKeepAlive().resume();
                                    var i = e.getSSECore().createLabels(l.PLAY, n, t);
                                    e.getEventManager().newEvent(i)
                                },
                                onSeekStart: function(t, n) {
                                    var r = parseInt(n.ns_st_po);
                                    e.getPlaylist().addBufferingTime(t), e.getPlaylist().getClip().addBufferingTime(t), e.getPlaylist().getClip().isSeeking() ? e.getPlaylist().getClip().isCollectingSeekingTime() || (e.getPlaylist().getClip().setSeekingTimestamp(t), e.getPlaylist().getClip().setCollectingSeekingTime(!0)) : e.getPlaylist().getClip().incrementSeeks(), e.getPlaylist().getClip().isSeeking() || (e.getPlaylist().getClip().setSeeking(!0), e.getPlaylist().getClip().setCollectingSeekingTime(!0), e.getPlaylist().getClip().setSeekStartPosition(r), e.getPlaylist().getClip().setSeekingTimestamp(t))
                                },
                                onPause: function(t, n) {
                                    e.getPlaylist().addBufferingTime(t), e.getPlaylist().getClip().addBufferingTime(t), e.getPlaylist().incrementPauses(), e.getPlaylist().getClip().incrementPauses()
                                },
                                onPlay: function(t, n) {
                                    var r = parseInt(n.ns_st_po);
                                    e.getPlaylist().addBufferingTime(t), e.getPlaylist().getClip().addBufferingTime(t), e.getPlaylist().getClip().incrementPlayCounter(), e.getPlaylist().setPlaybackTimestamp(t), e.getPlaylist().getClip().setPlaybackTimestamp(t), e.getPlaylist().getClip().addElapsedTime(t), e.getPlaylist().getClip().setElapsedTimestamp(t), e.getPlaylist().getClip().setPlaybackStartPosition(r), e.getHeartbeat().resume(), e.getKeepAlive().resume();
                                    var i = e.getSSECore().createLabels(l.PLAY, n, t);
                                    e.getEventManager().newEvent(i)
                                }
                            })
                        }
                    }(),
                    P = function() {
                        return function(e) {
                            var n = this;
                            t.extend(n, {
                                onEndOrAdSkip: function(n, r) {
                                    e.getPlaylist().getClip().isSeeking() && e.getPlaylist().getClip().isCollectingSeekingTime() && (e.getPlaylist().getClip().setSeekingTimeBeforeEnd(n - e.getPlaylist().getClip().getSeekingTimestamp()), e.getPlaylist().getClip().setCollectingSeekingTime(!1)), e.getPlaylist().storeClipPlaybackCounters(), e.getPlaylist().getClip().resetClipLifecycleLabels(), e.getPlaylist().getClip().setPlaybackStarted(!1), r.hasOwnProperty("ns_st_pe") && t.parseBoolean(r.ns_st_pe, !1) && e.getSSECore().resetPlaylist()
                                },
                                onSeekStart: function(t, n) {
                                    var r = parseInt(n.ns_st_po);
                                    e.getPlaylist().getClip().isSeeking() ? e.getPlaylist().getClip().setSeekingTimestamp(t) : e.getPlaylist().getClip().incrementSeeks(), e.getPlaylist().getClip().isSeeking() || (e.getPlaylist().getClip().setSeeking(!0), e.getPlaylist().getClip().setCollectingSeekingTime(!0), e.getPlaylist().getClip().setSeekStartPosition(r), e.getPlaylist().getClip().setSeekingTimestamp(t))
                                },
                                onPlay: function(t, n) {
                                    var r = parseInt(n.ns_st_po);
                                    e.getPlaylist().getClip().isSeeking() && (e.getPlaylist().getClip().addSeekingAmount(r), e.getPlaylist().getClip().setSeeking(!1)), e.getPlaylist().isPlaylistStarted() || (e.getPlaylist().setPlaylistStarted(!0), e.getPlaylist().incrementPlaybackCounter()), e.getPlaylist().getClip().setClipStarted(!0), e.getPlaylist().getClip().setPlaybackStarted(!0), e.getPlaylist().getClip().incrementSegmentPlaybackCounter(), (0 == e.getPlaylist().getClip().getLowestPartNumberPlayed() || parseInt(e.getPlaylist().getClip().getLabels().ns_st_pn) <= e.getPlaylist().getClip().getLowestPartNumberPlayed()) && (e.getPlaylist().getClip().setLowestPartNumberPlayed(parseInt(e.getPlaylist().getClip().getLabels().ns_st_pn)), e.getPlaylist().getClip().incrementAssetPlaybackCounter(), e.getPlaylist().getClip().resetAssetPlaybackCounters()), e.getPlaylist().getClip().incrementPlayCounter(), e.getPlaylist().setPlaybackTimestamp(t), e.getPlaylist().getClip().setPlaybackTimestamp(t), e.getPlaylist().getClip().setElapsedTimestamp(t), e.getPlaylist().getClip().setPlaybackStartPosition(r), e.getSSECore().isLoadingTimeSent() || (n.ns_st_lt = String(e.getSSECore().getLoadTimeOffset() + t - e.getSSECore().getInitTimestamp()), e.getSSECore().setLoadingTimeSent(!0)), e.getHeartbeat().resume(), e.getKeepAlive().resume();
                                    var i = e.getSSECore().createLabels(l.PLAY, n, t);
                                    e.getEventManager().newEvent(i)
                                }
                            })
                        }
                    }(),
                    O = function() {
                        return function(e) {
                            var n = this;
                            t.extend(n, {
                                onEndOrAdSkip: function(n, r) {
                                    var i = parseInt(r.ns_st_po);
                                    e.getSSECore().resetHeartbeat(), e.getSSECore().resetKeepAlive(), e.getPlaylist().addPlaybackTime(n), e.getPlaylist().getClip().addPlaybackTime(n), e.getPlaylist().getClip().addElapsedTime(n), e.getPlaylist().getClip().addInterval(i);
                                    var a = e.getSSECore().createLabels(l.END, r, n);
                                    e.getEventManager().newEvent(a), e.getPlaylist().getClip().resetClipLifecycleLabels(), e.getPlaylist().getClip().setPlaybackStarted(!1), r.hasOwnProperty("ns_st_pe") && t.parseBoolean(r.ns_st_pe, !1) && e.getSSECore().resetPlaylist()
                                },
                                onBuffer: function(t, n) {
                                    e.getSSECore().isPauseOnBufferingEnabled() && e.getSSECore().startPausedOnBufferingTimer(t, n), e.getPlaylist().getClip().incrementBufferCount(), e.getPlaylist().setBufferingTimestamp(t), e.getPlaylist().getClip().setBufferingTimestamp(t)
                                },
                                onSeekStart: function(t, n) {
                                    var r = parseInt(n.ns_st_po);
                                    e.getHeartbeat().pause(), e.getSSECore().resetKeepAlive(), e.getPlaylist().addPlaybackTime(t), e.getPlaylist().getClip().addPlaybackTime(t), e.getPlaylist().getClip().addElapsedTime(t), e.getPlaylist().getClip().setElapsedTimestamp(t), e.getPlaylist().getClip().addInterval(r), e.getPlaylist().getClip().incrementSeeks(), e.getPlaylist().getClip().setSeeking(!0), e.getPlaylist().getClip().setCollectingSeekingTime(!0), e.getPlaylist().getClip().setSeekStartPosition(r), e.getPlaylist().getClip().setSeekingTimestamp(t), e.getPlaylist().incrementPauses(), e.getPlaylist().getClip().incrementPauses();
                                    var i = e.getSSECore().createLabels(l.PAUSE, n, t);
                                    e.getEventManager().newEvent(i)
                                },
                                onPause: function(t, n) {
                                    var r = parseInt(n.ns_st_po);
                                    e.getHeartbeat().pause(), e.getSSECore().resetKeepAlive(), e.getPlaylist().addPlaybackTime(t), e.getPlaylist().getClip().addPlaybackTime(t), e.getPlaylist().getClip().addElapsedTime(t), e.getPlaylist().getClip().setElapsedTimestamp(t), e.getPlaylist().getClip().addInterval(r), e.getPlaylist().incrementPauses(), e.getPlaylist().getClip().incrementPauses();
                                    var i = e.getSSECore().createLabels(l.PAUSE, n, t);
                                    e.getEventManager().newEvent(i)
                                }
                            })
                        }
                    }(),
                    w = function() {
                        return function(e) {
                            var n = this;
                            t.extend(n, {
                                onEndOrAdSkip: function(n, r) {
                                    e.getPlaylist().getClip().isSeeking() && e.getPlaylist().getClip().isCollectingSeekingTime() && (e.getPlaylist().getClip().setSeekingTimeBeforeEnd(n - e.getPlaylist().getClip().getSeekingTimestamp()), e.getPlaylist().getClip().setCollectingSeekingTime(!1)), e.getPlaylist().storeClipPlaybackCounters(), e.getPlaylist().getClip().resetClipLifecycleLabels(), e.getPlaylist().getClip().setPlaybackStarted(!1), r.hasOwnProperty("ns_st_pe") && t.parseBoolean(r.ns_st_pe, !1) && e.getSSECore().resetPlaylist()
                                },
                                onPause: function(t, n) {
                                    e.getPlaylist().getClip().isSeeking() && e.getPlaylist().getClip().isCollectingSeekingTime() && (e.getPlaylist().getClip().addSeekingTime(t), e.getPlaylist().getClip().setCollectingSeekingTime(!1))
                                },
                                onPlay: function(t, n) {
                                    var r = parseInt(n.ns_st_po);
                                    e.getPlaylist().getClip().isSeeking() && (e.getPlaylist().getClip().isCollectingSeekingTime() && (e.getPlaylist().getClip().addSeekingTime(t), e.getPlaylist().getClip().setCollectingSeekingTime(!1)), e.getPlaylist().getClip().addSeekingAmount(r), e.getPlaylist().getClip().setSeeking(!1)), e.getPlaylist().isPlaylistStarted() || (e.getPlaylist().setPlaylistStarted(!0), e.getPlaylist().incrementPlaybackCounter()), e.getPlaylist().getClip().setClipStarted(!0), e.getPlaylist().getClip().setPlaybackStarted(!0), e.getPlaylist().getClip().incrementSegmentPlaybackCounter(), (0 == e.getPlaylist().getClip().getLowestPartNumberPlayed() || parseInt(e.getPlaylist().getClip().getLabels().ns_st_pn) <= e.getPlaylist().getClip().getLowestPartNumberPlayed()) && (e.getPlaylist().getClip().setLowestPartNumberPlayed(parseInt(e.getPlaylist().getClip().getLabels().ns_st_pn)), e.getPlaylist().getClip().incrementAssetPlaybackCounter(), e.getPlaylist().getClip().resetAssetPlaybackCounters()), e.getPlaylist().getClip().incrementPlayCounter(), e.getPlaylist().setPlaybackTimestamp(t), e.getPlaylist().getClip().setPlaybackTimestamp(t), e.getPlaylist().getClip().setElapsedTimestamp(t), e.getPlaylist().getClip().setPlaybackStartPosition(r), e.getSSECore().isLoadingTimeSent() || (n.ns_st_lt = String(e.getSSECore().getLoadTimeOffset() + t - e.getSSECore().getInitTimestamp()), e.getSSECore().setLoadingTimeSent(!0)), e.getHeartbeat().resume(), e.getKeepAlive().resume();
                                    var i = e.getSSECore().createLabels(l.PLAY, n, t);
                                    e.getEventManager().newEvent(i)
                                }
                            })
                        }
                    }(),
                    k = function() {
                        return function(e) {
                            var n = this;
                            t.extend(n, {
                                onPause: function(t, n) {
                                    e.getPlaylist().incrementPauses(), e.getPlaylist().getClip().incrementPauses(), e.getPlaylist().getClip().isSeeking() && e.getPlaylist().getClip().isCollectingSeekingTime() && (e.getPlaylist().getClip().addSeekingTime(t), e.getPlaylist().getClip().setCollectingSeekingTime(!1))
                                }
                            })
                        }
                    }(),
                    I = function() {
                        return function(e) {
                            var n = this;
                            t.extend(n, {
                                onEndOrAdSkip: function(n, r) {
                                    parseInt(r.ns_st_po), e.getSSECore().resetHeartbeat(), e.getSSECore().resetKeepAlive(), e.getPlaylist().getClip().addElapsedTime(n);
                                    var i = e.getSSECore().createLabels(l.END, r, n);
                                    e.getEventManager().newEvent(i), e.getPlaylist().getClip().isSeeking() && e.getPlaylist().getClip().isCollectingSeekingTime() && (e.getPlaylist().getClip().setSeekingTimeBeforeEnd(n - e.getPlaylist().getClip().getSeekingTimestamp()), e.getPlaylist().getClip().setCollectingSeekingTime(!1)), e.getPlaylist().storeClipPlaybackCounters(), e.getPlaylist().getClip().resetClipLifecycleLabels(), e.getPlaylist().getClip().setPlaybackStarted(!1), r.hasOwnProperty("ns_st_pe") && t.parseBoolean(r.ns_st_pe, !1) && e.getSSECore().resetPlaylist()
                                },
                                onPlay: function(t, n) {
                                    var r = parseInt(n.ns_st_po);
                                    e.getPlaylist().getClip().isSeeking() && (e.getPlaylist().getClip().isCollectingSeekingTime() && (e.getPlaylist().getClip().addSeekingTime(t), e.getPlaylist().getClip().setCollectingSeekingTime(!1)), e.getPlaylist().getClip().addSeekingAmount(r), e.getPlaylist().getClip().setSeeking(!1)), e.getPlaylist().getClip().incrementPlayCounter(), e.getPlaylist().setPlaybackTimestamp(t), e.getPlaylist().getClip().setPlaybackTimestamp(t), e.getPlaylist().getClip().addElapsedTime(t), e.getPlaylist().getClip().setElapsedTimestamp(t), e.getPlaylist().getClip().setPlaybackStartPosition(r), e.getSSECore().isLoadingTimeSent() || (n.ns_st_lt = String(e.getSSECore().getLoadTimeOffset() + t - e.getSSECore().getInitTimestamp()), e.getSSECore().setLoadingTimeSent(!0)), e.getHeartbeat().resume(), e.getKeepAlive().resume();
                                    var i = e.getSSECore().createLabels(l.PLAY, n, t);
                                    e.getEventManager().newEvent(i)
                                }
                            })
                        }
                    }(),
                    N = function() {
                        return function() {
                            function e() {
                                a = new R(ee), t.getNamespace().comScore ? (te = t.getNamespace().comScore.exports, a.setAppCore(te.c())) : a.setAppCore(null), a.setKeepAlive(new m(a)), a.setHeartbeat(new h(a)), a.setEventManager(new _(a)), a.setStateMachine(new v), a.setPlaylist(new p), J = {}, f = new S(a), N = new A(a), L = new P(a), M = new O(a), D = new g(a), j = new b(a), x = new T(a), U = new E(a), B = new C(a), F = new w(a), V = new k(a), H = new I(a), G = new y(a), q = !1, Y = 0, K = +new Date, W = !0, z = !1, X = []
                            }

                            function n(e) {
                                var t = a.getStateMachine().getCurrentState();
                                if (t == u.IDLE || t == u.PLAYBACK_NOT_STARTED || t == u.BUFFERING_BEFORE_PLAYBACK || t == u.SEEKING_BEFORE_PLAYBACK) {
                                    if (e == l.PLAY) return !0
                                } else if (t == u.PLAYING) {
                                    if (e == l.END || e == l.AD_SKIP || e == l.SEEK_START || e == l.PAUSE) return !0
                                } else if (t == u.PAUSED || t == u.BUFFERING_DURING_PAUSE || t == u.SEEKING_DURING_PLAYBACK || t == u.SEEKING_DURING_BUFFERING || t == u.SEEKING_DURING_PAUSE) {
                                    if (e == l.END || e == l.AD_SKIP || e == l.PLAY) return !0
                                } else if (t == u.BUFFERING_DURING_PLAYBACK) {
                                    if (e == l.PAUSE_ON_BUFFERING || e == l.END || e == l.AD_SKIP || e == l.SEEK_START || e == l.PAUSE || e == l.PLAY) return !0
                                } else if (t == u.BUFFERING_DURING_SEEKING) {
                                    if (e == l.END || e == l.AD_SKIP || e == l.PAUSE || e == l.PLAY) return !0
                                } else if (t == u.PAUSED_DURING_BUFFERING && (e == l.END || e == l.AD_SKIP || e == l.BUFFER_STOP || e == l.PLAY)) return !0;
                                return !1
                            }

                            function r(e, t, r) {
                                var i = a.getStateMachine().getCurrentState();
                                e == l.AD_SKIP && !r.hasOwnProperty("ns_st_ui") && n(e) ? r.ns_st_ui = "skip" : e == l.SEEK_START && !r.hasOwnProperty("ns_st_ui") && n(e) && (r.ns_st_ui = "seek"), i == u.IDLE ? e == l.BUFFER ? f.onBuffer(t, r) : e == l.SEEK_START ? f.onSeekStart(t, r) : e == l.PLAY && f.onPlay(t, r) : i == u.PLAYBACK_NOT_STARTED ? e == l.END || e == l.AD_SKIP ? L.onEndOrAdSkip(t, r) : e == l.SEEK_START ? L.onSeekStart(t, r) : e == l.PLAY ? L.onPlay(t, r) : e == l.BUFFER && G.onBufferWhenSeekingOrPlayBackNotStartedOrPaused(t, r) : i == u.PLAYING ? e == l.END || e == l.AD_SKIP ? M.onEndOrAdSkip(t, r) : e == l.BUFFER ? M.onBuffer(t, r) : e == l.SEEK_START ? M.onSeekStart(t, r) : e == l.PAUSE && M.onPause(t, r) : i == u.PAUSED ? e == l.END || e == l.AD_SKIP ? N.onEndOrAdSkip(t, r) : e == l.PLAY ? N.onPlay(t, r) : e == l.BUFFER ? G.onBufferWhenSeekingOrPlayBackNotStartedOrPaused(t, r) : e == l.SEEK_START && G.onSeekStartWhenPausedOrBufferingDuringPause(t, r) : i == u.BUFFERING_BEFORE_PLAYBACK ? e == l.END || e == l.AD_SKIP ? D.onEndOrAdSkip(t, r) : e == l.BUFFER_STOP ? D.onBufferStop(t, r) : e == l.SEEK_START ? D.onSeekStart(t, r) : e == l.PAUSE ? D.onPause(t, r) : e == l.PLAY && D.onPlay(t, r) : i == u.BUFFERING_DURING_PLAYBACK ? e == l.PAUSE_ON_BUFFERING ? j.onPauseOnBuffering(t, r) : e == l.BUFFER_STOP ? j.onBufferStop(t, r) : e == l.END || e == l.AD_SKIP ? j.onEndOrAdSkip(t, r) : e == l.SEEK_START ? j.onSeekStart(t, r) : e == l.PAUSE ? j.onPause(t, r) : e == l.PLAY && j.onPlay(t, r) : i == u.BUFFERING_DURING_SEEKING ? e == l.END || e == l.AD_SKIP ? x.onEndOrAdSkip(t, r) : e == l.PAUSE ? x.onPause(t, r) : e == l.PLAY ? x.onPlay(t, r) : e == l.BUFFER_STOP && G.onBufferStopWhenBufferingDuringSeekingOrBufferingDuringPause(t, r) : i == u.BUFFERING_DURING_PAUSE ? e == l.END || e == l.AD_SKIP ? U.onEndAndSkip(t, r) : e == l.PAUSE ? U.onPause(t, r) : e == l.PLAY ? U.onPlay(t, r) : e == l.SEEK_START ? G.onSeekStartWhenPausedOrBufferingDuringPause(t, r) : e == l.BUFFER_STOP && G.onBufferStopWhenBufferingDuringSeekingOrBufferingDuringPause(t, r) : i == u.SEEKING_BEFORE_PLAYBACK ? e == l.END || e == l.AD_SKIP ? F.onEndOrAdSkip(t, r) : e == l.PAUSE ? F.onPause(t, r) : e == l.PLAY ? F.onPlay(t, r) : e == l.BUFFER && G.onBufferWhenSeekingOrPlayBackNotStartedOrPaused(t, r) : i == u.SEEKING_DURING_PLAYBACK ? e == l.END || e == l.AD_SKIP ? H.onEndOrAdSkip(t, r) : e == l.PLAY ? H.onPlay(t, r) : e == l.BUFFER ? G.onBufferWhenSeekingOrPlayBackNotStartedOrPaused(t, r) : e == l.PAUSE && G.onPauseWhenSeekingDuringPlaybackOrSeekingDuringPause(t, r) : i == u.SEEKING_DURING_BUFFERING ? e == l.PAUSE ? V.onPause(t, r) : e == l.BUFFER ? G.onBufferWhenSeekingOrPlayBackNotStartedOrPaused(t, r) : e == l.PLAY ? G.onPlayWhenSeekingDuringBufferingOrSeekingDuringPause(t, r) : e == l.END || e == l.AD_SKIP ? G.onEndOrAdSkipWhenSeekingDuringBufferingOrSeekingDuringPause(t, r) : e == l.BUFFER_STOP && G.onBufferStopWhenSeekingDuringBufferingOrSeekingDuringPause(t, r) : i == u.PAUSED_DURING_BUFFERING ? e == l.END || e == l.AD_SKIP ? B.onEndOrAdSkip(t, r) : e == l.BUFFER_STOP ? B.onBufferStop(t, r) : e == l.SEEK_START ? B.onSeekStart(t, r) : e == l.PAUSE ? B.onPause(t, r) : e == l.PLAY && B.onPlay(t, r) : i == u.SEEKING_DURING_PAUSE && (e == l.BUFFER ? G.onBufferWhenSeekingOrPlayBackNotStartedOrPaused(t, r) : e == l.PLAY ? G.onPlayWhenSeekingDuringBufferingOrSeekingDuringPause(t, r) : e == l.PAUSE ? G.onPauseWhenSeekingDuringPlaybackOrSeekingDuringPause(t, r) : e == l.END || e == l.AD_SKIP ? G.onEndOrAdSkipWhenSeekingDuringBufferingOrSeekingDuringPause(t, r) : e == l.BUFFER_STOP && G.onBufferStopWhenSeekingDuringBufferingOrSeekingDuringPause(t, r)), n(e) && a.getPlaylist().setFirstEventSent(!0)
                            }

                            function i(e, n) {
                                for (var r, i = ie.encodeURIComponent || escape, a = [], o = d.LABELS_ORDER, s = e.split("?"), l = s[0], u = s[1], c = u.split("&"), f = 0, p = c.length; p > f; f++) {
                                    var _ = c[f].split("="),
                                        h = unescape(_[0]),
                                        m = unescape(_[1]);
                                    h && (n[h] = m)
                                }
                                for (var v = {}, y = 0, g = o.length; g > y; y++) {
                                    var E = o[y];
                                    if (n.hasOwnProperty(E)) {
                                        var b = n[E];
                                        "undefined" != typeof b && null != b && (v[E] = !0, a.push(i(E) + "=" + i(n[E])))
                                    }
                                }
                                for (var T in n)
                                    if (n.hasOwnProperty(T)) {
                                        if (v[T]) continue;
                                        var S = n[T];
                                        "undefined" != typeof S && null != S && a.push(i(T) + "=" + i(n[T]))
                                    }
                                r = l + "?" + a.join("&"), r = r + (r.indexOf("&c8=") < 0 ? "&c8=" + i(ae.title) : "") + (r.indexOf("&c7=") < 0 ? "&c7=" + i(ae.URL) : "") + (r.indexOf("&c9=") < 0 ? "&c9=" + i(ae.referrer) : "");
                                var A = t.browserAcceptsLargeURLs() ? d.URL_LENGTH_LIMIT : d.RESTRICTED_URL_LENGTH_LIMIT;
                                if (r.length > A && r.indexOf("&") > 0) {
                                    var C = r.substr(0, A - 8).lastIndexOf("&");
                                    r = (r.substring(0, C) + "&ns_cut=" + i(r.substring(C + 1))).substr(0, A)
                                }
                                return r
                            }
                            var a, f, N, L, M, D, j, x, U, B, F, V, H, G, q, Y, K, W, $, z, Q, X, J, Z, ee = this,
                                te = {},
                                ne = d.DEFAULT_PAUSED_ON_BUFFERING_INTERVAL,
                                re = d.THROTTLING_DELAY;
                            t.extend(ee, {
                                createLabels: function(e, n, r) {
                                    var i = {};
                                    if ("undefined" != typeof document) {
                                        var o = document;
                                        i.c7 = o.URL, i.c8 = o.title, i.c9 = o.referrer
                                    }
                                    return null != n && t.extend(i, n), i.ns_ts = null != i.ns_ts ? i.ns_ts : String(+new Date), i.ns_st_ev = null != i.ns_st_ev ? i.ns_st_ev : l.toString(e), i.ns_st_mp = null != i.ns_st_mp ? i.ns_st_mp : d.DEFAULT_PLAYERNAME, i.ns_st_mv = null != i.ns_st_mv ? i.ns_st_mv : d.STREAMSENSE_VERSION, i.ns_st_ub = null != i.ns_st_ub ? i.ns_st_ub : "0", i.ns_st_br = null != i.ns_st_br ? i.ns_st_br : "0", i.ns_st_pn = null != i.ns_st_pn ? i.ns_st_pn : "1", i.ns_st_tp = null != i.ns_st_tp ? i.ns_st_tp : "1", i.ns_st_it = null != i.ns_st_it ? i.ns_st_it : c.toString(c.SINGLE_CLIP), i.ns_st_sv = null != i.ns_st_sv ? i.ns_st_sv : d.STREAMSENSE_VERSION, i.ns_st_smv = null != i.ns_st_smv ? i.ns_st_smv : d.MODEL_VERSION, i.ns_type = null != i.ns_type ? i.ns_type : "hidden", i.ns_st_ec = null != i.ns_st_ec ? i.ns_st_ec : String(a.getEventManager().getEventCounter()), i.ns_st_po = null != i.ns_st_po ? i.ns_st_po : String(a.getPlaylist().getPlaylist().getClip().getExpectedPlaybackPosition(r)), i.ns_st_ki = null != i.ns_st_ki ? i.ns_st_ki : String(a.getKeepAlive().getInterval()), a.getPlaylist().createLabels(i), a.getPlaylist().getClip().createLabels(i), t.extend(i, ee.getLabels()), t.extend(i, n), {
                                        eventType: e,
                                        eventLabels: i
                                    }
                                },
                                newEvent: function(e, t, n, i) {
                                    ee.stopDelayedTransitionTimer();
                                    var o = a.getStateMachine().getCurrentState(),
                                        s = a.getStateMachine().eventTypeToState(e);
                                    if (null != s && s != o)
                                        if (!ee.isThrottlingEnabled() || o != u.PLAYING && o != u.PAUSED || s != u.PLAYING && s != u.PAUSED || i) {
                                            n.ns_st_po || (a.getStateMachine().getCurrentState() == u.PLAYING && e == l.BUFFER || a.getStateMachine().getCurrentState() == u.BUFFERING_DURING_PLAYBACK && e == l.BUFFER_STOP ? n.ns_st_po = String(a.getPlaylist().getClip().getPlaybackTimeOffset() + (t - a.getPlaylist().getClip().getPlaybackTimestamp())) : n.ns_st_po = String(a.getPlaylist().getClip().getExpectedPlaybackPosition(t))), r(e, t, n);
                                            var c = 0;
                                            isNaN(a.getStateMachine().getLastStateChangeTimestamp()) || (c = t - a.getStateMachine().getLastStateChangeTimestamp()), a.getStateMachine().newEvent(e, t);
                                            for (var d = 0, f = X.length; f > d; d++) X[d](o, s, n, c)
                                        } else Q = a.getPlatformAPI().setTimeout(function(e, n, r) {
                                            return function() {
                                                ee.newEvent(e, t, r, !0)
                                            }
                                        }(e, s, n), re)
                                },
                                newPseudoEvent: function(e, t, n) {
                                    if (e != l.LOAD && e != l.START || a.getStateMachine().getCurrentState() == u.IDLE) {
                                        e != l.ERROR || n.ns_st_er || (n.ns_st_er = s.UNKNOWN_VALUE), a.getStateMachine().getCurrentState() != u.IDLE && a.getStateMachine().getCurrentState() != u.PLAYBACK_NOT_STARTED && a.getStateMachine().getCurrentState() != u.SEEKING_BEFORE_PLAYBACK && a.getStateMachine().getCurrentState() != u.BUFFERING_BEFORE_PLAYBACK && (a.getPlaylist().getClip().addElapsedTime(t), a.getPlaylist().getClip().setElapsedTimestamp(t));
                                        var r, i, o, c = !0,
                                            d = !1;
                                        switch (e) {
                                            case l.BIT_RATE:
                                                r = "ns_st_br", i = "ns_st_pbr", d = !0;
                                                break;
                                            case l.PLAYBACK_RATE:
                                                r = "ns_st_rt", i = "ns_st_prt", d = !0;
                                                break;
                                            case l.VOLUME:
                                                r = "ns_st_vo", i = "ns_st_pvo", d = !0;
                                                break;
                                            case l.WINDOW_STATE:
                                                r = "ns_st_ws", i = "ns_st_pws", d = !0;
                                                break;
                                            case l.AUDIO:
                                                r = "ns_st_at", i = "ns_st_pat", d = !1;
                                                break;
                                            case l.VIDEO:
                                                r = "ns_st_vt", i = "ns_st_pvt", d = !1;
                                                break;
                                            case l.SUBS:
                                                r = "ns_st_tt", i = "ns_st_ptt", d = !1;
                                                break;
                                            case l.CDN:
                                                r = "ns_st_cdn", i = "ns_st_pcdn", d = !1;
                                                break;
                                            default:
                                                c = !1
                                        }
                                        if (c && n.hasOwnProperty(r) && (d ? (ee.getLabels().hasOwnProperty(r) && (o = ee.getLabels()[r], n[i] = o), ee.setLabel(r, n[r])) : (a.getPlaylist().getClip().getLabels().hasOwnProperty(r) && (o = a.getPlaylist().getClip().getLabels()[r], n[i] = o), a.getPlaylist().getClip().setLabel(r, n[r]))), !c || a.getStateMachine().getCurrentState() == u.PLAYING || a.getStateMachine().getCurrentState() == u.BUFFERING_DURING_PLAYBACK) {
                                            n.ns_st_po || (n.ns_st_po = String(a.getPlaylist().getClip().getExpectedPlaybackPosition(t))), a.getStateMachine().getCurrentState() != u.PLAYING && a.getStateMachine().getCurrentState() != u.BUFFERING_DURING_PLAYBACK || (a.getPlaylist().addPlaybackTime(t), a.getPlaylist().setPlaybackTimestamp(t), a.getPlaylist().getClip().addPlaybackTime(t), a.getPlaylist().getClip().setPlaybackTimestamp(t), a.getPlaylist().getClip().addInterval(parseInt(n.ns_st_po)), a.getPlaylist().getClip().setPlaybackStartPosition(parseInt(n.ns_st_po))), a.getStateMachine().getCurrentState() != u.BUFFERING_BEFORE_PLAYBACK && a.getStateMachine().getCurrentState() != u.BUFFERING_DURING_PAUSE && a.getStateMachine().getCurrentState() != u.BUFFERING_DURING_PLAYBACK && a.getStateMachine().getCurrentState() != u.BUFFERING_DURING_SEEKING || (a.getPlaylist().addBufferingTime(t), a.getPlaylist().setBufferingTimestamp(t), a.getPlaylist().getClip().addBufferingTime(t), a.getPlaylist().getClip().setBufferingTimestamp(t));
                                            var f = ee.createLabels(e, n, t);
                                            a.getEventManager().newEvent(f)
                                        }
                                    }
                                },
                                getState: function() {
                                    return a.getStateMachine().getCurrentState()
                                },
                                addListener: function(e) {
                                    X.push(e)
                                },
                                removeListener: function(e) {
                                    X.splice(t.indexOf(e, X), 1)
                                },
                                getLabel: function(e) {
                                    return J[e]
                                },
                                getLabels: function() {
                                    return J
                                },
                                setLabel: function(e, t) {
                                    null == t ? delete J[e] : J[e] = t
                                },
                                setLabels: function(e) {
                                    for (var t in e) e.hasOwnProperty(t) && ee.setLabel(t, e[t])
                                },
                                getPlatformAPI: function() {
                                    return a.getAppCore() ? a.getAppCore().getPlatformAPI() : o
                                },
                                getExports: function() {
                                    return te
                                },
                                isProperlyInitialized: function() {
                                    var e = a.getAppCore().getAppContext(),
                                        t = a.getAppCore().getSalt(),
                                        n = a.getAppCore().getPixelURL();
                                    return e && n && t
                                },
                                setImplementationType: function(e) {
                                    a.getStateMachine().getCurrentState() != u.IDLE || e != c.SINGLE_CLIP && e != c.SEGMENTED && e != c.REDUCED || a.getPlaylist().setLabel("ns_st_it", c.toString(e))
                                },
                                setThrottlingDelay: function(e) {
                                    re = e
                                },
                                getThrottlingDelay: function() {
                                    return re
                                },
                                isThrottlingEnabled: function() {
                                    return z
                                },
                                setThrottlingEnabled: function(e) {
                                    z = e
                                },
                                isLoadingTimeSent: function() {
                                    return q
                                },
                                setLoadingTimeSent: function(e) {
                                    q = e
                                },
                                getLoadTimeOffset: function() {
                                    return Y
                                },
                                setLoadTimeOffset: function(e) {
                                    Y = e
                                },
                                getInitTimestamp: function() {
                                    return K
                                },
                                setPauseOnBufferingInterval: function(e) {
                                    ne = e
                                },
                                getPauseOnBufferingInterval: function() {
                                    return ne
                                },
                                isPauseOnBufferingEnabled: function() {
                                    return W
                                },
                                setPauseOnBufferingEnabled: function(e) {
                                    W = e
                                },
                                startPausedOnBufferingTimer: function(e, n) {
                                    ee.stopPausedOnBufferingTimer(), $ = ee.getPlatformAPI().setTimeout(function() {
                                        var r = {},
                                            i = t.fixEventTime(r),
                                            a = parseInt(n.ns_st_po);
                                        r.ns_st_po = String(a + i - e), ee.newEvent(l.PAUSE_ON_BUFFERING, i, r)
                                    }, ne)
                                },
                                stopPausedOnBufferingTimer: function() {
                                    null != $ && (ee.getPlatformAPI().clearTimeout($), $ = null)
                                },
                                stopDelayedTransitionTimer: function() {
                                    Q && (ee.getPlatformAPI().clearTimeout(Q), Q = null)
                                },
                                setPixelURL: function(e) {
                                    if (null == e || 0 == e.length) return null;
                                    var t = decodeURIComponent || unescape,
                                        n = e.indexOf("?");
                                    if (n >= 0) {
                                        if (n < e.length - 1) {
                                            for (var r = e.substring(n + 1).split("&"), i = 0, a = r.length; a > i; i++) {
                                                var o = r[i],
                                                    s = o.split("=");
                                                2 == s.length ? ee.setLabel(s[0], t(s[1])) : 1 == s.length && ee.setLabel(d.PAGE_NAME_LABEL, t(s[0]))
                                            }
                                            e = e.substring(0, n + 1)
                                        }
                                    } else e += "?";
                                    return Z = e
                                },
                                getPixelURL: function() {
                                    return Z ? Z : "undefined" != typeof ns_p && "string" == typeof ns_p.src ? Z = ns_p.src.replace(/&amp;/, "&").replace(/&ns__t=\d+/, "") : "string" == typeof ns_pixelUrl ? Z = ns_pixelUrl.replace(/&amp;/, "&").replace(/&ns__t=\d+/, "") : null
                                },
                                getSseSM: function() {
                                    return a
                                },
                                resetPlaylist: function(e) {
                                    var t = a.getPlaylist();
                                    a.setPlaylist(new p), p.resetPlaylist(t, a.getPlaylist(), e)
                                },
                                resetHeartbeat: function() {
                                    a.getHeartbeat().pause(), a.setHeartbeat(new h(a))
                                },
                                resetKeepAlive: function() {
                                    a.getKeepAlive().pause(), a.setKeepAlive(new m(a))
                                }
                            });
                            var ie, ae;
                            t.isBrowser() ? (ie = window, ae = document) : (ie = {}, ae = {
                                location: {
                                    href: ""
                                },
                                title: "",
                                URL: "",
                                referrer: "",
                                cookie: ""
                            }), t.extend(this, {
                                prepareUrl: i
                            }), e()
                        }
                    }(),
                    R = function() {
                        return function(e) {
                            var n, r, i, a, o, s, l = this;
                            t.extend(l, {
                                getAppCore: function() {
                                    return n
                                },
                                getSSECore: function() {
                                    return e
                                },
                                getEventManager: function() {
                                    return r
                                },
                                getStateMachine: function() {
                                    return i
                                },
                                getHeartbeat: function() {
                                    return a
                                },
                                getKeepAlive: function() {
                                    return o
                                },
                                getPlaylist: function() {
                                    return s
                                },
                                setAppCore: function(e) {
                                    n = e
                                },
                                setKeepAlive: function(e) {
                                    o = e
                                },
                                setHeartbeat: function(e) {
                                    a = e
                                },
                                setEventManager: function(e) {
                                    r = e
                                },
                                setStateMachine: function(e) {
                                    i = e
                                },
                                setPlaylist: function(e) {
                                    s = e
                                }
                            })
                        }
                    }(),
                    L = function() {
                        return function(e, n) {
                            function r() {
                                s = new N, o = !0, e && c.setLabels(e), n && c.setPixelURL(n)
                            }

                            function i(e, t) {
                                c.notify(l.CUSTOM, e, t)
                            }

                            function a() {
                                o && s.getSseSM().getStateMachine().getCurrentState() != u.IDLE && c.end()
                            }
                            var o, s, c = this,
                                f = d.STANDARD_METADATA_LABELS;
                            t.extend(this, {
                                isProperlyInitialized: function() {
                                    return s.isProperlyInitialized()
                                },
                                reset: function(e) {
                                    var t = s;
                                    t.getSseSM().getKeepAlive().pause(), t.getSseSM().getHeartbeat().pause(), s = new N, p.resetPlaylist(t.getSseSM().getPlaylist(), s.getSseSM().getPlaylist(), e)
                                },
                                setPauseOnBufferingInterval: function(e) {
                                    s.setPauseOnBufferingInterval(e)
                                },
                                getPauseOnBufferingInterval: function() {
                                    return s.getPauseOnBufferingInterval()
                                },
                                setKeepAliveInterval: function(e) {
                                    s.getSseSM().getKeepAlive().setInterval(e)
                                },
                                getKeepAliveInterval: function() {
                                    return s.getSseSM().getKeepAlive().getInterval()
                                },
                                setHeartbeatIntervals: function(e) {
                                    s.getSseSM().getHeartbeat().setIntervals(e)
                                },
                                play: function(e, t) {
                                    c.notify(l.PLAY, e, t)
                                },
                                pause: function(e, t) {
                                    c.notify(l.PAUSE, e, t)
                                },
                                end: function(e, t) {
                                    c.notify(l.END, e, t)
                                },
                                bufferStart: function(e, t) {
                                    c.notify(l.BUFFER, e, t)
                                },
                                bufferStop: function(e, t) {
                                    c.notify(l.BUFFER_STOP, e, t)
                                },
                                load: function(e, t) {
                                    c.notify(l.LOAD, e, t)
                                },
                                start: function(e, t) {
                                    c.notify(l.START, e, t)
                                },
                                seekStart: function(e, t) {
                                    c.notify(l.SEEK_START, e, t)
                                },
                                skipAd: function(e, t) {
                                    c.notify(l.AD_SKIP, e, t)
                                },
                                callToAction: function(e, t) {
                                    c.notify(l.CTA, e, t)
                                },
                                error: function(e, t) {
                                    c.notify(l.ERROR, e, t)
                                },
                                transferPlayback: function(e, t) {
                                    c.notify(l.TRANSFER, e, t)
                                },
                                drmFail: function(e, t) {
                                    c.notify(l.DRM_FAILED, e, t)
                                },
                                drmApprove: function(e, t) {
                                    c.notify(l.DRM_APPROVED, e, t)
                                },
                                drmDeny: function(e, t) {
                                    c.notify(l.DRM_DENIED, e, t)
                                },
                                changeBitrate: function(e, t, n) {
                                    if (null != e) {
                                        var r = n || {};
                                        r.ns_st_br = String(e), c.notify(l.BIT_RATE, r, t)
                                    }
                                },
                                changePlaybackRate: function(e, t, n) {
                                    if (null != e) {
                                        var r = n || {};
                                        r.ns_st_rt = String(e), c.notify(l.PLAYBACK_RATE, r, t)
                                    }
                                },
                                changeVolume: function(e, t, n) {
                                    if (null != e) {
                                        var r = n || {};
                                        r.ns_st_vo = String(e), c.notify(l.VOLUME, r, t)
                                    }
                                },
                                changeWindowState: function(e, t, n) {
                                    if (null != e) {
                                        var r = n || {};
                                        r.ns_st_ws = String(e), c.notify(l.WINDOW_STATE, r, t)
                                    }
                                },
                                changeAudio: function(e, t, n) {
                                    if (null != e) {
                                        var r = n || {};
                                        r.ns_st_at = String(e), c.notify(l.AUDIO, r, t)
                                    }
                                },
                                changeVideo: function(e, t, n) {
                                    if (null != e) {
                                        var r = n || {};
                                        r.ns_st_vt = String(e), c.notify(l.VIDEO, r, t)
                                    }
                                },
                                changeSubtitle: function(e, t, n) {
                                    if (null != e) {
                                        var r = n || {};
                                        r.ns_st_tt = String(e), c.notify(l.SUBS, r, t)
                                    }
                                },
                                changeCDN: function(e, t, n) {
                                    if (null != e) {
                                        var r = n || {};
                                        r.ns_st_cdn = String(e), c.notify(l.CDN, r, t)
                                    }
                                },
                                notify: function(e) {
                                    var n, r;
                                    if (n = "object" == typeof arguments[1] ? arguments[1] : "object" == typeof arguments[2] ? arguments[2] : {}, r = "number" == typeof arguments[1] ? arguments[1] : "number" == typeof arguments[2] ? arguments[2] : NaN, l.toString(e)) {
                                        n = t.jsonObjectToStringDictionary(n);
                                        var i = t.fixEventTime(n);
                                        n.ns_st_po || isNaN(r) || (n.ns_st_po = t.getInteger(r, 0).toString()), n.ns_st_po && s.getSseSM().getPlaylist().getClip().setPlaybackTimeOffset(parseInt(n.ns_st_po)), e == l.PLAY || e == l.PAUSE || e == l.BUFFER || e == l.END || e == l.SEEK_START || e == l.AD_SKIP || e == l.BUFFER_STOP ? s.newEvent(e, i, n) : s.newPseudoEvent(e, i, n)
                                    }
                                },
                                getLabels: function() {
                                    return s.getLabels()
                                },
                                getState: function() {
                                    return s.getSseSM().getStateMachine().getCurrentState()
                                },
                                setLabels: function(e) {
                                    s.setLabels(e)
                                },
                                getLabel: function(e) {
                                    return s.getLabel(e)
                                },
                                setLabel: function(e, t) {
                                    s.setLabel(e, t)
                                },
                                getLoadTimeOffset: function() {
                                    return s.getLoadTimeOffset()
                                },
                                setLoadTimeOffset: function(e) {
                                    s.setLoadTimeOffset(e)
                                },
                                setPixelURL: function(e) {
                                    return s.setPixelURL(e)
                                },
                                getPixelURL: function() {
                                    return s.getSseSM().getSSECore().getPixelURL()
                                },
                                setImplementationType: function(e) {
                                    s.setImplementationType(e)
                                },
                                isPauseOnBufferingEnabled: function() {
                                    return s.isPauseOnBufferingEnabled()
                                },
                                setPauseOnBufferingEnabled: function(e) {
                                    s.setPauseOnBufferingEnabled(e)
                                },
                                isThrottlingEnabled: function() {
                                    return s.isThrottlingEnabled()
                                },
                                setThrottlingEnabled: function(e) {
                                    s.setThrottlingEnabled(e)
                                },
                                setThrottlingDelay: function(e) {
                                    s.setThrottlingDelay(e)
                                },
                                getThrottlingDelay: function() {
                                    return s.getThrottlingDelay()
                                },
                                setPlaybackIntervalMergeTolerance: function(e) {
                                    s.getSseSM().getPlaylist().getClip().setPlaybackIntervalMergeTolerance(e)
                                },
                                getPlaybackIntervalMergeTolerance: function() {
                                    return s.getSseSM().getPlaylist().getClip().getPlaybackIntervalMergeTolerance()
                                },
                                setClip: function(e, n, r) {
                                    if (void 0 === r && (r = !0), e = t.jsonObjectToStringDictionary(e), r && s.getSseSM().getStateMachine().getCurrentState() !== u.IDLE && c.end(), s.getSseSM().getStateMachine().getCurrentState() == u.IDLE) {
                                        var i = "",
                                            a = 0;
                                        if (null != e.ns_st_cn) i = String(e.ns_st_cn);
                                        else
                                            for (var o = 0; o < f.length; o++) e[f[o]] && (i += f[o] + ":" + e[f[o]] + ";");
                                        var l = s.getSseSM().getPlaylist(),
                                            d = l.getClip();
                                        d.isClipStarted() ? (l.hashExists(d.getHash()) || (l.storeHash(d.getHash()), l.storeClipNumber(d.getHash(), d.getClipNumber())), l.storeClipPlaybackCounters(), a = l.hashExists(i) ? l.getClipNumber(i) : t.exists(e.ns_st_cn) ? parseInt(e.ns_st_cn) : l.getMaxClipNumber() + 1) : a = l.hashExists(i) ? l.getClipNumber(i) : d.getClipNumber(), l.resetClip(), d = l.getClip(), d.setHash(i), d.setClipNumber(a), d.setLabels(e);
                                        var p = l.getStoredClipRegisters(i);
                                        return p && (d.setClipStarted(!0), d.setSegmentPlaybackCounter(p.segmentPlaybackCounter), d.setClipLoadCounter(p.clipLoadCounter), d.setAssetPlaybackCounter(p.assetPlaybackCounter), d.setLowestPartNumberPlayed(p.lowestPartNumberPlayed), d.setSeeking(p.seeking), d.setSeekingTimeBeforeEnd(p.seekingTimeBeforeEnd), d.setSeekStartPosition(p.seekingStartPosition), d.setClipPlaybackIntervals(p.clipPlaybackIntervals), d.setUniquePlaybackInterval(p.uniquePlaybackInterval), d.setLongestPlaybackInterval(p.longestPlaybackInterval), d.setVideoTrack(p.videoTrack), d.setAudioTrack(p.audioTrack), d.setSubtitleTrack(p.subtitleTrack), d.setCDN(p.cdn), d.setPreviousUniquePlaybackInterval(p.uniquePlaybackInterval), d.setPreviousEventIndependentUniquePlaybackInterval(p.uniquePlaybackInterval), d.setPreviousLongestPlaybackInterval(p.longestPlaybackInterval)), d.incrementClipLoadCounter(), d.isClipStarted() && n && (l.incrementPlayCounter(), l.incrementPlaybackCounter()), !0
                                    }
                                    return !1
                                },
                                setPlaylist: function(e, n) {
                                    return void 0 === n && (n = !0), e = t.jsonObjectToStringDictionary(e), n && s.getSseSM().getStateMachine().getCurrentState() !== u.IDLE && c.end(), s.getSseSM().getStateMachine().getCurrentState() == u.IDLE && (s.getSseSM().getPlaylist().isPlaylistStarted() && s.resetPlaylist(), s.getSseSM().getPlaylist().setLabels(e), !0)
                                },
                                importState: function() {},
                                exportState: function() {
                                    return {}
                                },
                                getVersion: function() {
                                    return d.STREAMSENSE_VERSION
                                },
                                addListener: function(e) {
                                    s.addListener(e)
                                },
                                removeListener: function(e) {
                                    s.removeListener(e)
                                },
                                getClip: function() {
                                    return console && console.warn && console.warn("getClip() is deprecated. Use getPlaylist().getClip() instead."), s.getSseSM().getPlaylist().getClip()
                                },
                                getPlaylist: function() {
                                    return s.getSseSM().getPlaylist()
                                },
                                setHttpGet: function(e) {
                                    "function" == typeof e && (s.getPlatformAPI().httpGet = e)
                                },
                                setHttpPost: function(e) {
                                    "function" == typeof e && (s.getPlatformAPI().httpPost = e)
                                },
                                setExitEndEventEnabled: function(e) {
                                    o = e
                                },
                                isExitEndEventEnabled: function() {
                                    return o
                                },
                                getPlatformAPI: function() {
                                    return s.getPlatformAPI()
                                }
                            }), t.extend(this, {
                                customNotify: i,
                                viewNotify: function(e, t) {
                                    e = e || c.getPixelURL(), e && viewNotify(e, t)
                                }
                            }), t.isBrowser() && (window.addEventListener ? (window.addEventListener("beforeunload", a), window.addEventListener("unload", a)) : window.attachEvent && (window.attachEvent("onbeforeunload", a), window.attachEvent("onunload", a))), r()
                        }
                    }();
                return function(n) {
                    function r(e, t) {
                        return S[C] || a(e, t)
                    }

                    function i() {
                        C = -1;
                        for (var t = 0; A >= t; t++)
                            if (S.hasOwnProperty(String(t))) {
                                C = t;
                                break
                            }
                        return e.StreamSense.activeIndex = C, C
                    }

                    function a(t, n) {
                        return t = t || null, n = n || null, t && "object" == typeof t && (n = t, t = null), S[++A] = new e.StreamSense(n, t), i(), S[A]
                    }

                    function o() {
                        var t = !1,
                            n = C;
                        if ("number" == typeof arguments[0] && isFinite(arguments[0])) n = arguments[0];
                        else if (arguments[0] instanceof e.StreamSense)
                            for (var r in S)
                                if (S.hasOwnProperty(r) && S[r] === arguments[0]) {
                                    n = r;
                                    break
                                }
                        return S.hasOwnProperty(String(n)) && (t = S[n], delete S[n], t.reset(), i()), t
                    }

                    function s(e) {
                        return e = e || {}, r().setPlaylist(e), r().getPlaylist()
                    }

                    function l(e, t, n) {
                        return e = e || {}, "number" == typeof t && (e.ns_st_cn = String(t)), r().setClip(e, n), r().getClip()
                    }

                    function u(e, t, n) {
                        return "undefined" != typeof e && (n = n || null, t = t || {}, r().notify(e, t, n))
                    }

                    function c(e) {
                        "undefined" != typeof e && r().setLabels(e)
                    }

                    function d() {
                        return r().getLabels()
                    }

                    function f(e) {
                        "undefined" != typeof e && r().getPlaylist().setLabels(e)
                    }

                    function p() {
                        return r().getPlaylist().getLabels()
                    }

                    function _(e) {
                        "undefined" != typeof e && r().getClip().setLabels(e)
                    }

                    function h() {
                        return r().getClip().getLabels()
                    }

                    function m(e) {
                        return r().reset(e || {})
                    }

                    function v(e) {
                        return r().getPlaylist().reset(e || {})
                    }

                    function y(e) {
                        return r().getClip().reset(e || {})
                    }

                    function g(e) {
                        return e = e || {}, r().viewNotify(null, e)
                    }

                    function E(e, t) {
                        return arguments.length > 2 && (e = arguments[1], t = arguments[2]), e = e || {}, "number" == typeof t && (e.ns_st_po = String(t)), r().customNotify(e, t)
                    }

                    function b() {
                        return r().exportState()
                    }

                    function T(e) {
                        r().importState(e)
                    }
                    var S = {},
                        A = -1,
                        C = -1;
                    t.extend(n, {
                        activeIndex: C,
                        newInstance: a,
                        new: a,
                        destroyInstance: o,
                        destroy: o,
                        newPlaylist: s,
                        newClip: l,
                        notify: u,
                        setLabels: c,
                        getLabels: d,
                        setPlaylistLabels: f,
                        getPlaylistLabels: p,
                        setClipLabels: _,
                        getClipLabels: h,
                        resetInstance: m,
                        resetPlaylist: v,
                        resetClip: y,
                        viewEvent: g,
                        customEvent: E,
                        exportState: b,
                        importState: T
                    })
                }(L), L.PlayerEvents = l, L.InternalStates = u, L.ImplementationType = c, L
            }(), e.StreamingTag = e.StreamingTag || function() {
                var n = e.StreamSense,
                    r = (e.StreamSense.PlayerEvents, e.StreamSense.InternalStates || null),
                    i = e.StreamSense.ImplementationType || null,
                    a = null != e.StreamSense.InternalStates && null != e.StreamSense.ImplementationType;
                return function() {
                    var e = {
                            LongFormOnDemand: "12",
                            ShortFormOnDemand: "11",
                            Live: "13",
                            UserGeneratedLongFormOnDemand: "22",
                            UserGeneratedShortFormOnDemand: "21",
                            UserGeneratedLive: "23",
                            Bumper: "99",
                            Other: "00"
                        },
                        o = {
                            LinearOnDemandPreRoll: "11",
                            LinearOnDemandMidRoll: "12",
                            LinearOnDemandPostRoll: "13",
                            LinearLive: "21",
                            Other: "00"
                        },
                        s = function(e) {
                            function o() {
                                if (a)
                                    if (t.getNamespace().comScore) m = new n, m.setImplementationType(i.REDUCED);
                                    else if (t.exists(e))
                                    if (v = t.isTrue(e.debug), t.exists(e.customerC2) && e.customerC2.length > 0) {
                                        var r = e.secure ? "https://sb" : "http" + ("s" == document.location.href.charAt(4) ? "s://sb" : "://b");
                                        m = new n, m.setPixelURL(r + ".scorecardresearch.com/p?c1=2"), m.setLabel("c2", e.customerC2), m.setImplementationType(i.REDUCED)
                                    } else v && console && console.log("Warning: customerC2 is not provided (or incorrect) in the StreamingTag configuration.")
                            }

                            function s(e) {
                                t.exists(e) || (e = {});
                                for (var n in g) g.hasOwnProperty(n) && !t.exists(e[g[n]]) && ("ns_st_ci" == g[n] ? e.ns_st_ci = "0" : e[g[n]] = "*null");
                                return e
                            }

                            function l(e) {
                                for (var t in g)
                                    if (g.hasOwnProperty(t) && !u(g[t], _, e)) return !1;
                                return !0
                            }

                            function u(e, n, r) {
                                if (t.exists(e) && t.exists(n) && t.exists(r)) {
                                    var i = n[e],
                                        a = r[e];
                                    return t.exists(i) && t.exists(a) && i === a
                                }
                                return !1
                            }

                            function c(e) {
                                p++;
                                var n = {
                                    ns_st_cn: String(p),
                                    ns_st_pn: "1",
                                    ns_st_tp: "0"
                                };
                                t.extend(n, e), m.setClip(n), _ = e, m.play()
                            }

                            function d(e) {
                                p++, e = s(e);
                                var n = {
                                    ns_st_cn: String(p),
                                    ns_st_pn: "1",
                                    ns_st_tp: "1",
                                    ns_st_ad: "1"
                                };
                                t.extend(n, e), m.setClip(n), m.play(), h = !1
                            }

                            function f(e, t) {
                                e = s(e), E == y.None && (E = t), h && E == t && l(e) ? (m.getClip().setLabels(e), m.getState() != r.PLAYING && m.play()) : c(e), h = !0, E = t
                            }
                            var p = 0,
                                _ = null,
                                h = !1,
                                m = null,
                                v = !1,
                                y = {
                                    None: 0,
                                    AudioContent: 1,
                                    VideoContent: 2
                                },
                                g = ["ns_st_ci", "c3", "c4", "c6", "ns_st_st", "ns_st_pu", "ns_st_pr", "ns_st_ep", "ns_st_sn", "ns_st_en", "ns_st_ct"],
                                E = y.None;
                            t.extend(this, {
                                playAdvertisement: function() {
                                    if (m) {
                                        v && console && console.warn("Calling deprecated function 'playAdvertisement'. Please call 'playVideoAdvertisement' or 'playAudioAdvertisement' functions instead.");
                                        var e = {
                                            ns_st_ct: "va"
                                        };
                                        d(e)
                                    }
                                },
                                playVideoAdvertisement: function(e, n) {
                                    if (m) {
                                        var r = {
                                            ns_st_ct: "va"
                                        };
                                        n ? r.ns_st_ct = "va" + n : v && console && console.warn("Calling 'playVideoAdvertisement' without specifying the media type as a second parameter."), e && t.extend(r, e), d(r)
                                    }
                                },
                                playAudioAdvertisement: function(e, n) {
                                    if (m) {
                                        var r = {
                                            ns_st_ct: "aa"
                                        };
                                        n ? r.ns_st_ct = "aa" + n : v && console && console.warn("Calling 'playAudioAdvertisement' without specifying the media type as a second parameter."), e && t.extend(r, e), d(r)
                                    }
                                },
                                playContentPart: function(e) {
                                    if (m) {
                                        v && console && console.warn("Calling deprecated function 'playContentPart'. Please call 'playVideoContentPart' or 'playAudioContentPart' functions instead.");
                                        var n = {
                                            ns_st_ct: "vc"
                                        };
                                        e && t.extend(n, e), f(n, y.VideoContent)
                                    }
                                },
                                playVideoContentPart: function(e, n) {
                                    if (m) {
                                        var r = {
                                            ns_st_ct: "vc"
                                        };
                                        n ? r.ns_st_ct = "vc" + n : v && console && console.warn("Calling 'playVideoContentPart' without specifying the media type as a second parameter."), e && t.extend(r, e), f(r, y.VideoContent)
                                    }
                                },
                                playAudioContentPart: function(e, n) {
                                    if (m) {
                                        var r = {
                                            ns_st_ct: "ac"
                                        };
                                        n ? r.ns_st_ct = "ac" + n : v && console && console.warn("Calling 'playAudioContentPart' without specifying the media type as a second parameter."), e && t.extend(r, e), f(r, y.AudioContent)
                                    }
                                },
                                stop: function() {
                                    m && m.pause()
                                }
                            }), o()
                        };
                    return function(e) {}(s), s.ContentType = e, s.AdType = o, s
                }()
            }(), e
        })
    }, function(e, t) {
        "use strict";

        function n() {
            return {
                type: c
            }
        }

        function r() {
            return function(e, t) {
                var n = t(),
                    r = n.window;
                a(r, s, l, "2246787049647177590", "", "", "")
            }
        }

        function i() {
            return function(e, t) {
                var n = t(),
                    r = n.window;
                a(r, o, l, "TWITCH", "twitch.tv", u, "")
            }
        }

        function a(e, t, n, r, i, a, o) {
            var s = {
                c1: t,
                c2: n,
                c3: r,
                c4: i,
                c5: a,
                c6: o
            };
            "COMSCORE" in e ? e.COMSCORE.beacon(s) : (e._comscore || (e._comscore = []), e._comscore.push(s))
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.resetTag = n, t.sendPlayerBeacon = r, t.sendVideoBeacon = i;
        var o = "1",
            s = "7",
            l = "6745306",
            u = "03",
            c = t.ACTION_RESET_TAG = "reset tag"
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e, t) {
            var n = arguments.length > 2 && void 0 !== arguments[2] && arguments[2],
                r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0;
            return function(i, a) {
                var o = a(),
                    s = o.adsManager;
                return f(e, t, a(), n, r).then(function(e) {
                    a().manifestInfo.suppress || s.requestAds(e)
                })
            }
        }

        function a(e) {
            return _(e) ? {
                type: O,
                currentMetadata: e
            } : N
        }

        function o() {
            return a(R)
        }

        function s() {
            return function(e, t) {
                var n = t(),
                    r = n.adsManager;
                r.pause()
            }
        }

        function l() {
            return function(e, t) {
                var n = t(),
                    r = n.adsManager;
                r.play()
            }
        }

        function u(e) {
            return {
                type: C,
                detected: e
            }
        }

        function c(e) {
            return {
                type: P,
                URL: e
            }
        }

        function d(e) {
            return {
                type: w,
                imaScriptLoaded: e
            }
        }

        function f(e, t, n, r) {
            var i = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 0;
            return p(n.stream).then(function(e) {
                return Promise.all([(0, g.userInfo)(), (0, g.channelInfo)(e), (0, g.channelAPIInfo)(e), (0, g.channelViewerInfo)(e), (0, g.getCommunityFromChannel)(e), n.experiments.get(S.PADTIME), n.experiments.get(S.CHOMPERZ), n.experiments.get(S.BISMOL), n.experiments.get(S.AAX_HEADER_BIDDING)])
            }).then(function(a) {
                var o = h(a, 9),
                    s = o[0],
                    l = o[1],
                    u = o[2],
                    c = o[3],
                    d = o[4],
                    f = o[5],
                    p = o[6],
                    _ = o[7],
                    v = o[8],
                    y = (0, A.parseUri)(n.window.location.href),
                    g = y.queryKey,
                    b = "digest" === g.referrer;
                return new m.AdsRequestContext({
                    adType: e,
                    sdk: n.sdk,
                    lastAdDisplay: E.localStore.get("lastAdDisplay", 0),
                    forced: r,
                    state: n,
                    duration: t,
                    userInfo: s,
                    channelAPIInfo: u,
                    channelInfo: l,
                    viewerInfo: c,
                    creativeId: i,
                    padtimeExpGroup: f,
                    skippableExpGroup: p,
                    communityInfo: d,
                    bismolExpGroup: _,
                    lure: b,
                    aaxExpGroup: v
                })
            })
        }

        function p(e) {
            return e instanceof v.LiveContentStream ? Promise.resolve(e.channel) : e instanceof y.VODContentStream ? (0, g.videoInfo)(e.videoId).then(function(e) {
                return e.channel.name
            }) : Promise.reject(new Error("Invalid stream: " + e))
        }

        function _(e) {
            return !(!e.hasOwnProperty("contentType") || !e.hasOwnProperty("rollType")) && (!(!(0, T.default)(k, e.contentType) || !(0, T.default)(I, e.rollType)) && ((e.contentType !== k.NONE || e.rollType === I.NONE) && (e.rollType !== I.NONE || e.contentType === k.NONE)))
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.INVALID_AD_ACTION = t.AdRollTypes = t.AdContentTypes = t.ACTION_IMA_SCRIPT_LOADED = t.ACTION_SET_AD_METADATA = t.ACTION_SET_CLICKTHROUGH_URL = t.ACTION_SET_ADBLOCK_DETECTED = t.DEFAULT_AD_DURATION = void 0;
        var h = function() {
            function e(e, t) {
                var n = [],
                    r = !0,
                    i = !1,
                    a = void 0;
                try {
                    for (var o, s = e[Symbol.iterator](); !(r = (o = s.next()).done) && (n.push(o.value), !t || n.length !== t); r = !0);
                } catch (e) {
                    i = !0, a = e
                } finally {
                    try {
                        !r && s.return && s.return()
                    } finally {
                        if (i) throw a
                    }
                }
                return n
            }
            return function(t, n) {
                if (Array.isArray(t)) return t;
                if (Symbol.iterator in Object(t)) return e(t, n);
                throw new TypeError("Invalid attempt to destructure non-iterable instance")
            }
        }();
        t.requestAds = i, t.setCurrentAdMetadata = a, t.clearCurrentAdMetadata = o, t.pauseAd = s, t.playAd = l, t.setAdblockDetected = u, t.setAdClickThrough = c, t.imaScriptLoaded = d, t.getRequestContext = f;
        var m = n(244),
            v = n(167),
            y = n(220),
            g = n(200),
            E = n(250),
            b = n(53),
            T = r(b),
            S = n(251),
            A = n(176),
            C = (t.DEFAULT_AD_DURATION = 30, t.ACTION_SET_ADBLOCK_DETECTED = "set adblock detected"),
            P = t.ACTION_SET_CLICKTHROUGH_URL = "set clickthrough url",
            O = t.ACTION_SET_AD_METADATA = "set ad metadata",
            w = t.ACTION_IMA_SCRIPT_LOADED = "check to see if ima script loaded",
            k = t.AdContentTypes = Object.freeze({
                NONE: "none",
                IMA: "ima",
                STITCHED: "stitched"
            }),
            I = t.AdRollTypes = Object.freeze({
                NONE: "none",
                PREROLL: "preroll",
                MIDROLL: "midroll",
                POSTROLL: "postroll"
            }),
            N = t.INVALID_AD_ACTION = {
                type: "an invalid ad action"
            },
            R = {
                contentType: k.NONE,
                rollType: I.NONE
            }
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            if (e && e.__esModule) return e;
            var t = {};
            if (null != e)
                for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
            return t.default = e, t
        }

        function i(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.AdsRequestContext = void 0;
        var a = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            o = n(245),
            s = n(246),
            l = n(220),
            u = n(240),
            c = n(248),
            d = r(c),
            f = 30;
        t.AdsRequestContext = function() {
            function e(t) {
                var n = t.adType,
                    r = t.duration,
                    a = t.state,
                    s = t.lastAdDisplay,
                    l = t.forced,
                    u = t.userInfo,
                    c = t.channelInfo,
                    p = t.channelAPIInfo,
                    _ = t.viewerInfo,
                    h = t.creativeId,
                    m = t.padtimeExpGroup,
                    v = t.communityInfo,
                    y = t.skippableExpGroup,
                    g = t.bismolExpGroup,
                    E = t.lure,
                    b = t.aaxExpGroup;
                i(this, e), this.contentType = a.stream.contentType, this.login = u.login, this.adSessionId = (0, o.generate)(f), this.adType = n, this.bismol = g, this.lure = E, this.channel = c.name, this.channelId = c._id, this.chansubToken = _.chansub, this.communityId = void 0 !== v ? v._id : null, this.twitchCorrelator = (0, o.generate)(), this.deviceId = d.get(!1), this.duration = r, this.hasAdFreeSubscription = Boolean(_.has_ad_free_subscription), this.lastAdDisplay = s, this.forced = l, this.padtime = m, this.requestTime = Date.now(), this.skippableExpGroup = y, this.aaxExpGroup = b, this.creativeId = h, this._initUserInfoFields(u), this._initChannelInfoFields(c, p), this._initStateFields(a), this._initAmazonFields()
            }
            return a(e, [{
                key: "_initUserInfoFields",
                value: function(e) {
                    this.login = e.login, this.turboToken = e.turbo
                }
            }, {
                key: "_initChannelInfoFields",
                value: function(e, t) {
                    this.channel = e.name, this.channelId = e._id, e.game && (this.game = (0, u.formatCustomTag)(e.game)), this.mature = e.mature, this.partner = e.partner, this.postrollsEnabled = Boolean(t.postrolls), this.prerollsEnabled = Boolean(t.prerolls)
                }
            }, {
                key: "_initStateFields",
                value: function(e) {
                    var t = e.ads,
                        n = e.adsManager,
                        r = e.window;
                    this.contentType = e.stream.contentType, this.adblock = t.adblock, this.isMobileLocation = e.env.isMobileLocation, this.kruxId = r.Krux ? r.Krux.user || "" : null, this.platform = e.env.platform, this.playerType = e.env.playerType, this.referrer = r.document.referrer, this.url = (0, s.sanitizeQuery)(r.location.href), this.sdk = n.sdk, this._initVodFields(e)
                }
            }, {
                key: "_initVodFields",
                value: function(e) {
                    var t = e.playback;
                    this.vod = {
                        id: "",
                        name: "",
                        type: "",
                        duration: -1
                    }, e.stream.contentType === l.CONTENT_MODE_VOD && (this.vod.id = e.stream.videoId, this.vod.name = (0, u.formatCustomTag)(e.streamMetadata.name), this.vod.type = e.streamMetadata.type, this.vod.duration = t.duration)
                }
            }, {
                key: "_initAmazonFields",
                value: function() {
                    this.amzniid = "", this.amznbid = ""
                }
            }]), e
        }()
    }, function(e, t) {
        "use strict";

        function n() {
            for (var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 32, t = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789", n = "", r = 0; r < e; r++) {
                var i = Math.floor(Math.random() * t.length);
                n += t.charAt(i)
            }
            return n
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.generate = n
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : l,
                n = Array.isArray(t) && t.length > 0;
            if (!(0, o.default)(e) || !n) return e;
            var r = e.indexOf("?"),
                i = e.slice(0, r),
                a = r < 0 ? "" : e.slice(r + 1);
            if (a.length > 0) {
                var u = (0, s.parse)(a);
                return t.forEach(function(e) {
                    return delete u[e]
                }), i + "?" + (0, s.toString)(u)
            }
            return e
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.DEFAULT_PARAMS_BLACKLIST = void 0, t.sanitizeQuery = i;
        var a = n(58),
            o = r(a),
            s = n(247),
            l = t.DEFAULT_PARAMS_BLACKLIST = Object.freeze(["oauth_token"])
    }, function(e, t) {
        "use strict";

        function n(e) {
            for (var t = {}, n = e.split("&"), r = 0; r < n.length; r++) {
                var i = /^(.+?)(?:=(.+))?$/.exec(n[r]);
                if (i) {
                    var a = i[1],
                        o = i[2];
                    "true" === o ? o = !0 : "false" === o ? o = !1 : void 0 !== o ? o = decodeURIComponent(o) : "!" === a[0] ? (a = a.substring(1), o = !1) : o = !0, t[a] = o
                }
            }
            return t
        }

        function r(e) {
            var t = [];
            for (var n in e)
                if (e.hasOwnProperty(n)) {
                    var r = e[n];
                    n = encodeURIComponent(n), r === !0 ? t.push(n) : r === !1 ? t.push("!" + n) : (r = encodeURIComponent(r), t.push(n + "=" + r))
                }
            return t.join("&")
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.parse = n, t.toString = r
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            if (e && e.__esModule) return e;
            var t = {};
            if (null != e)
                for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
            return t.default = e, t
        }

        function i(e) {
            var t = e ? "session_unique_id" : "unique_id",
                n = a.cookie.get(t);
            if (n) return n;
            n = s.generate();
            var r = e ? "" : 3650;
            return a.cookie.set(t, n, {
                expires: r,
                domain: "." + u.domain,
                path: "/",
                secure: !1
            }), n
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.get = i;
        var a = n(249),
            o = n(245),
            s = r(o),
            l = n(168),
            u = r(l)
    }, , function(e, t) {
        "use strict";

        function n(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function r() {
            try {
                return window.localStorage
            } catch (e) {
                return new s
            }
        }

        function i(e) {
            if (e) {
                var t = "test_item_" + Date.now();
                try {
                    if (e.setItem(t, "OK"), "OK" === e.getItem(t)) return e.removeItem(t), e
                } catch (e) {}
            }
            return new s
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var a = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            o = function() {
                function e(t) {
                    n(this, e), this._storage = t
                }
                return a(e, [{
                    key: "get",
                    value: function(e, t) {
                        if (this.has(e)) try {
                            return JSON.parse(this._storage.getItem(e))
                        } catch (e) {}
                        return t
                    }
                }, {
                    key: "has",
                    value: function(e) {
                        return null !== this._storage.getItem(e)
                    }
                }, {
                    key: "set",
                    value: function(e, t) {
                        this._storage.setItem(e, JSON.stringify(t))
                    }
                }, {
                    key: "remove",
                    value: function(e) {
                        this._storage.removeItem(e)
                    }
                }, {
                    key: "clear",
                    value: function() {
                        this._storage.clear()
                    }
                }, {
                    key: "usesCache",
                    value: function() {
                        return !(this._storage instanceof s)
                    }
                }]), e
            }(),
            s = function() {
                function e() {
                    n(this, e), this._cache = {}
                }
                return a(e, [{
                    key: "key",
                    value: function(e) {
                        return Object.keys(this._cache)[e]
                    }
                }, {
                    key: "getItem",
                    value: function(e) {
                        return this._cache.hasOwnProperty(e) ? this._cache[e] : null
                    }
                }, {
                    key: "setItem",
                    value: function(e, t) {
                        this._cache[e] = String(t)
                    }
                }, {
                    key: "removeItem",
                    value: function(e) {
                        delete this._cache[e]
                    }
                }, {
                    key: "clear",
                    value: function() {
                        this._cache = {}
                    }
                }]), e
            }();
        t.localStore = new o(i(r())), t.memoryStore = new o(new s)
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e, t, n) {
            return t in e ? Object.defineProperty(e, t, {
                value: n,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : e[t] = n, e
        }

        function a(e) {
            return (0, y.krakenUserInfo)().then(function(t) {
                return "staff" === t.type ? e : Promise.reject()
            })
        }

        function o(e) {
            return (0, y.userInfo)().then(function(t) {
                return (0, p.default)(e, t.geo) ? Promise.reject() : "no"
            })
        }

        function s(e) {
            var t = E.default._detect(e);
            return !t.firefox || !!t.version && parseInt(t.version.slice(0, 2), 10) > 45
        }

        function l(e) {
            var t, n;
            return new h.default({
                defaults: (t = {}, i(t, b, "no"), i(t, T, "off"), i(t, S, "no"), i(t, A, "no"), i(t, C, "no"), i(t, P, "no"), i(t, O, "no"), i(t, w, "no"), i(t, k, "no"), i(t, I, "no"), i(t, N, "no"), i(t, R, "no"), i(t, L, "no"), i(t, M, "control"), i(t, j, "1.6.3"), i(t, D, "no"), i(t, x, "no,"), i(t, U, "keep"), i(t, B, "no"), i(t, F, "control"), i(t, V, "pad_control"), i(t, H, "no"), i(t, G, "no"), i(t, q, "control"), i(t, Y, "no"), i(t, K, "control"), i(t, W, "control"), i(t, $, "control"), i(t, z, "control"), t),
                deviceID: e.deviceID,
                overrides: (0, d.default)((n = {}, i(n, T, a("v2")), i(n, M, o(["CA", "NZ", "AU", "DE", "FR", "SE", "BE", "PL", "NO", "FI", "DK", "NL", "IT", "ES", "CH", "AT", "PT", "US", "GB"])), i(n, S, o(["US"])), i(n, A, o(["GB"])), i(n, C, o(["DE"])), i(n, P, o(["FR"])), i(n, O, o(["SE"])), i(n, w, o(["DK", "FI", "NL", "NO"])), i(n, k, o(["CA"])), i(n, I, o(["AU", "NZ"])), i(n, N, o(["BE"])), i(n, R, o(["PL"])), i(n, L, o(["AT", "CH", "ES", "IT", "PT"])), i(n, D, a("vca")), i(n, x, a("yes")), i(n, j, a("1.8.6+spd67")), i(n, G, a("yes")), i(n, H, a("yes")), i(n, $, a("show")), i(n, z, a("show")), n), JSON.parse(u.cookie.get("experiment_overrides", "{}"))),
                platform: "web",
                login: e.login,
                provider: new v.default(v.default.SERVICE_URL),
                Promise: Promise
            })
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.OFFLINE_EXPERIENCE = t.AUTO_SUGGEST_NOTIFICATION = t.CLIPS_CLIPPY_PATENT_PENDING = t.AAX_HEADER_BIDDING = t.BISMOL = t.CHOMPERZ = t.VIEW_WATCH_TOGETHER = t.OFFLINE_RECOMMENDATIONS = t.PADTIME = t.CLIPS_LOYALTY = t.EXTENSIONS = t.HTML5_TOGGLE_REMOVAL = t.PINEAPPLE = t.PLAYER_CORE_VER_CONTROL = t.MARKERS = t.BAKING_BROWNIES = t.BAKING_BREAD_I = t.BAKING_BREAD_H = t.BAKING_BREAD_G = t.BAKING_BREAD_F = t.BAKING_BREAD_E = t.BAKING_BREAD_D = t.BAKING_BREAD_C = t.BAKING_BREAD_B = t.BAKING_BREAD_A = t.BAKING_BREAD_UK = t.BAKING_BREAD_US = t.CAPTIONS = t.NETWORK_PROFILE_COLLECTION = void 0, t.bakingBreadSafeBrowser = s, t.createClient = l;
        var u = n(249),
            c = n(117),
            d = r(c),
            f = n(53),
            p = r(f),
            _ = n(252),
            h = r(_),
            m = n(260),
            v = r(m),
            y = n(200),
            g = n(261),
            E = r(g),
            b = t.NETWORK_PROFILE_COLLECTION = "5fbb67a0-b4ff-4775-b836-e9a348a87481",
            T = t.CAPTIONS = "4afcc1d7-b6f4-489a-beb3-0a32eb780592",
            S = t.BAKING_BREAD_US = "84d81180-6faa-4c58-98d7-48bbff5035c7",
            A = t.BAKING_BREAD_UK = "a1ce3d24-076a-4664-be4c-f9046fdce18c",
            C = t.BAKING_BREAD_A = "f51271fc-b922-43c5-a801-d5b44219b31f",
            P = t.BAKING_BREAD_B = "17133457-67a2-41f8-8961-235020959018",
            O = t.BAKING_BREAD_C = "c51b6c01-3155-4314-bd33-a63870349c1f",
            w = t.BAKING_BREAD_D = "4d081a33-0d0f-4b44-bfde-cf07c358915f",
            k = t.BAKING_BREAD_E = "cf2033c8-5313-4abe-8142-61b9072c9d26",
            I = t.BAKING_BREAD_F = "e6a95194-9540-46e0-858f-f47e5d5e3a5d",
            N = t.BAKING_BREAD_G = "c65ae62f-82dc-4394-ad75-df5f641e22d4",
            R = t.BAKING_BREAD_H = "51e3d33c-157b-422d-9a15-b0f9e9c055b2",
            L = t.BAKING_BREAD_I = "ac2acc22-f0ef-4162-b9a3-7357249165ca",
            M = t.BAKING_BROWNIES = "ed516213-9b6f-49a0-96f7-1706aafc8e2d",
            D = t.MARKERS = "9e5fffd0-9693-412b-913d-7da332fdeea4",
            j = t.PLAYER_CORE_VER_CONTROL = "45d73059-3cea-436a-b41f-86bb05f845f2",
            x = t.PINEAPPLE = "1a42d36b-3f3f-4b80-8252-bdd6cc675ec3",
            U = t.HTML5_TOGGLE_REMOVAL = "354aaebd-7643-434f-be37-98fe12c01220",
            B = t.EXTENSIONS = "264f75af-a787-4a40-8654-40d78b4d8b41",
            F = t.CLIPS_LOYALTY = "24790bc9-1beb-4cf1-bc75-fe22c400805d",
            V = t.PADTIME = "b8d1e7be-59f7-4ee3-a0c6-54ce94366d14",
            H = t.OFFLINE_RECOMMENDATIONS = "00683bde-a79d-4b9d-a7cc-b0549f854d36",
            G = t.VIEW_WATCH_TOGETHER = "d0518b75-fbba-418a-9445-ff7c517beb32",
            q = t.CHOMPERZ = "d48fe249-fd73-4c8f-bd17-415b70dc3708",
            Y = t.BISMOL = "0ff4ccc4-fb0f-41c0-b195-db9ccdb712d5",
            K = t.AAX_HEADER_BIDDING = "18f450b9-5593-4d66-a5a7-c8b6fccf95c3",
            W = t.CLIPS_CLIPPY_PATENT_PENDING = "3ba26ac2-a5db-4318-83c5-dcbe11e2774f",
            $ = t.AUTO_SUGGEST_NOTIFICATION = "74d6faab-1794-458a-a5f6-b92602254e9e",
            z = t.OFFLINE_EXPERIENCE = "6e2f439b-916a-40b7-b1be-e82b284fd0bb"
    }, function(e, t, n) {
        function r(e) {
            var t = i(e);
            if (null !== t) throw t;
            this._config = a(e), this._Promise = e.Promise, this._deviceID = e.deviceID, this._platform = e.platform, this._username = e.login || null, this._defaults = o(e.Promise, e.defaults, e.overrides || {}), this._assignments = s(e.Promise, this._config, this._defaults, e.overrides || {}, this._deviceID), this._spade_url = l(this._config, d.SPADE_URL_PROJECT_UUID)
        }

        function i(e) {
            return e.defaults && Object.getPrototypeOf(e.defaults) === Object.prototype ? "string" != typeof e.deviceID || 0 === e.deviceID.length ? new Error("Invalid device ID; expected non-empty string, got `" + e.deviceID + "`") : "string" != typeof e.platform || 0 === e.platform.length ? new Error("Invalid platform; expected non-empty string, got `" + e.platform + "`") : "object" != typeof e.provider || "function" != typeof e.provider.getExperimentConfiguration ? new Error("Invalid provider") : "function" != typeof e.Promise ? new Error("Invalid Promise implementation") : null : new Error("Invalid defaults; expected object, got " + JSON.stringify(e.defaults))
        }

        function a(e) {
            return new e.Promise(function(t, n) {
                e.provider.getExperimentConfiguration(t, n)
            }).then(function(e) {
                var t = c.validate(e);
                if (t) throw t;
                return e
            })
        }

        function o(e, t, n) {
            var r = {};
            for (var i in t) r[i] = function(r) {
                return e.resolve(n[i]).then(function(e) {
                    return "string" == typeof e ? e : t[r]
                }, function() {
                    return t[r]
                })
            }(i);
            return r
        }

        function s(e, t, n, r, i) {
            var a = {};
            for (var o in n) n.hasOwnProperty(o) && (a[o] = function(a) {
                return t.then(function(e) {
                    if (!e.hasOwnProperty(a)) throw new Error("Experiment `" + a + "` is deprecated");
                    return c.selectTreatment(a, e[a], i)
                }, function(e) {
                    return n[a]
                }).then(function(t) {
                    return e.resolve(r[a]).then(function(e) {
                        return "string" == typeof e ? e : t
                    }, function() {
                        return t
                    })
                })
            }(o));
            return a
        }

        function l(e, t) {
            return e.then(function(e) {
                return e[t] && e[t].groups && e[t].groups[0] ? e[t].groups[0].value : ""
            }, function(e) {
                return ""
            })
        }

        function u(e, t) {
            var n, r = {};
            for (n in e) e.hasOwnProperty(n) && (r[n] = e[n]);
            for (n in t) t.hasOwnProperty(n) && !e.hasOwnProperty(n) && (r[n] = t[n]);
            return r
        }
        var c = n(253),
            d = n(256);
        e.exports = r, r.prototype.get = function(e, t) {
            var n = u(t || {}, {
                    mustTrack: !1
                }),
                r = this._assignments[e] || this._Promise.reject(new Error("No experiment with ID `" + e + "`")),
                i = this._Promise.all([this._config, r, this._spade_url]).then(function(t) {
                    var n = t[0],
                        r = t[1],
                        i = t[2],
                        a = {
                            client_time: (new Date).getTime() / 1e3,
                            device_id: this._deviceID,
                            experiment_id: e,
                            experiment_name: n[e].name,
                            experiment_group: r,
                            platform: this._platform
                        };
                    null !== this._username && (a.login = this._username);
                    var o = new this._Promise(function(e, t) {
                        d.sendEvent(i, "experiment_branch", a, e)
                    }).then(null, function() {
                        return null
                    });
                    return o
                }.bind(this));
            return this._Promise.all([r, n.mustTrack ? i : null]).then(function(e) {
                return e[0]
            }, function(t) {
                return console.warn(t), this._defaults[e] || null
            }.bind(this))
        }
    }, function(e, t, n) {
        function r(e, t, n) {
            this.name = "InvalidExperimentConfigurationError", this.message = 'Invalid configuration for experiment "' + e + '": ' + n, this.stack = (new Error).stack
        }

        function i(e, t) {
            if (!t.hasOwnProperty("groups")) return new r(e, t, "missing a `groups` property");
            if (0 === t.groups.length) return new r(e, t, "`groups` has no members");
            var n, i;
            for (n = 0; n < t.groups.length; n++)
                if (t.groups[n].hasOwnProperty("value") ? t.groups[n].hasOwnProperty("weight") ? t.groups[n].weight !== Math.floor(t.groups[n].weight) ? i = "has a non-integer weight" : t.groups[n].weight < 0 && (i = "has a negative weight") : i = "is missing a `weight` property" : i = "is missing a `value` property", i) return new r(e, t, "Group " + t.groups[n].value + " " + i);
            return null
        }
        var a = n(254);
        t.validate = function(e) {
            for (var t in e)
                if (e.hasOwnProperty(t)) {
                    var n = i(t, e[t]);
                    if (null !== n) return n
                }
            return null
        }, t.selectTreatment = function(e, t, n) {
            var r = e + n,
                i = a(r),
                o = i.words[0] >>> 0,
                s = o / Math.pow(2, 32),
                l = t.groups.reduce(function(e, t) {
                    return e + t.weight
                }, 0);
            return t.groups.reduce(function(e, t) {
                return null === e.value && (e.current -= t.weight / l, e.current <= 0 && (e.value = t.value)), e
            }, {
                value: null,
                current: s
            }).value
        }
    }, function(e, t, n) {
        ! function(r, i) {
            e.exports = t = i(n(255))
        }(this, function(e) {
            return function() {
                var t = e,
                    n = t.lib,
                    r = n.WordArray,
                    i = n.Hasher,
                    a = t.algo,
                    o = [],
                    s = a.SHA1 = i.extend({
                        _doReset: function() {
                            this._hash = new r.init([1732584193, 4023233417, 2562383102, 271733878, 3285377520])
                        },
                        _doProcessBlock: function(e, t) {
                            for (var n = this._hash.words, r = n[0], i = n[1], a = n[2], s = n[3], l = n[4], u = 0; u < 80; u++) {
                                if (u < 16) o[u] = 0 | e[t + u];
                                else {
                                    var c = o[u - 3] ^ o[u - 8] ^ o[u - 14] ^ o[u - 16];
                                    o[u] = c << 1 | c >>> 31
                                }
                                var d = (r << 5 | r >>> 27) + l + o[u];
                                d += u < 20 ? (i & a | ~i & s) + 1518500249 : u < 40 ? (i ^ a ^ s) + 1859775393 : u < 60 ? (i & a | i & s | a & s) - 1894007588 : (i ^ a ^ s) - 899497514, l = s, s = a, a = i << 30 | i >>> 2, i = r, r = d
                            }
                            n[0] = n[0] + r | 0, n[1] = n[1] + i | 0, n[2] = n[2] + a | 0, n[3] = n[3] + s | 0, n[4] = n[4] + l | 0
                        },
                        _doFinalize: function() {
                            var e = this._data,
                                t = e.words,
                                n = 8 * this._nDataBytes,
                                r = 8 * e.sigBytes;
                            return t[r >>> 5] |= 128 << 24 - r % 32, t[(r + 64 >>> 9 << 4) + 14] = Math.floor(n / 4294967296), t[(r + 64 >>> 9 << 4) + 15] = n, e.sigBytes = 4 * t.length, this._process(), this._hash
                        },
                        clone: function() {
                            var e = i.clone.call(this);
                            return e._hash = this._hash.clone(), e
                        }
                    });
                t.SHA1 = i._createHelper(s), t.HmacSHA1 = i._createHmacHelper(s)
            }(), e.SHA1
        })
    }, function(e, t, n) {
        ! function(n, r) {
            e.exports = t = r()
        }(this, function() {
            var e = e || function(e, t) {
                var n = {},
                    r = n.lib = {},
                    i = r.Base = function() {
                        function e() {}
                        return {
                            extend: function(t) {
                                e.prototype = this;
                                var n = new e;
                                return t && n.mixIn(t), n.hasOwnProperty("init") || (n.init = function() {
                                    n.$super.init.apply(this, arguments)
                                }), n.init.prototype = n, n.$super = this, n
                            },
                            create: function() {
                                var e = this.extend();
                                return e.init.apply(e, arguments), e
                            },
                            init: function() {},
                            mixIn: function(e) {
                                for (var t in e) e.hasOwnProperty(t) && (this[t] = e[t]);
                                e.hasOwnProperty("toString") && (this.toString = e.toString)
                            },
                            clone: function() {
                                return this.init.prototype.extend(this)
                            }
                        }
                    }(),
                    a = r.WordArray = i.extend({
                        init: function(e, n) {
                            e = this.words = e || [], n != t ? this.sigBytes = n : this.sigBytes = 4 * e.length
                        },
                        toString: function(e) {
                            return (e || s).stringify(this)
                        },
                        concat: function(e) {
                            var t = this.words,
                                n = e.words,
                                r = this.sigBytes,
                                i = e.sigBytes;
                            if (this.clamp(), r % 4)
                                for (var a = 0; a < i; a++) {
                                    var o = n[a >>> 2] >>> 24 - a % 4 * 8 & 255;
                                    t[r + a >>> 2] |= o << 24 - (r + a) % 4 * 8
                                } else
                                    for (var a = 0; a < i; a += 4) t[r + a >>> 2] = n[a >>> 2];
                            return this.sigBytes += i, this
                        },
                        clamp: function() {
                            var t = this.words,
                                n = this.sigBytes;
                            t[n >>> 2] &= 4294967295 << 32 - n % 4 * 8, t.length = e.ceil(n / 4)
                        },
                        clone: function() {
                            var e = i.clone.call(this);
                            return e.words = this.words.slice(0), e
                        },
                        random: function(t) {
                            for (var n, r = [], i = function(t) {
                                    var t = t,
                                        n = 987654321,
                                        r = 4294967295;
                                    return function() {
                                        n = 36969 * (65535 & n) + (n >> 16) & r, t = 18e3 * (65535 & t) + (t >> 16) & r;
                                        var i = (n << 16) + t & r;
                                        return i /= 4294967296, i += .5, i * (e.random() > .5 ? 1 : -1)
                                    }
                                }, o = 0; o < t; o += 4) {
                                var s = i(4294967296 * (n || e.random()));
                                n = 987654071 * s(), r.push(4294967296 * s() | 0)
                            }
                            return new a.init(r, t)
                        }
                    }),
                    o = n.enc = {},
                    s = o.Hex = {
                        stringify: function(e) {
                            for (var t = e.words, n = e.sigBytes, r = [], i = 0; i < n; i++) {
                                var a = t[i >>> 2] >>> 24 - i % 4 * 8 & 255;
                                r.push((a >>> 4).toString(16)), r.push((15 & a).toString(16))
                            }
                            return r.join("")
                        },
                        parse: function(e) {
                            for (var t = e.length, n = [], r = 0; r < t; r += 2) n[r >>> 3] |= parseInt(e.substr(r, 2), 16) << 24 - r % 8 * 4;
                            return new a.init(n, t / 2)
                        }
                    },
                    l = o.Latin1 = {
                        stringify: function(e) {
                            for (var t = e.words, n = e.sigBytes, r = [], i = 0; i < n; i++) {
                                var a = t[i >>> 2] >>> 24 - i % 4 * 8 & 255;
                                r.push(String.fromCharCode(a))
                            }
                            return r.join("")
                        },
                        parse: function(e) {
                            for (var t = e.length, n = [], r = 0; r < t; r++) n[r >>> 2] |= (255 & e.charCodeAt(r)) << 24 - r % 4 * 8;
                            return new a.init(n, t)
                        }
                    },
                    u = o.Utf8 = {
                        stringify: function(e) {
                            try {
                                return decodeURIComponent(escape(l.stringify(e)))
                            } catch (e) {
                                throw new Error("Malformed UTF-8 data")
                            }
                        },
                        parse: function(e) {
                            return l.parse(unescape(encodeURIComponent(e)))
                        }
                    },
                    c = r.BufferedBlockAlgorithm = i.extend({
                        reset: function() {
                            this._data = new a.init, this._nDataBytes = 0
                        },
                        _append: function(e) {
                            "string" == typeof e && (e = u.parse(e)), this._data.concat(e), this._nDataBytes += e.sigBytes
                        },
                        _process: function(t) {
                            var n = this._data,
                                r = n.words,
                                i = n.sigBytes,
                                o = this.blockSize,
                                s = 4 * o,
                                l = i / s;
                            l = t ? e.ceil(l) : e.max((0 | l) - this._minBufferSize, 0);
                            var u = l * o,
                                c = e.min(4 * u, i);
                            if (u) {
                                for (var d = 0; d < u; d += o) this._doProcessBlock(r, d);
                                var f = r.splice(0, u);
                                n.sigBytes -= c
                            }
                            return new a.init(f, c)
                        },
                        clone: function() {
                            var e = i.clone.call(this);
                            return e._data = this._data.clone(), e
                        },
                        _minBufferSize: 0
                    }),
                    d = (r.Hasher = c.extend({
                        cfg: i.extend(),
                        init: function(e) {
                            this.cfg = this.cfg.extend(e), this.reset()
                        },
                        reset: function() {
                            c.reset.call(this), this._doReset()
                        },
                        update: function(e) {
                            return this._append(e), this._process(), this
                        },
                        finalize: function(e) {
                            e && this._append(e);
                            var t = this._doFinalize();
                            return t
                        },
                        blockSize: 16,
                        _createHelper: function(e) {
                            return function(t, n) {
                                return new e.init(n).finalize(t)
                            }
                        },
                        _createHmacHelper: function(e) {
                            return function(t, n) {
                                return new d.HMAC.init(e, n).finalize(t)
                            }
                        }
                    }), n.algo = {});
                return n
            }(Math);
            return e
        })
    }, function(e, t, n) {
        var r = n(257),
            i = n(258),
            a = n(259);
        t.DEFAULT_SPADE_URL = "//trowel.twitch.tv/", t.SPADE_URL_PROJECT_UUID = "4badc757-13a7-468c-99b6-e42aef7fc286", t.sendEvent = function(e, n, o, s) {
            var l = {
                    event: n,
                    properties: o
                },
                u = r.stringify(i.parse(JSON.stringify(l))),
                c = e || t.DEFAULT_SPADE_URL;
            a.fetch(c, {
                method: "post",
                headers: {
                    "Content-type": "application/x-www-form-urlencoded; charset=UTF-8"
                },
                body: "data=" + encodeURIComponent(u)
            }, s)
        }
    }, function(e, t, n) {
        ! function(r, i) {
            e.exports = t = i(n(255))
        }(this, function(e) {
            return function() {
                var t = e,
                    n = t.lib,
                    r = n.WordArray,
                    i = t.enc;
                i.Base64 = {
                    stringify: function(e) {
                        var t = e.words,
                            n = e.sigBytes,
                            r = this._map;
                        e.clamp();
                        for (var i = [], a = 0; a < n; a += 3)
                            for (var o = t[a >>> 2] >>> 24 - a % 4 * 8 & 255, s = t[a + 1 >>> 2] >>> 24 - (a + 1) % 4 * 8 & 255, l = t[a + 2 >>> 2] >>> 24 - (a + 2) % 4 * 8 & 255, u = o << 16 | s << 8 | l, c = 0; c < 4 && a + .75 * c < n; c++) i.push(r.charAt(u >>> 6 * (3 - c) & 63));
                        var d = r.charAt(64);
                        if (d)
                            for (; i.length % 4;) i.push(d);
                        return i.join("")
                    },
                    parse: function(e) {
                        var t = e.length,
                            n = this._map,
                            i = n.charAt(64);
                        if (i) {
                            var a = e.indexOf(i);
                            a != -1 && (t = a)
                        }
                        for (var o = [], s = 0, l = 0; l < t; l++)
                            if (l % 4) {
                                var u = n.indexOf(e.charAt(l - 1)) << l % 4 * 2,
                                    c = n.indexOf(e.charAt(l)) >>> 6 - l % 4 * 2,
                                    d = u | c;
                                o[s >>> 2] |= d << 24 - s % 4 * 8, s++
                            }
                        return r.create(o, s)
                    },
                    _map: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="
                }
            }(), e.enc.Base64
        })
    }, function(e, t, n) {
        ! function(r, i) {
            e.exports = t = i(n(255))
        }(this, function(e) {
            return e.enc.Utf8
        })
    }, function(e, t) {
        function n(e, t) {
            var n = document.head || document.getElementsByTagName("head")[0];
            n || t(new Error("No head element to append script"));
            var r = document.createElement("script");
            r.onload = function() {
                t(null), setTimeout(function() {
                    n.removeChild(r)
                }, 0)
            }, r.onerror = function() {
                t(new Error("Unable to load script"))
            }, n.appendChild(r), r.src = e
        }

        function r(e, t, n) {
            var r = new XMLHttpRequest;
            r.open(t.method || "GET", e, !0), t.headers && Object.keys(t.headers).forEach(function(e) {
                r.setRequestHeader(e, t.headers[e])
            }), r.onreadystatechange = function() {
                switch (r.readyState) {
                    case i:
                        return void(200 <= r.status && r.status < 300 ? n(null, r.responseText) : n(new Error("XHR error: " + r.status + " " + e), null))
                }
            }, r.send(t.body)
        }
        var i = 4;
        t.fetch = function(e, t, i) {
            t.injectScript ? n(e, i || function() {}) : r(e, t, i || function() {})
        }
    }, function(e, t, n) {
        function r(e) {
            this._url = e
        }
        var i = n(259);
        e.exports = r, r.SERVICE_URL = "//www.twitch.tv/experiments.json", r.prototype.getExperimentConfiguration = function(e, t) {
            i.fetch(this._url, {}, function(n, r) {
                if (null !== n) return void t(n);
                try {
                    e(JSON.parse(r))
                } catch (e) {
                    t(new Error("Invalid JSON response from server: " + r))
                }
            })
        }
    }, , , function(e, t, n) {
        "use strict";

        function r(e) {
            if (e && e.__esModule) return e;
            var t = {};
            if (null != e)
                for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
            return t.default = e, t
        }

        function i() {
            this._viewerSteamId = Promise.reject(), this._channelSteamId = Promise.reject(), this._viewerSteamId.then(null, function() {
                return null
            }), this._channelSteamId.then(null, function() {
                return null
            })
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.ValveClient = i;
        var a = n(168),
            o = r(a);
        i.prototype.viewerInfo = function(e) {
            this._viewerSteamId = e.then(function(e) {
                return e.steam_id ? e.steam_id : Promise.reject()
            }), this._viewerSteamId.then(null, function() {
                return null
            })
        }, i.prototype.channelInfo = function(e) {
            this._channelSteamId = e.then(function(e) {
                return e.steam_id ? e.steam_id : Promise.reject()
            }), this._channelSteamId.then(null, function() {
                return null
            })
        }, i.prototype.notify = function() {
            var e = Promise.all([this._channelSteamId, this._viewerSteamId]).then(function(e) {
                var t = e[0],
                    n = e[1];
                $.ajax({
                    url: o.valveApiHost,
                    method: "GET",
                    data: {
                        channel: t,
                        viewer: n
                    }
                })
            });
            e.then(null, function() {
                return null
            })
        }
    }, function(e, t, n) {
        "use strict";

        function r() {
            return {
                type: l
            }
        }

        function i() {
            return {
                type: u
            }
        }

        function a() {
            return {
                type: c,
                playSessionId: (0, s.generate)(),
                playSessionStartTime: Date.now()
            }
        }

        function o(e) {
            return {
                type: d,
                clients: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.ACTION_SET_TRACKING_CLIENTS = t.ACTION_RESET_PLAY_SESSION = t.ACTION_RESET_QUALITY_CHANGE_COUNT = t.ACTION_INCREMENT_QUALITY_CHANGE_COUNT = void 0, t.incrementQualityChangeCount = r, t.resetQualityChangeCount = i, t.resetPlaySession = a, t.setTrackingClients = o;
        var s = n(245),
            l = t.ACTION_INCREMENT_QUALITY_CHANGE_COUNT = "set quality change count",
            u = t.ACTION_RESET_QUALITY_CHANGE_COUNT = "reset quality change count",
            c = t.ACTION_RESET_PLAY_SESSION = "reset play session",
            d = t.ACTION_SET_TRACKING_CLIENTS = "set new tracking clients"
    }, function(e, t) {
        "use strict";

        function n(e) {
            return e ? {
                type: r,
                communities: {
                    data: e
                }
            } : {
                type: i
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.setCommunitiesData = n;
        var r = t.ACTION_SET_COMMUNITIES_DATA = "set communities data",
            i = t.ACTION_INVALID_COMMUNITIES_DATA = "invalid communities data"
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            if (e && e.__esModule) return e;
            var t = {};
            if (null != e)
                for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
            return t.default = e, t
        }

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function a(e, t) {
            function n() {
                var n = new l.MixpanelClient({
                        host: f.mixpanelHost,
                        token: f.mixpanelToken
                    }),
                    i = new u.SpadeClient({
                        trustedURI: p.trustedSpadeURI,
                        untrustedHost: f.untrustedSpadeHost
                    });
                e.dispatch((0, c.setTrackingClients)([n, i]));
                var s = b.getFlashPlayerVersion(),
                    d = s.major + "," + s.minor + "," + s.release,
                    h = a(),
                    y = (0, _.parseUri)(h),
                    E = v.get(!1),
                    T = v.get(!0);
                m = {
                    app_version: "2017.06.27-182625+6223236eeb565b3d5d7027ef47781afb27be285c",
                    flash_version: d,
                    referrer_url: h,
                    referrer_host: y.host,
                    referrer_domain: r(y.host),
                    browser: navigator.appVersion || "",
                    user_agent: navigator.userAgent || "",
                    device_id: E,
                    distinct_id: E,
                    session_device_id: T
                }, o.setProperties(t.tracking), o.setProperties({
                    channel: t.channel,
                    vod: t.video,
                    vod_id: t.video
                }), o.setProperty("benchmark_session_id", t.benchmarkId || g.generate()), o.setProperty("mse_support", "undefined" != typeof MediaSource)
            }

            function r(e) {
                var t = e.split(".");
                return t.slice(-2).join(".")
            }

            function i() {
                var e;
                try {
                    document.domain = f.domain, e = window.parent.location, e.host || (e = window.location)
                } catch (t) {
                    e = window.location
                }
                return e
            }

            function a() {
                try {
                    return document.domain = f.domain, window.parent.document.referrer
                } catch (e) {
                    return window.document.referrer
                }
            }
            var o = this,
                d = [],
                m = void 0;
            o.trackEvents = function(n) {
                var a = e.getState(),
                    o = a.window,
                    l = o.Date.now() / 1e3;
                Promise.all(d).then(function(e) {
                    var o = s.default.apply(null, e),
                        u = i(),
                        c = a.env,
                        d = c.platform,
                        f = c.playerType,
                        p = n.map(function(e) {
                            var t = (0, s.default)({}, m, o, e.properties, a.tracking, {
                                platform: f === S.PLAYER_CURSE ? f : d,
                                play_session_id: a.analytics.playSessionId,
                                url: (0, h.sanitizeQuery)(u.href),
                                host: u.host,
                                domain: r(u.host)
                            });
                            return t.time || (t.time = l), {
                                event: e.event,
                                properties: t
                            }
                        });
                    t.debug && p.forEach(function(e) {
                        var t = e.event,
                            n = e.properties;
                        console.log("track event:", t, n)
                    });
                    var _ = a.analytics.trackingClients;
                    _.forEach(function(e) {
                        e.trackEvents(p)
                    })
                })
            }, o.trackEvent = function(e, t) {
                o.trackEvents([{
                    event: e,
                    properties: t
                }])
            }, o.setProperty = function(e, t) {
                var n = {};
                n[e] = t, o.setProperties(n)
            }, o.setProperties = function(e) {
                var t = Promise.resolve(e);
                t = t.then(null, function(e) {
                    return console.warn("failed to resolve properties promise", e), {}
                }), d.push(t)
            }, n()
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.AnalyticsTracker = a;
        var o = n(118),
            s = i(o),
            l = n(267),
            u = n(269),
            c = n(264),
            d = n(168),
            f = r(d),
            p = n(270),
            _ = n(176),
            h = n(246),
            m = n(248),
            v = r(m),
            y = n(245),
            g = r(y),
            E = n(271),
            b = r(E),
            T = n(217),
            S = r(T)
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            if (e && e.__esModule) return e;
            var t = {};
            if (null != e)
                for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
            return t.default = e, t
        }

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function a(e) {
            this._host = e.host, this._token = e.token
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.MixpanelClient = a;
        var o = n(118),
            s = i(o),
            l = n(53),
            u = i(l),
            c = n(168),
            d = r(c),
            f = n(268);
        a.prototype.trackEvent = function(e, t) {
            if (!(0, u.default)(d.mixpanelIgnore, e)) {
                var n = (0, s.default)({}, t, {
                        token: this._token
                    }),
                    r = (0, f.b64EncodeUnicode)(JSON.stringify({
                        event: e,
                        properties: n
                    }));
                $.ajax({
                    url: this._host + "/track",
                    method: "GET",
                    cache: !1,
                    data: {
                        data: r,
                        ip: 1
                    }
                })
            }
        }, a.prototype.trackEvents = function(e) {
            e.forEach(function(e) {
                this.trackEvent(e.event, e.properties)
            }, this)
        }
    }, function(e, t) {
        "use strict";

        function n(e) {
            return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g, function(e, t) {
                return String.fromCharCode("0x" + t)
            }))
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.b64EncodeUnicode = n
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            if (e && e.__esModule) return e;
            var t = {};
            if (null != e)
                for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
            return t.default = e, t
        }

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function a(e) {
            this._trustedURI = e.trustedURI, this._untrustedHost = e.untrustedHost
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.SpadeClient = a;
        var o = n(53),
            s = i(o),
            l = n(168),
            u = r(l),
            c = n(268),
            d = n(120),
            f = i(d),
            p = "x_untrusted_minute-watched_filtered",
            _ = "minute-watched";
        a.prototype.trackEvent = function(e, t) {
            (0, s.default)(u.spadeIgnore, e) || (this._send({
                event: e,
                properties: t
            }), e === _ && this._sendToUntrustedHost({
                event: p,
                properties: t
            }))
        }, a.prototype.trackEvents = function(e) {
            var t = e.filter(function(e) {
                    return !(0, s.default)(u.spadeIgnore, e.event)
                }),
                n = (0, f.default)(t, function(e) {
                    var t = e.event;
                    return t === _
                });
            t.length > 0 && this._send(t), n && this._sendToUntrustedHost({
                event: p,
                properties: n.properties
            })
        }, a.prototype._send = function(e) {
            $.ajax({
                url: this._trustedURI,
                method: "POST",
                data: {
                    data: (0, c.b64EncodeUnicode)(JSON.stringify(e))
                }
            })
        }, a.prototype._sendToUntrustedHost = function(e) {
            $.ajax({
                url: this._untrustedHost,
                method: "POST",
                data: {
                    data: (0, c.b64EncodeUnicode)(JSON.stringify(e))
                }
            })
        }
    }, function(e, t) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        t.trustedSpadeURI = "//video-edge-86af9e.sjc01.hls.ttvnw.net/v1/playlist/CqIsr6OkZxnp6RyZMFbY4Xq9C6F2jvEUd1ujzb8SvgeI8djRqnoeI8AkLB4utVq2GKXJv1xqowR4_H4m5S7tfnbFTcLnH13nM8M9-bnbKWdMNU57UcxXWRKVe90QnZ3SKWGY8ydG0INEvTDeKfSmV345FeKsc2-AWg2fgOe4ES09yffpLO-iV8beJvubVARhxuMWh8Sh34zKV8TCq6AAEToLEpQcP229zK03-FHs4L-KNQ3Cj8kG2IunPyVZT71-bKx7_wjtsZ-ltKAEt2ND0xsGv2RDr5MNAqAGotoyDQobdx2bFjhLpXfIZHWF_g3NqyLqQHsH8_b-BnmZnyRsTKs5AOrEKQEzwzkYOi-DtEmZOwyStzBKNxTH0Oe-N1wbI6Zc8hq6V3UmKqI5maHJhNu4lX8qBb1pxJ-DFYdROb5lCBDm.m3u8"
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i() {
            return d.default.getFlashPlayerVersion()
        }

        function a(e) {
            return d.default.hasFlashPlayerVersion(e)
        }

        function o() {
            return a("1")
        }

        function s() {
            var e = "application/x-shockwave-flash",
                t = navigator.mimeTypes;
            if (t && t[e] && t[e].enabledPlugin) {
                var n = t[e].enabledPlugin.filename;
                return n.match(/pepflashplayer|Pepper/gi) ? "ppapi" : "npapi"
            }
            return o() ? "unknown" : ""
        }

        function l(e, t, n, r, i, a, o, s, l, u) {
            return d.default.embedSWF(e, t, n, r, i, a, o, s, l, u)
        }

        function u(e) {
            return d.default.removeSWF(e)
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.getFlashPlayerVersion = i, t.hasFlashPlayerVersion = a, t.hasFlashPlayer = o, t.getFlashPlayerType = s, t.embedSWF = l, t.removeSWF = u;
        var c = n(272),
            d = r(c)
    }, function(e, t) {
        /*!    SWFObject v2.3.20130521 <http://github.com/swfobject/swfobject>
        	    is released under the MIT License <http://www.opensource.org/licenses/mit-license.php>
        	*/
        var n = function() {
            function e() {
                if (!K && document.getElementsByTagName("body")[0]) {
                    try {
                        var e, t = y("span");
                        t.style.display = "none", e = B.getElementsByTagName("body")[0].appendChild(t), e.parentNode.removeChild(e), e = null, t = null
                    } catch (e) {
                        return
                    }
                    K = !0;
                    for (var n = H.length, r = 0; r < n; r++) H[r]()
                }
            }

            function t(e) {
                K ? e() : H[H.length] = e
            }

            function r(e) {
                if (typeof U.addEventListener !== N) U.addEventListener("load", e, !1);
                else if (typeof B.addEventListener !== N) B.addEventListener("load", e, !1);
                else if (typeof U.attachEvent !== N) E(U, "onload", e);
                else if ("function" == typeof U.onload) {
                    var t = U.onload;
                    U.onload = function() {
                        t(), e()
                    }
                } else U.onload = e
            }

            function i() {
                var e = B.getElementsByTagName("body")[0],
                    t = y(R);
                t.setAttribute("style", "visibility: hidden;"), t.setAttribute("type", D);
                var n = e.appendChild(t);
                if (n) {
                    var r = 0;
                    ! function i() {
                        if (typeof n.GetVariable !== N) try {
                            var o = n.GetVariable("$version");
                            o && (o = o.split(" ")[1].split(","), Q.pv = [g(o[0]), g(o[1]), g(o[2])])
                        } catch (e) {
                            Q.pv = [8, 0, 0]
                        } else if (r < 10) return r++, void setTimeout(i, 10);
                        e.removeChild(t), n = null, a()
                    }()
                } else a()
            }

            function a() {
                var e = G.length;
                if (e > 0)
                    for (var t = 0; t < e; t++) {
                        var n = G[t].id,
                            r = G[t].callbackFn,
                            i = {
                                success: !1,
                                id: n
                            };
                        if (Q.pv[0] > 0) {
                            var a = v(n);
                            if (a)
                                if (!b(G[t].swfVersion) || Q.wk && Q.wk < 312)
                                    if (G[t].expressInstall && s()) {
                                        var c = {};
                                        c.data = G[t].expressInstall, c.width = a.getAttribute("width") || "0", c.height = a.getAttribute("height") || "0", a.getAttribute("class") && (c.styleclass = a.getAttribute("class")), a.getAttribute("align") && (c.align = a.getAttribute("align"));
                                        for (var d = {}, f = a.getElementsByTagName("param"), p = f.length, _ = 0; _ < p; _++) "movie" !== f[_].getAttribute("name").toLowerCase() && (d[f[_].getAttribute("name")] = f[_].getAttribute("value"));
                                        l(c, d, n, r)
                                    } else u(a), r && r(i);
                            else S(n, !0), r && (i.success = !0, i.ref = o(n), i.id = n, r(i))
                        } else if (S(n, !0), r) {
                            var h = o(n);
                            h && typeof h.SetVariable !== N && (i.success = !0, i.ref = h, i.id = h.id), r(i)
                        }
                    }
            }

            function o(e) {
                var t = null,
                    n = v(e);
                return n && "OBJECT" === n.nodeName.toUpperCase() && (t = typeof n.SetVariable !== N ? n : n.getElementsByTagName(R)[0] || n), t
            }

            function s() {
                return !W && b("6.0.65") && (Q.win || Q.mac) && !(Q.wk && Q.wk < 312)
            }

            function l(e, t, n, r) {
                var i = v(n);
                if (n = m(n), W = !0, O = r || null, w = {
                        success: !1,
                        id: n
                    }, i) {
                    "OBJECT" === i.nodeName.toUpperCase() ? (C = c(i), P = null) : (C = i, P = n), e.id = j, (typeof e.width === N || !/%$/.test(e.width) && g(e.width) < 310) && (e.width = "310"), (typeof e.height === N || !/%$/.test(e.height) && g(e.height) < 137) && (e.height = "137");
                    var a = Q.ie ? "ActiveX" : "PlugIn",
                        o = "MMredirectURL=" + encodeURIComponent(U.location.toString().replace(/&/g, "%26")) + "&MMplayerType=" + a + "&MMdoctitle=" + encodeURIComponent(B.title.slice(0, 47) + " - Flash Player Installation");
                    if (typeof t.flashvars !== N ? t.flashvars += "&" + o : t.flashvars = o, Q.ie && 4 != i.readyState) {
                        var s = y("div");
                        n += "SWFObjectNew", s.setAttribute("id", n), i.parentNode.insertBefore(s, i), i.style.display = "none", _(i)
                    }
                    f(e, t, n)
                }
            }

            function u(e) {
                if (Q.ie && 4 != e.readyState) {
                    e.style.display = "none";
                    var t = y("div");
                    e.parentNode.insertBefore(t, e), t.parentNode.replaceChild(c(e), t), _(e)
                } else e.parentNode.replaceChild(c(e), e)
            }

            function c(e) {
                var t = y("div");
                if (Q.win && Q.ie) t.innerHTML = e.innerHTML;
                else {
                    var n = e.getElementsByTagName(R)[0];
                    if (n) {
                        var r = n.childNodes;
                        if (r)
                            for (var i = r.length, a = 0; a < i; a++) 1 == r[a].nodeType && "PARAM" === r[a].nodeName || 8 == r[a].nodeType || t.appendChild(r[a].cloneNode(!0))
                    }
                }
                return t
            }

            function d(e, t) {
                var n = y("div");
                return n.innerHTML = "<object classid='clsid:D27CDB6E-AE6D-11cf-96B8-444553540000'><param name='movie' value='" + e + "'>" + t + "</object>", n.firstChild
            }

            function f(e, t, n) {
                var r, i = v(n);
                if (n = m(n), Q.wk && Q.wk < 312) return r;
                if (i) {
                    var a, o, s, l = y(Q.ie ? "div" : R);
                    typeof e.id === N && (e.id = n);
                    for (s in t) t.hasOwnProperty(s) && "movie" !== s.toLowerCase() && p(l, s, t[s]);
                    Q.ie && (l = d(e.data, l.innerHTML));
                    for (a in e) e.hasOwnProperty(a) && (o = a.toLowerCase(), "styleclass" === o ? l.setAttribute("class", e[a]) : "classid" !== o && "data" !== o && l.setAttribute(a, e[a]));
                    Q.ie ? q[q.length] = e.id : (l.setAttribute("type", D), l.setAttribute("data", e.data)), i.parentNode.replaceChild(l, i), r = l
                }
                return r
            }

            function p(e, t, n) {
                var r = y("param");
                r.setAttribute("name", t), r.setAttribute("value", n), e.appendChild(r)
            }

            function _(e) {
                var t = v(e);
                t && "OBJECT" === t.nodeName.toUpperCase() && (Q.ie ? (t.style.display = "none", function e() {
                    if (4 == t.readyState) {
                        for (var n in t) "function" == typeof t[n] && (t[n] = null);
                        t.parentNode.removeChild(t)
                    } else setTimeout(e, 10)
                }()) : t.parentNode.removeChild(t))
            }

            function h(e) {
                return e && e.nodeType && 1 === e.nodeType
            }

            function m(e) {
                return h(e) ? e.id : e
            }

            function v(e) {
                if (h(e)) return e;
                var t = null;
                try {
                    t = B.getElementById(e)
                } catch (e) {}
                return t
            }

            function y(e) {
                return B.createElement(e)
            }

            function g(e) {
                return parseInt(e, 10)
            }

            function E(e, t, n) {
                e.attachEvent(t, n), Y[Y.length] = [e, t, n]
            }

            function b(e) {
                e += "";
                var t = Q.pv,
                    n = e.split(".");
                return n[0] = g(n[0]), n[1] = g(n[1]) || 0, n[2] = g(n[2]) || 0, t[0] > n[0] || t[0] == n[0] && t[1] > n[1] || t[0] == n[0] && t[1] == n[1] && t[2] >= n[2]
            }

            function T(e, t, n, r) {
                var i = B.getElementsByTagName("head")[0];
                if (i) {
                    var a = "string" == typeof n ? n : "screen";
                    if (r && (k = null, I = null), !k || I != a) {
                        var o = y("style");
                        o.setAttribute("type", "text/css"), o.setAttribute("media", a), k = i.appendChild(o), Q.ie && typeof B.styleSheets !== N && B.styleSheets.length > 0 && (k = B.styleSheets[B.styleSheets.length - 1]), I = a
                    }
                    k && (typeof k.addRule !== N ? k.addRule(e, t) : typeof B.createTextNode !== N && k.appendChild(B.createTextNode(e + " {" + t + "}")))
                }
            }

            function S(e, t) {
                if ($) {
                    var n = t ? "visible" : "hidden",
                        r = v(e);
                    K && r ? r.style.visibility = n : "string" == typeof e && T("#" + e, "visibility:" + n)
                }
            }

            function A(e) {
                var t = /[\\\"<>\.;]/,
                    n = null !== t.exec(e);
                return n && typeof encodeURIComponent !== N ? encodeURIComponent(e) : e
            }
            var C, P, O, w, k, I, N = "undefined",
                R = "object",
                L = "Shockwave Flash",
                M = "ShockwaveFlash.ShockwaveFlash",
                D = "application/x-shockwave-flash",
                j = "SWFObjectExprInst",
                x = "onreadystatechange",
                U = window,
                B = document,
                F = navigator,
                V = !1,
                H = [],
                G = [],
                q = [],
                Y = [],
                K = !1,
                W = !1,
                $ = !0,
                z = !1,
                Q = function() {
                    var e = typeof B.getElementById !== N && typeof B.getElementsByTagName !== N && typeof B.createElement !== N,
                        t = F.userAgent.toLowerCase(),
                        n = F.platform.toLowerCase(),
                        r = n ? /win/.test(n) : /win/.test(t),
                        i = n ? /mac/.test(n) : /mac/.test(t),
                        a = !!/webkit/.test(t) && parseFloat(t.replace(/^.*webkit\/(\d+(\.\d+)?).*$/, "$1")),
                        o = "Microsoft Internet Explorer" === F.appName,
                        s = [0, 0, 0],
                        l = null;
                    if (typeof F.plugins !== N && typeof F.plugins[L] === R) l = F.plugins[L].description, l && typeof F.mimeTypes !== N && F.mimeTypes[D] && F.mimeTypes[D].enabledPlugin && (V = !0, o = !1, l = l.replace(/^.*\s+(\S+\s+\S+$)/, "$1"), s[0] = g(l.replace(/^(.*)\..*$/, "$1")), s[1] = g(l.replace(/^.*\.(.*)\s.*$/, "$1")), s[2] = /[a-zA-Z]/.test(l) ? g(l.replace(/^.*[a-zA-Z]+(.*)$/, "$1")) : 0);
                    else if (typeof U.ActiveXObject !== N) try {
                        var u = new ActiveXObject(M);
                        u && (l = u.GetVariable("$version"), l && (o = !0, l = l.split(" ")[1].split(","), s = [g(l[0]), g(l[1]), g(l[2])]))
                    } catch (e) {}
                    return {
                        w3: e,
                        pv: s,
                        wk: a,
                        ie: o,
                        win: r,
                        mac: i
                    }
                }();
            (function() {
                Q.w3 && ((typeof B.readyState !== N && ("complete" === B.readyState || "interactive" === B.readyState) || typeof B.readyState === N && (B.getElementsByTagName("body")[0] || B.body)) && e(), K || (typeof B.addEventListener !== N && B.addEventListener("DOMContentLoaded", e, !1), Q.ie && (B.attachEvent(x, function t() {
                    "complete" === B.readyState && (B.detachEvent(x, t), e())
                }), U == top && ! function t() {
                    if (!K) {
                        try {
                            B.documentElement.doScroll("left")
                        } catch (e) {
                            return void setTimeout(t, 0)
                        }
                        e()
                    }
                }()), Q.wk && ! function t() {
                    if (!K) return /loaded|complete/.test(B.readyState) ? void e() : void setTimeout(t, 0)
                }()))
            })();
            H[0] = function() {
                V ? i() : a()
            };
            (function() {
                Q.ie && window.attachEvent("onunload", function() {
                    for (var e = Y.length, t = 0; t < e; t++) Y[t][0].detachEvent(Y[t][1], Y[t][2]);
                    for (var r = q.length, i = 0; i < r; i++) _(q[i]);
                    for (var a in Q) Q[a] = null;
                    Q = null;
                    for (var o in n) n[o] = null;
                    n = null
                })
            })();
            return {
                registerObject: function(e, t, n, r) {
                    if (Q.w3 && e && t) {
                        var i = {};
                        i.id = e, i.swfVersion = t, i.expressInstall = n, i.callbackFn = r, G[G.length] = i, S(e, !1)
                    } else r && r({
                        success: !1,
                        id: e
                    })
                },
                getObjectById: function(e) {
                    if (Q.w3) return o(e)
                },
                embedSWF: function(e, n, r, i, a, o, u, c, d, p) {
                    var _ = m(n),
                        h = {
                            success: !1,
                            id: _
                        };
                    Q.w3 && !(Q.wk && Q.wk < 312) && e && n && r && i && a ? (S(_, !1), t(function() {
                        r += "", i += "";
                        var t = {};
                        if (d && typeof d === R)
                            for (var m in d) t[m] = d[m];
                        t.data = e, t.width = r, t.height = i;
                        var v = {};
                        if (c && typeof c === R)
                            for (var y in c) v[y] = c[y];
                        if (u && typeof u === R)
                            for (var g in u)
                                if (u.hasOwnProperty(g)) {
                                    var E = z ? encodeURIComponent(g) : g,
                                        T = z ? encodeURIComponent(u[g]) : u[g];
                                    typeof v.flashvars !== N ? v.flashvars += "&" + E + "=" + T : v.flashvars = E + "=" + T
                                }
                        if (b(a)) {
                            var A = f(t, v, n);
                            t.id == _ && S(_, !0), h.success = !0, h.ref = A, h.id = A.id
                        } else {
                            if (o && s()) return t.data = o, void l(t, v, n, p);
                            S(_, !0)
                        }
                        p && p(h)
                    })) : p && p(h)
                },
                switchOffAutoHideShow: function() {
                    $ = !1
                },
                enableUriEncoding: function(e) {
                    z = typeof e === N || e
                },
                ua: Q,
                getFlashPlayerVersion: function() {
                    return {
                        major: Q.pv[0],
                        minor: Q.pv[1],
                        release: Q.pv[2]
                    }
                },
                hasFlashPlayerVersion: b,
                createSWF: function(e, t, n) {
                    return Q.w3 ? f(e, t, n) : void 0
                },
                showExpressInstall: function(e, t, n, r) {
                    Q.w3 && s() && l(e, t, n, r)
                },
                removeSWF: function(e) {
                    Q.w3 && _(e)
                },
                createCSS: function(e, t, n, r) {
                    Q.w3 && T(e, t, n, r)
                },
                addDomLoadEvent: t,
                addLoadEvent: r,
                getQueryParamValue: function(e) {
                    var t = B.location.search || B.location.hash;
                    if (t) {
                        if (/\?/.test(t) && (t = t.split("?")[1]), !e) return A(t);
                        for (var n = t.split("&"), r = 0; r < n.length; r++)
                            if (n[r].substring(0, n[r].indexOf("=")) == e) return A(n[r].substring(n[r].indexOf("=") + 1))
                    }
                    return ""
                },
                expressInstallCallback: function() {
                    if (W) {
                        var e = v(j);
                        e && C && (e.parentNode.replaceChild(C, e), P && (S(P, !0), Q.ie && (C.style.display = "block")), O && O(w)), W = !1
                    }
                },
                version: "2.3"
            }
        }();
        e.exports = n
    }, function(e, t) {
        "use strict";

        function n() {
            window.sp_cid = r;
            var e = {
                    detect: {}
                },
                t = void 0,
                n = void 0,
                a = new Promise(function(e, r) {
                    Promise.resolve($.ajax({
                        url: i,
                        dataType: "script",
                        timeout: 2e3,
                        cache: !0
                    })).then(null, r), t = function() {
                        return e(!0)
                    }, n = function() {
                        return e(!1)
                    }, document.addEventListener("sp.blocking", t), document.addEventListener("sp.not_blocking", n)
                });
            return a.then(null, function() {
                return "unknown"
            }).then(function(r) {
                return e.detect._result = r, window.Twitch.sentinel = e, document.removeEventListener("sp.blocking", t), document.removeEventListener("sp.not_blocking", n), r
            })
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.getSentinel = n;
        var r = "qFEaZsFQnwEdUIs",
            i = "//d1xfq2052q7thw.cloudfront.net/1.7.461.js"
    }, function(e, t, n) {
        "use strict";

        function r(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.AutoSuggestNotificationManager = t.AUTO_SUGGEST_NOTIFICATION_CLOSED_COUNT = t.AUTO_SUGGEST_NOTIFICATION_TIMESTAMP = t.WEEK = t.MAX_BUFFER_EMPTY_COUNT = t.TEN_MINUTES = void 0;
        var i = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            a = n(183),
            o = n(250),
            s = n(275),
            l = n(276),
            u = t.TEN_MINUTES = 6e5,
            c = t.MAX_BUFFER_EMPTY_COUNT = 3,
            d = t.WEEK = 604e6,
            f = t.AUTO_SUGGEST_NOTIFICATION_TIMESTAMP = "AutoSuggestNotificationTimestamp",
            p = t.AUTO_SUGGEST_NOTIFICATION_CLOSED_COUNT = "AutoSuggestNotificationClosedCount";
        t.AutoSuggestNotificationManager = function() {
            function e(t) {
                r(this, e), this._store = t;
                var n = this._store.getState(),
                    i = n.window;
                this._unsubs = [], this._unsubs.push((0, a.subscribe)(this._store, ["playback.bufferEmpties"], this._trackBufferEmpty.bind(this))), this._currentBufferEmptyCount = 0, this._previousBufferTimestamp = (new i.Date).getTime(), o.localStore.get(f) || o.localStore.set(f, (new i.Date).getTime() - d)
            }
            return i(e, [{
                key: "_trackBufferEmpty",
                value: function(e) {
                    var t = e.playback;
                    t.bufferEmpties > 0 && (this._currentBufferEmptyCount++, this._shouldShowAutoSuggestNotification() && this._showAutoSuggestNotification())
                }
            }, {
                key: "_shouldShowAutoSuggestNotification",
                value: function() {
                    return "auto" !== this._store.getState().quality.selected && (this._thirdBufferEmptyInTenMinutes() && this._hasNotSeenAutoSuggestNotificationThisWeek())
                }
            }, {
                key: "_showAutoSuggestNotification",
                value: function() {
                    (!o.localStore.get(p) || o.localStore.get(p) <= 1) && (this._store.dispatch((0, s.addNotification)(l.AutoSuggestNotification)), o.localStore.set(f, (new Date).getTime()))
                }
            }, {
                key: "_thirdBufferEmptyInTenMinutes",
                value: function() {
                    var e = this._store.getState(),
                        t = e.window,
                        n = (new t.Date).getTime(),
                        r = n - this._previousBufferTimestamp;
                    return r > u ? (this._previousBufferTimestamp = n, this._currentBufferEmptyCount = 0, !1) : this._currentBufferEmptyCount >= c ? (this._previousBufferTimestamp = n, this._currentBufferEmptyCount = 0, !0) : void 0
                }
            }, {
                key: "_hasNotSeenAutoSuggestNotificationThisWeek",
                value: function() {
                    var e = this._store.getState(),
                        t = e.window,
                        n = (new t.Date).getTime(),
                        r = o.localStore.get(f);
                    return n - r > d
                }
            }, {
                key: "destroy",
                value: function() {
                    this._unsubs.forEach(function(e) {
                        return e()
                    })
                }
            }]), e
        }()
    }, function(e, t) {
        "use strict";

        function n(e) {
            return {
                type: i,
                notification: e
            }
        }

        function r() {
            return {
                type: a
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.addNotification = n, t.removeNotification = r;
        var i = t.ACTION_ADD_NOTIFICATION = "add notification to notification array",
            a = t.ACTION_REMOVE_NOTIFICATION = "remove notification from notification arrary"
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function a(e, t) {
            if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !t || "object" != typeof t && "function" != typeof t ? e : t
        }

        function o(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.AutoSuggestNotification = t.AutoSuggestNotificationComponent = void 0;
        var s = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            l = n(277),
            u = r(l),
            c = n(307),
            d = r(c),
            f = n(309),
            p = n(311),
            _ = n(310),
            h = r(_),
            m = n(250),
            v = n(274),
            y = (0, h.default)({
                "pl-notif__text": !0
            }),
            g = (0, h.default)({
                "pl-notif__content": !0
            }),
            E = "Is your video buffering? Try the auto quality option.",
            b = {
                t: d.default.func.isRequired,
                onClose: d.default.func.isRequired
            },
            T = t.AutoSuggestNotificationComponent = function(e) {
                function t() {
                    i(this, t);
                    var e = a(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments));
                    return e.handleClose = e.handleClose.bind(e), e
                }
                return o(t, e), s(t, [{
                    key: "render",
                    value: function() {
                        var e = this.props.t;
                        return u.default.createElement(f.NotificationPopUp, {
                            onClose: this.handleClose
                        }, u.default.createElement("div", {
                            className: g
                        }, u.default.createElement("p", {
                            className: y
                        }, e(E))))
                    }
                }, {
                    key: "handleClose",
                    value: function() {
                        if (m.localStore.get(v.AUTO_SUGGEST_NOTIFICATION_CLOSED_COUNT)) {
                            var e = m.localStore.get(v.AUTO_SUGGEST_NOTIFICATION_CLOSED_COUNT);
                            m.localStore.set(v.AUTO_SUGGEST_NOTIFICATION_CLOSED_COUNT, e + 1)
                        } else m.localStore.set(v.AUTO_SUGGEST_NOTIFICATION_CLOSED_COUNT, 1);
                        var t = this.props.onClose;
                        t && t.apply(void 0, arguments)
                    }
                }]), t
            }(u.default.Component);
        T.propTypes = b;
        t.AutoSuggestNotification = (0, p.translate)()(T)
    }, , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e) {
            var t = e.children,
                n = e.onClose;
            return o.default.createElement("div", {
                className: f
            }, o.default.createElement("button", {
                type: "button",
                className: p,
                onClick: n
            }, o.default.createElement("svg", {
                className: "pl-close-button__svg"
            }, o.default.createElement("use", {
                xlinkHref: "#pl-icon_close"
            }))), t)
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.CLOSE_BUTTON_CLASS = t.POPUP_CLASS = void 0, t.NotificationPopUp = i;
        var a = n(277),
            o = r(a),
            s = n(307),
            l = r(s),
            u = n(310),
            c = r(u),
            d = {
                onClose: l.default.func,
                children: l.default.node
            },
            f = t.POPUP_CLASS = (0, c.default)({
                "pl-notif": !0,
                "pl-notif--with-triangle": !1
            }),
            p = t.CLOSE_BUTTON_CLASS = (0, c.default)({
                "pl-close-button": !0,
                "pl-notice__close": !0
            });
        i.propTypes = d
    }, , , , , , , , function(e, t) {
        "use strict";

        function n(e) {
            var t = /^(?:(\d+)[h])?(?:(\d+)[m])?(?:(\d+)[s])?$/,
                n = t.exec(e);
            if (!n) return null;
            for (var r = 0, i = 1; i < n.length; i++) {
                var a = parseInt(n[i], 10) || 0;
                r = 60 * r + a
            }
            return r
        }

        function r(e, t) {
            var n = [e / 3600, e / 60 % 60, e % 60];
            if (t)
                for (; n.length && n[0] < 1;) n.shift();
            for (var r = 0; r < n.length; r++) {
                var i = Math.floor(n[r]);
                n[r] = i < 10 ? "0" + i : i
            }
            return n
        }

        function i(e, t) {
            if (!isFinite(e) || e < 0) return "00:00:00";
            var n = r(e, t);
            return n.join(":")
        }

        function a(e) {
            var t = r(e, !0),
                n = ["h", "m", "s"],
                i = "";
            t = t.reverse(), n = n.reverse();
            for (var a = 0; a < t.length; a++) i = t[a] + n[a] + i;
            return i
        }

        function o(e, t) {
            var n = e.getFullYear(),
                r = e.getMonth() + 1,
                i = e.getDate();
            return t && (r = r < 10 ? "0" + r : r, i = i < 10 ? "0" + i : i), n + "-" + r + "-" + i
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.parse = n, t.toArray = r, t.toString = i, t.toURLString = a, t.toDateString = o
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            if (e && e.__esModule) return e;
            var t = {};
            if (null != e)
                for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
            return t.default = e, t
        }

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function a(e, t, n) {
            return t in e ? Object.defineProperty(e, t, {
                value: n,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : e[t] = n, e
        }

        function o(e, t, n) {
            function r() {
                var e = "";
                Me.getSupportedBackends().length < 1 && t.dispatch((0, L.setError)(c.FLASH_ERROR)), e = (0, $.default)(Me.getSupportedBackends(), n.backend) ? n.backend : Me.getSupportedBackends()[0] || "", i(e)
            }

            function i(r) {
                var i = document.createElement("div");
                i.className = "player-video", e.appendChild(i);
                var u = t.getState(),
                    c = u.env,
                    y = u.ads;
                t.dispatch((0, R.setAccessTokenParams)({
                    adblock: y.adblock,
                    need_https: r === d.BACKEND_PLAYER_CORE,
                    platform: c.platform,
                    player_type: c.playerType
                }));
                var g = r === d.BACKEND_PLAYER_CORE ? "html5" : r;
                t.dispatch((0, F.setUsherParams)(g, n));
                var E = he[r] || h.BackendBlank,
                    b = (0, K.default)({
                        lastAdDisplay: m.localStore.get("lastAdDisplay", 0)
                    }, n),
                    T = new E(b, t);
                t.dispatch((0, S.setBackend)(T)), t.dispatch((0, A.setPlayerBackendType)(T.getBackend())), T.addEventListener(ne.ERROR, s), T.attach(i), Ue = p.BackendChromecast, Ue.init(), xe = new _.BackendMulti(Ue, T), Ae(i, T), T.addEventListener(ne.LOADED_METADATA, G), T.addEventListener(ne.DURATION_CHANGE, l), T.addEventListener(le.BUFFER_CHANGE, Y), T.addEventListener(le.MIDROLL_REQUESTED, W), T.addEventListener(le.STITCHED_AD_START, z), T.addEventListener(le.STITCHED_AD_END, X), T.addEventListener(le.ABS_STREAM_FORMAT_CHANGE, a), T.addEventListener(le.OFFLINE, ue), T.addEventListener(ne.ENDED, se), T.addEventListener(ne.PLAYING, Z), T.addEventListener(ne.TIME_UPDATE, re);
                var C = t.getState().window.navigator.userAgent.toLowerCase(),
                    P = C.indexOf("safari") > -1 && C.indexOf("chrome") === -1,
                    O = C.indexOf("windows") > -1 && C.indexOf("edge") > -1;
                (P || O) && T.addEventListener(ne.TIME_UPDATE, function() {
                    t.dispatch((0, D.setLoading)(!1))
                }), T.addEventListener(ne.PLAYBACK_STATISTICS, o), T.addEventListener(ne.SEEKED, ae), T.addEventListener(ne.SEEKING, f), T.addEventListener(ne.WAITING, f), T.addEventListener(ne.WAITING, v), T.addEventListener(ne.PLAY, f), T.addEventListener(ne.PAUSE, te), T.addEventListener(le.PLAYER_INIT, Me._loadVideoAPI);
                var w = t.getState(),
                    k = w.playback;
                T.setVolume(k.volume), T.setMuted(k.muted), Ie(), ke(), Me._propagateBackendMutliEvents()
            }

            function a(e) {
                var t = e.stream_format_current,
                    n = e.stream_format_previous;
                n !== t && De.emit(le.ABS_STREAM_FORMAT_CHANGE, e)
            }

            function o(e) {
                t.dispatch((0, de.updateStats)(e))
            }

            function s(e) {
                t.dispatch((0, L.setError)(e))
            }

            function l() {
                t.dispatch((0, D.updateDuration)(t.getState().backend.getDuration()))
            }

            function f() {
                t.dispatch((0, D.setLoading)(!0)), t.dispatch((0, D.updatePlaybackState)(ne.WAITING))
            }

            function v() {
                Me.getSeeking() || t.dispatch((0, D.incrementBufferEmpties)())
            }

            function G() {
                t.dispatch({
                    type: T.ACTION_TOGGLE_CAPTIONS,
                    captions: {
                        data: null,
                        available: !1
                    }
                }), t.dispatch((0, j.setQualities)(Me.getQualities()));
                var e = t.getState(),
                    r = e.quality,
                    i = e.stream,
                    a = r.available.filter(function(e) {
                        return !(0, $.default)(i.restrictedBitrates, e.group)
                    });
                a.some(function(e) {
                    return e.group === r.selected
                }) || t.dispatch((0, j.selectQuality)(a[0].group, a[0].bandwidth)), t.dispatch((0, D.updateDuration)(t.getState().backend.getDuration())), i.contentType === g.CONTENT_MODE_LIVE && t.dispatch((0, M.setOnline)(!0)), n.autoplay && ve(), i instanceof g.LiveContentStream && t.dispatch((0, x.fetchLiveStreamMetadata)(xe.getVideoInfo().broadcast_id))
            }

            function Y(e) {
                t.dispatch((0, D.updateBufferValues)(e.start, e.end))
            }

            function W(e) {
                t.dispatch((0, C.requestAds)(P.MIDROLL, e.duration))
            }

            function z(e) {
                if (e.hasOwnProperty("URL") && (0, Q.default)(e.URL)) {
                    var n = e.URL;
                    try {
                        t.dispatch((0, C.setAdClickThrough)(n))
                    } catch (e) {
                        console.warn("Failed to decode click-through URL: ", n)
                    }
                }
                t.dispatch((0, C.setCurrentAdMetadata)({
                    contentType: C.AdContentTypes.STITCHED,
                    rollType: C.AdRollTypes.MIDROLL
                }))
            }

            function X() {
                t.dispatch((0, C.clearCurrentAdMetadata)())
            }

            function Z() {
                t.dispatch((0, L.clearError)()), t.dispatch((0, D.setLoading)(!1)), t.dispatch((0, D.updatePlaybackState)(ne.PLAYING))
            }

            function te() {
                var e = t.getState(),
                    n = e.ads;
                n.currentMetadata.contentType !== C.AdContentTypes.IMA && t.dispatch((0, D.updatePlaybackState)(ne.PAUSE))
            }

            function re() {
                var e = Me.getCurrentTime();
                t.dispatch((0, D.updateCurrentTime)(e))
            }

            function ae() {
                t.getState().screen[0] === U.VOD_RECOMMENDATION_SCREEN && t.dispatch((0, U.popScreen)())
            }

            function se() {
                t.dispatch((0, D.updatePlaybackState)(ne.ENDED));
                var e = t.getState(),
                    n = e.stream,
                    r = e.playback;
                n.contentType !== E.CONTENT_MODE_VOD && r.hasPlayed && t.dispatch((0, C.requestAds)(P.POSTROLL, C.DEFAULT_AD_DURATION))
            }

            function ue() {
                t.dispatch((0, M.setOnline)(!1))
            }

            function me() {
                var e = t.getState(),
                    n = e.playerOptions;
                n.force_preroll ? Re(P.PREROLL, n.force_preroll) : n.force_midroll ? Re(P.MIDROLL, n.force_midroll) : n.force_preroll_id ? Re(P.PREROLL, C.DEFAULT_AD_DURATION, n.force_preroll_id) : n.force_midroll_id ? Re(P.MIDROLL, C.DEFAULT_AD_DURATION, n.force_midroll_id) : t.dispatch((0, C.requestAds)(P.PREROLL, C.DEFAULT_AD_DURATION))
            }

            function ve() {
                var e = t.getState(),
                    n = e.adsManager;
                if (n !== w.nullAdsManager) me();
                else var r = (0, b.subscribe)(t, ["adsManager"], function(e) {
                    var t = e.adsManager;
                    t !== w.nullAdsManager && (r(), me())
                })
            }

            function ye() {
                return (0, b.subscribe)(t, ["stream"], function(e) {
                    var t = e.stream;
                    Me._updateStream(t)
                })
            }

            function ge() {
                return (0, b.subscribe)(t, ["viewercount"], function() {
                    De.emit(le.VIEWERS_CHANGE)
                })
            }

            function Ee() {
                return (0, b.subscribe)(t, ["onlineStatus"], function(e) {
                    var t = e.onlineStatus;
                    t === pe.ONLINE_STATUS ? De.emit(le.ONLINE) : De.emit(le.OFFLINE)
                })
            }

            function be() {
                return (0, b.subscribe)(t, ["playback.contentShowing"], function(e) {
                    var t = e.playback;
                    t.contentShowing && De.emit(le.CONTENT_SHOWING)
                })
            }

            function Te() {
                return (0, b.subscribe)(t, ["quality.selected"], function(e) {
                    var t = e.quality;
                    Me.setQuality(t.selected)
                })
            }

            function Se() {
                return Pe(t.getState()), (0, b.subscribe)(t, ["adsManager"], Pe)
            }

            function Ae(e, n) {
                t.getState().ads.imaScriptLoaded === !0 ? Ce(e, n) : Be = (0, b.subscribe)(t, ["ads.imaScriptLoaded"], function() {
                    Ce(e, n)
                })
            }

            function Ce(e, r) {
                var i = t.getState(),
                    a = i.ads;
                a.imaScriptLoaded === !0 && (t.dispatch((0, O.createAdsManager)(e, r, t, n)), je.push(Se()), (0, J.default)(Be) && Be())
            }

            function Pe(e) {
                var n = e.adsManager;
                n.addEventListener(ce.AD_END, function(e) {
                    m.localStore.set("lastAdDisplay", (new Date).getTime()), e.roll_type === P.POSTROLL && t.dispatch((0, D.updatePlaybackState)(ne.ENDED))
                }), n.addEventListener(ce.AD_START, function() {
                    t.dispatch((0, D.updatePlaybackState)(ne.PLAYING))
                }), n.addEventListener(ce.AD_ERROR, function(e) {
                    e.roll_type === P.POSTROLL && t.dispatch((0, D.updatePlaybackState)(ne.ENDED))
                }), (0, ee.default)(ce, function(e) {
                    n.addEventListener(e, function(t) {
                        De.emit(e, t)
                    })
                })
            }

            function Oe() {
                var e = xe.getStats();
                t.dispatch((0, de.updateStats)(e)), De.emit(le.STATS_UPDATE)
            }

            function we() {
                var e = this,
                    n = function(e) {
                        var t = e.getState(),
                            n = t.window;
                        n.statsLoop && (n.clearInterval(n.statsLoop), n.statsLoop = null)
                    };
                return (0, b.subscribe)(t, ["stats.enabled"], function(r) {
                    var i = r.stats.enabled,
                        a = t.getState(),
                        o = a.window;
                    i && !o.statsLoop ? (o.statsLoop = o.setInterval(Oe, de.STATS_UPDATE_INTERVAL), je.push(n.bind(e, t)), Oe()) : i || n(t)
                })
            }

            function ke() {
                xe.addEventListener(ce.AD_START, function() {
                    t.dispatch((0, U.pushScreen)(U.ADVERTISEMENT_SCREEN))
                }), xe.addEventListener(ce.AD_END, function() {
                    m.localStore.set("lastAdDisplay", (new Date).getTime()), t.dispatch((0, U.popScreen)())
                });
                var e = [ne.EMPTIED, ne.SUSPEND, ne.LOADSTART, ne.LOADED_METADATA];
                e.forEach(function(e) {
                    Ue.addEventListener(e, function() {
                        De.emit(le.CASTING_CHANGE), n.debug && console.log("chromecast event: ", e)
                    })
                }), je.push(ye()), je.push(ge()), je.push(Ee()), je.push(be()), je.push(Te()), je.push(we()), xe.addEventListener(le.CAPTION_UPDATE, function() {
                    t.dispatch((0, T.setCaptionsData)(xe.getCaption()))
                }), xe.addEventListener(le.QUALITY_CHANGE, function(e) {
                    t.dispatch((0, j.setCurrentQuality)(e)), t.dispatch((0, k.incrementQualityChangeCount)()), t.dispatch((0, j.setQualities)(Me.getQualities()))
                }), xe.addEventListener(le.MANIFEST_EXTRA_INFO, function(e) {
                    t.dispatch((0, N.setManifestInfo)(e)), t.dispatch((0, D.setLoading)(!0)), Me._initQuality()
                })
            }

            function Ie() {
                var e = t.getState(),
                    n = e.quality;
                Me.setQuality(n.selected)
            }

            function Ne() {
                function e() {
                    function n() {
                        a = !1
                    }

                    function r() {
                        if (a) {
                            var e = Date.now() - i,
                                o = t.getState().manifestInfo.serving_id;
                            t.dispatch((0, I.trackEvent)("quality_change_complete", {
                                time_to_stable_quality: e,
                                serving_id: o
                            })), xe.removeEventListener(le.SEGMENT_CHANGE, r), xe.removeEventListener(le.QUALITY_CHANGE, n)
                        } else a = !0
                    }
                    xe.removeEventListener(ne.PLAYING, e);
                    var i = Date.now(),
                        a = !1;
                    xe.addEventListener(le.SEGMENT_CHANGE, r), xe.addEventListener(le.QUALITY_CHANGE, n)
                }
                xe.addEventListener(ne.PLAYING, e)
            }

            function Re(e, n) {
                var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0,
                    i = parseInt(n, 10) || C.DEFAULT_AD_DURATION;
                t.dispatch((0, C.requestAds)(e, i, !0, r))
            }

            function Le(e, t) {
                try {
                    t = (0, q.default)(t, {
                        enumerable: !0
                    }), Object.defineProperty(Me, e, t)
                } catch (e) {}
            }
            var Me = this,
                De = new u.default;
            t.dispatch((0, H.eventEmitterLoaded)(De));
            var je = [],
                xe = void 0,
                Ue = void 0,
                Be = void 0;
            Me._loadVideoAPI = function() {
                t.dispatch((0, V.videoAPILoaded)(Me))
            }, Me._propagateBackendMutliEvents = function() {
                var e = [ne.DURATION_CHANGE, le.PLAYER_INIT, ne.LOADSTART, ne.LOADED_METADATA, ne.PLAY, ne.PAUSE, ne.WAITING, ne.PLAYING, ne.ENDED, ne.ERROR, ne.SEEKING, ne.TIME_UPDATE, ne.CAN_PLAY, le.SEGMENT_CHANGE, le.BUFFER_CHANGE, le.QUALITIES_CHANGE, le.RESTRICTED, ne.SEEKED];
                e.forEach(function(e) {
                    xe.addEventListener(e, function(t) {
                        De.emit(e, t)
                    })
                })
            }, Me._setABS = function() {
                var e = n.abs,
                    r = !m.localStore.get(j.KEY_AUTO_QUALITY_FORCED, !1),
                    i = t.getState().quality.selected === j.QUALITY_AUTO;
                Me.absAvailable() && (r || e) ? (t.dispatch((0, j.selectQuality)(j.QUALITY_AUTO)), t.dispatch((0, j.setPreferredQuality)(j.QUALITY_AUTO_OBJECT)), m.localStore.set(j.KEY_AUTO_QUALITY_FORCED, !0)) : !Me.absAvailable() && i && t.dispatch((0, j.selectQuality)(j.DEFAULT_STREAM_FORMAT, j.DEFAULT_STREAM_BITRATE_IN_BPS)), t.dispatch((0, j.setABSAvailability)(Me.absAvailable()))
            }, Me.absAvailable = function() {
                return xe.absAvailable()
            }, Me._initQuality = function() {
                Me._setABS(), Ie()
            }, Me.destroy = function() {
                xe.destroy(), je.forEach(function(e) {
                    return e()
                }), De.removeAllListeners()
            }, Me._updateStream = function(e) {
                e.contentType === g.CONTENT_MODE_LIVE ? (xe.setChannel(e.channel, e), Ne()) : e.contentType === E.CONTENT_MODE_VOD ? (xe.setVideo(e.videoId, e), Ne()) : e.streamUrl.then(function(e) {
                    xe.setSrc(e)
                })
            }, Me.addEventListener = function(e, t) {
                (0, $.default)(y.allEvents, e) || console.error("subscribing to unknown event: ", e), De.on(e, t)
            }, Me.removeEventListener = function(e, t) {
                De.off(e, t)
            }, Me.getNetworkProfile = function() {
                return t.getState().backend.getNetworkProfile()
            }, Me.getError = function() {
                return xe.getError()
            }, Me.getSrc = function() {}, Me.setSrc = function() {}, Me.getNetworkState = function() {
                return xe.getNetworkState()
            }, Me.getBuffered = function() {
                return xe.getBuffered()
            }, Me.load = function() {
                xe.load()
            }, Me.getReadyState = function() {
                return xe.getReadyState()
            }, Me.getSeeking = function() {
                return xe.getSeeking()
            }, Me.getCurrentTime = function() {
                return xe.getCurrentTime()
            }, Me.setCurrentTime = function(e) {
                xe.setCurrentTime(e)
            }, Me.getDuration = function() {
                return xe.getDuration()
            }, Me.getPaused = function() {
                var e = t.getState(),
                    n = e.ads,
                    r = e.adsManager;
                return n.currentMetadata.contentType === C.AdContentTypes.IMA ? r.paused : xe.getPaused()
            }, Me.getPlaybackRate = function() {
                return xe.getPlaybackRate()
            }, Me.setPlaybackRate = function(e) {
                xe.setPlaybackRate(e);
                var n = xe.getPlaybackRate();
                t.dispatch((0, D.playbackRateChanged)(n))
            }, Me.getPlayed = function() {
                return xe.getPlayed()
            }, Me.getEnded = function() {
                return xe.getEnded()
            }, Me.getAutoplay = function() {
                return n.autoplay
            }, Me.setLoop = function(e) {
                xe.setLoop(e)
            }, Me.play = function() {
                var e = t.getState(),
                    n = e.playback,
                    r = e.ads;
                n.hasPlayed || ve(), t.dispatch((0, D.updatePlaybackState)(ne.PLAYING)), xe.getNetworkState === xe.NETWORK_EMPTY ? xe.load() : r.currentMetadata.contentType === C.AdContentTypes.IMA ? t.dispatch((0, C.playAd)()) : (t.getState().stream.contentType === E.CONTENT_MODE_VOD && Me.getEnded() && Me.setCurrentTime(0), xe.play()), t.dispatch((0, I.trackEvent)("video_pause", {
                    action: "play",
                    in_ad: t.getState().ads.currentMetadata.contentType !== C.AdContentTypes.NONE
                }))
            }, Me.pause = function() {
                t.dispatch((0, D.updatePlaybackState)(ne.PAUSE));
                var e = t.getState(),
                    n = e.ads;
                n.currentMetadata.contentType === C.AdContentTypes.IMA ? t.dispatch((0, C.pauseAd)()) : xe.pause(), t.dispatch((0, I.trackEvent)("video_pause", {
                    action: "pause",
                    in_ad: t.getState().ads.currentMetadata.contentType !== C.AdContentTypes.NONE
                }))
            }, Me.getControls = function() {
                return !0
            }, Me.setControls = function() {}, Me.getVolume = function() {
                return t.getState().playback.volume
            }, Me.setVolume = function(e) {
                var n = t.getState(),
                    r = n.ads,
                    i = n.adsManager,
                    a = r.currentMetadata.contentType === C.AdContentTypes.IMA ? i : xe;
                a.setVolume(e), t.dispatch((0, D.volumeChanged)(e)), m.localStore.set("volume", e)
            }, Me.getMuted = function() {
                return t.getState().playback.muted
            }, Me.setMuted = function(e, n) {
                var r = t.getState(),
                    i = r.ads,
                    a = r.adsManager,
                    o = i.currentMetadata.contentType === C.AdContentTypes.IMA ? a : xe;
                o.setMuted(e), t.dispatch((0, D.playerMuted)(e)), n || m.localStore.set("muted", e)
            }, Me.getTheatre = function() {
                return t.getState().screenMode.isTheatreMode
            }, Me.setTheatre = function(e) {
                t.dispatch((0, B.setTheatreMode)(e))
            }, Me.getQuality = function() {
                return t.getState().playback.quality
            }, Me.setQuality = function(e) {
                xe.setQuality(e)
            }, Me.getQualities = function() {
                return xe.getQualities()
            }, Me.getChannel = function() {
                var e = t.getState(),
                    n = e.streamMetadata;
                return n.channelName
            }, Me.getVideo = function() {
                var e = t.getState(),
                    n = e.streamMetadata;
                return n.videoId
            }, Me.getSessionInfo = function() {
                var e = t.getState(),
                    n = e.analytics,
                    r = e.manifestInfo;
                return {
                    broadcastId: r.broadcast_id,
                    playSessionId: n.playSessionId
                }
            }, Me.getBroadcastId = function() {
                var e = t.getState(),
                    n = e.manifestInfo;
                return n.broadcast_id
            }, Me.startCast = function() {
                Ue.load()
            }, Me.stopCast = function() {
                Ue.stop()
            }, Me.getCasting = function() {
                var e = Ue.getReadyState(),
                    t = Ue.getNetworkState();
                return e === oe.HAVE_NOTHING ? t === ie.NETWORK_EMPTY ? "unavailable" : t === ie.NETWORK_IDLE ? "available" : "connecting" : "connected"
            }, Me.getCastDevice = function() {
                return Ue.getDevice()
            }, Me.getFullscreen = function() {
                var e = t.getState(),
                    n = e.screenMode;
                return n.isFullScreen
            }, Me.setFullscreen = function(e) {
                t.dispatch((0, B.setFullScreen)(e))
            }, Me.getFullscreenEnabled = function() {
                var e = t.getState(),
                    n = e.screenMode;
                return n.canFullScreen
            }, Me.getStatsEnabled = function() {
                return t.getState().stats.enabled
            }, Me.setStatsEnabled = function(e) {
                return t.dispatch(e ? (0, de.requestStatsEnabled)(this) : (0, de.requestStatsDisabled)(this))
            }, Me.getStats = function() {
                return t.getState().stats.videoStats
            }, Me.getVideoInfo = function() {
                return xe.getVideoInfo()
            }, Me.getBackend = function() {
                return xe.getBackend()
            }, Me.submitVideoIssueReport = function(e) {
                var n = {
                    issue: e
                };
                n = (0, K.default)(n, Me.getVideoInfo()), t.dispatch((0, I.trackEvent)("vid_issue_report", n))
            }, Me.setBackend = function(e) {
                m.localStore.usesCache() && (m.localStore.set("backend", e), t.getState().window.document.location.reload())
            }, Me.getSupportedBackends = function() {
                return _e.filter(function(e) {
                    var t = he[e];
                    return t.canPlay()
                })
            }, Me.getVersion = function() {
                return t.getState().backend.getVersion()
            }, Me.getViewerCount = function() {
                return t.getState().viewercount
            }, Me.getCaption = function() {
                return xe.getCaption()
            }, Me.getEventEmitter = function() {
                return De
            }, Me.getExtensionsApi = function() {
                return t.getState().extensions.extensionsApi
            }, Me.trackMiniPlayerAction = function(e, n) {
                t.dispatch((0, I.trackEvent)(fe.SITE_MINIPLAYER_ACTION, {
                    action: e,
                    reason: n
                }))
            }, Le("error", {
                get: Me.getError
            }), Le("src", {
                get: Me.getSrc,
                set: Me.setSrc
            }), Le("networkState", {
                get: Me.getNetworkState
            }), Le("buffered", {
                get: Me.getBuffered
            }), Le("readyState", {
                get: Me.getReadyState
            }), Le("seeking", {
                get: Me.getSeeking
            }), Le("currentTime", {
                get: Me.getCurrentTime,
                set: Me.setCurrentTime
            }), Le("duration", {
                get: Me.getDuration
            }), Le("paused", {
                get: Me.getPaused
            }), Le("playbackRate", {
                get: Me.getPlaybackRate,
                set: Me.setPlaybackRate
            }), Le("played", {
                get: Me.getPlayed
            }), Le("ended", {
                get: Me.getEnded
            }), Le("autoplay", {
                get: Me.getAutoplay
            }), Le("loop", {
                set: Me.setLoop
            }), Le("controls", {
                get: Me.getControls,
                set: Me.setControls
            }), Le("volume", {
                get: Me.getVolume,
                set: Me.setVolume
            }), Le("muted", {
                get: Me.getMuted,
                set: Me.setMuted
            }), Le("quality", {
                get: Me.getQuality,
                set: Me.setQuality
            }), Le("qualities", {
                get: Me.getQualities
            }), Le("channel", {
                get: Me.getChannel,
                set: Me.setChannel
            }), Le("video", {
                get: Me.getVideo,
                set: Me.setVideo
            }), Le("stats", {
                get: Me.getStats
            }), Le("statsEnabled", {
                get: Me.getStatsEnabled,
                set: Me.setStatsEnabled
            }), Le("casting", {
                get: Me.getCasting
            }), Le("castDevice", {
                get: Me.getCastDevice
            }), Le("fullscreen", {
                get: Me.getFullscreen,
                set: Me.setFullscreen
            }), Le("fullscreenEnabled", {
                get: Me.getFullscreenEnabled
            }), Le("theatre", {
                get: Me.getTheatre,
                set: Me.setTheatre
            }), Le("viewers", {
                get: Me.getViewerCount
            }), r()
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var s;
        t.Video = o;
        var l = n(164),
            u = i(l),
            c = n(319),
            d = n(339),
            f = n(346),
            p = n(347),
            _ = n(348),
            h = n(351),
            m = n(250),
            v = n(168),
            y = r(v),
            g = n(167),
            E = n(220),
            b = n(183),
            T = n(352),
            S = n(357),
            A = n(358),
            C = n(243),
            P = n(240),
            O = n(359),
            w = n(372),
            k = n(264),
            I = n(374),
            N = n(375),
            R = n(394),
            L = n(330),
            M = n(395),
            D = n(332),
            j = n(331),
            x = n(336),
            U = n(396),
            B = n(182),
            F = n(397),
            V = n(363),
            H = n(185),
            G = n(1),
            q = i(G),
            Y = n(118),
            K = i(Y),
            W = n(53),
            $ = i(W),
            z = n(58),
            Q = i(z),
            X = n(10),
            J = i(X),
            Z = n(400),
            ee = i(Z),
            te = n(179),
            ne = r(te),
            re = n(328),
            ie = r(re),
            ae = n(329),
            oe = r(ae),
            se = n(178),
            le = r(se),
            ue = n(177),
            ce = r(ue),
            de = n(402),
            fe = n(116),
            pe = n(403),
            _e = [d.BACKEND_PLAYER_CORE, c.BACKEND_FLASH, f.BACKEND_HLS],
            he = (s = {}, a(s, c.BACKEND_FLASH, c.BackendFlash), a(s, f.BACKEND_HLS, f.BackendHls), a(s, d.BACKEND_PLAYER_CORE, d.BackendPlayerCore), s)
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            if (e && e.__esModule) return e;
            var t = {};
            if (null != e)
                for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
            return t.default = e, t
        }

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function a(e, t) {
            function r() {
                Be.on(S.CAN_PLAY, A), Be.on(S.DURATION_CHANGE, p), Be.on(S.SEEKING, se), Be.on(S.SEEKED, le), Be.on(S.ENDED, ie), Be.on(S.ERROR, re), Be.on(S.PLAYING, P), Be.on(S.WAITING, fe), Be.on(S.VOLUME_CHANGE, d), Be.on(S.LOADSTART, T), Be.on(C.PLAYER_INIT, s), Be.on(C.SEEK_FAILED, ue), Be.on(C.CHANSUB_REQUIRED, Se), Be.on(C.MANIFEST_EXTRA_INFO, Re), Be.on(C.VIDEO_FAILURE, ne), Be.on(C.FORMATS, h), Be.on(C.FORMAT_CHANGED, E), Be.on(C.TIME_CHANGE, ce), Be.on(C.BUFFER_CHANGE, de), Be.on(C.SEGMENT_CHANGE, Ce), Be.on(C.USHER_FAIL_ERROR, Ae), Be.on(C.CAPTION_UPDATE, u), Be.on(C.MIDROLL_REQUESTED, Pe), Be.on(C.VIDEO_PAUSED, w), Be.on(C.STREAM_LOADED, ae), Be.on(C.VIDEO_LOADED, oe), Be.on(U, pe), Be.on(B, _e), Be.on(Y, Ee), Be.on(F, he), Be.on(V, me), Be.on(H, ve), Be.on(G, ye), Be.on(q, ge), Be.on(K, be), Be.on(W, Te), Be.on(z, Ne)
            }

            function i(e) {
                return {
                    playbackRate: (0, f.default)(.0078125 * e.playback_bytes_per_second, 2),
                    fps: (0, f.default)(e.current_fps),
                    bufferSize: (0, f.default)(e.video_buffer_size),
                    skippedFrames: e.dropped_frames,
                    memoryUsage: Math.floor(e.totalMemoryNumber / 1024 / 1024).toString() + "MB",
                    hlsLatencyEncoder: e.hasOwnProperty("hls_latency_encoder") ? (0, f.default)(.001 * e.hls_latency_encoder) : 0,
                    hlsLatencyBroadcaster: e.hasOwnProperty("hls_latency_broadcaster") ? (0, f.default)(.001 * e.hls_latency_broadcaster) : 0,
                    videoResolution: e.hasOwnProperty("vid_width") ? e.vid_width + "x" + e.vid_height : "",
                    displayResolution: e.hasOwnProperty("stageWidth") ? e.stageWidth + "x" + e.stageHeight : "",
                    backendVersion: xe.getVersion()
                }
            }

            function s() {
                Ge = !0, Ve.resolve(), Fe.emit(C.PLAYER_INIT)
            }

            function u(e) {
                it = e, Fe.emit(C.CAPTION_UPDATE)
            }

            function d(e) {
                (0, l.default)(e.volume) && (et = Math.min(Math.max(e.volume, 0), 1), Fe.emit(S.VOLUME_CHANGE))
            }

            function p(e) {
                Ze = e.duration || 0, Fe.emit(S.DURATION_CHANGE), ft && Fe.emit(S.LOADED_METADATA)
            }

            function h(e) {
                rt = e.formats, Fe.emit(C.QUALITIES_CHANGE)
            }

            function E(e) {
                nt = e.format, Fe.emit(C.QUALITY_CHANGE, e.format)
            }

            function T(e) {
                e && e.format && nt !== e.format && (nt = e.format, Fe.emit(C.QUALITY_CHANGE)), Ke = O.NETWORK_LOADING, Fe.emit(S.LOADSTART), Ze = 0, Fe.emit(S.DURATION_CHANGE), we(je("getVideoTime")), Ie()
            }

            function A() {
                Fe.emit(S.CAN_PLAY)
            }

            function P(e) {
                Xe && (Xe = !1, Fe.emit(S.PLAY)), ct = !1, nt = e.format, we(je("getVideoTime")), ke(), Ye < k.HAVE_METADATA && (null !== xe.getChannel() && (Ze = 1 / 0), Ye = k.HAVE_METADATA, Fe.emit(S.LOADED_METADATA)), Ye < k.HAVE_CURRENT_DATA && (Ye = k.HAVE_CURRENT_DATA, Fe.emit(S.LOADED_DATA)), Ye = k.HAVE_FUTURE_DATA, Fe.emit(S.PLAYING)
            }

            function w() {
                Xe = !0, Fe.emit(S.PAUSE), ut instanceof I.LiveContentStream && (Ye = k.HAVE_NOTHING), Ie()
            }

            function ne() {
                Fe.emit(C.OFFLINE), ct || Ye !== k.HAVE_NOTHING || (ct = !0, Fe.emit(S.ENDED)), ct = !0, Ye = k.HAVE_NOTHING, Ie()
            }

            function re(e) {
                st = ze ? J : Qe ? Z : e === X ? X : ee, Fe.emit(S.ERROR, e)
            }

            function ie() {
                ct = !0, Ye = k.HAVE_NOTHING, Fe.emit(S.ENDED), Ie()
            }

            function ae(e) {
                Ie(), we(0), We = e.channel, $e = null
            }

            function oe(e) {
                Ie(), we(0), ft = !0;
                var t = e.videoId;
                isNaN(t[0]) || (t = "v" + t), $e = t, We = null, Ye = k.HAVE_METADATA
            }

            function se() {
                Ie(), Je = !0, Fe.emit(S.SEEKING)
            }

            function le() {
                Je = !1, Fe.emit(S.SEEKED)
            }

            function ue() {
                Je = !1
            }

            function ce() {
                we(je("getVideoTime"))
            }

            function de(e) {
                at = e, Fe.emit(C.BUFFER_CHANGE, e)
            }

            function fe() {
                Ie(), Ye = k.HAVE_CURRENT_DATA, Fe.emit(S.WAITING)
            }

            function pe(e) {
                Xe = !1, $e && Ie(), Fe.emit(te.AD_START, e)
            }

            function _e(e) {
                $e && !ct && (we(je("getVideoTime")), ke()), Fe.emit(te.AD_END, e)
            }

            function he(e) {
                Fe.emit(te.AD_REQUEST, e)
            }

            function me(e) {
                Fe.emit(te.AD_REQUEST_DECLINED, e)
            }

            function ve(e) {
                Fe.emit(te.AD_REQUEST_RESPONSE, e)
            }

            function ye(e) {
                Fe.emit(te.AD_REQUEST_ERROR, e)
            }

            function ge(e) {
                Fe.emit(te.AD_ERROR, e)
            }

            function Ee(e) {
                Fe.emit(te.COMPANION_RENDERED, e)
            }

            function be(e) {
                Fe.emit(te.AD_IMPRESSION, e)
            }

            function Te(e) {
                Fe.emit(te.AD_IMPRESSION_COMPLETE, e)
            }

            function Se() {
                Fe.emit(C.RESTRICTED)
            }

            function Ae() {
                Fe.emit(C.USHER_FAIL_ERROR)
            }

            function Ce(e) {
                Fe.emit(C.SEGMENT_CHANGE, e)
            }

            function Pe(e) {
                Fe.emit(C.MIDROLL_REQUESTED, e)
            }

            function Oe() {
                Fe.emit(S.TIME_UPDATE, He.extrapolateTimeStamp())
            }

            function we(e) {
                He.setCurrentTimeStamp(e), Fe.emit(S.TIME_UPDATE, He.extrapolateTimeStamp())
            }

            function ke() {
                null === qe && (qe = setInterval(Oe, M), He.resume())
            }

            function Ie() {
                null !== qe && (clearInterval(qe), qe = null, He.pause())
            }

            function Ne(e) {
                Fe.emit(te.AD_LOADED, e)
            }

            function Re(e) {
                Fe.emit(C.MANIFEST_EXTRA_INFO, e)
            }

            function Le(e, n) {
                var r = b.getFlashPlayerType();
                "" === r && t.dispatch((0, N.setError)(X));
                var i = "10.2",
                    a = "playerProductInstall.swf",
                    o = "100%",
                    s = "100%",
                    l = {
                        eventsCallback: "window._BackendFlash_emitEvents",
                        eventsContext: Ue,
                        initCallback: null
                    },
                    u = {
                        bgcolor: "#000",
                        allowscriptaccess: "always",
                        allowfullscreen: "true",
                        wmode: "ppapi" === r ? "direct" : "transparent"
                    },
                    c = {
                        align: "middle"
                    },
                    d = document.createElement("div");
                $(n).prepend(d), lt = "swfobject-" + Ue, d.setAttribute("id", lt), b.embedSWF(e, lt, o, s, i, a, l, u, c, function(e) {
                    ot = e.ref
                })
            }

            function Me(t) {
                var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [];
                switch (e.debug && console.log("flash call:", t, n), n.length) {
                    case 0:
                        return ot[t]();
                    case 1:
                        return ot[t](n[0]);
                    case 2:
                        return ot[t](n[0], n[1]);
                    case 3:
                        return ot[t](n[0], n[1], n[2]);
                    default:
                        return console.log("WARNING, too many arguments passed to Flash"), ot[t].apply(this, n)
                }
            }

            function De(t, n) {
                Ve.promise.then(function() {
                    setTimeout(function() {
                        var r = Me(t, n);
                        r && e.debug && console.log("flash return:", t, "=", r)
                    }, 0)
                })
            }

            function je(t, n) {
                if (Ge) {
                    var r = Me(t, n);
                    return r && e.debug && console.log("flash return:", t, "=", r), r
                }
            }
            var xe = this,
                Ue = a.counter++;
            a.map[Ue] = xe;
            var Be = new m.default,
                Fe = new m.default,
                Ve = new v.Deferred,
                He = new y.ExtrapolatingTimer,
                Ge = !1,
                qe = null,
                Ye = 0,
                Ke = 0,
                We = null,
                $e = null,
                ze = void 0,
                Qe = void 0,
                Xe = !1,
                Je = void 0,
                Ze = 0,
                et = void 0,
                tt = void 0,
                nt = void 0,
                rt = void 0,
                it = void 0,
                at = void 0,
                ot = void 0,
                st = void 0,
                lt = "",
                ut = void 0,
                ct = !1,
                dt = !1,
                ft = !1;
            xe.getStats = function() {
                return i(xe.getVideoInfo())
            }, xe.attach = function(t) {
                var r = n(338);
                Le(r, t), De("setLastAdDisplay", [e.lastAdDisplay]), De("setPlayerType", [e.player]), De("setFlashIMAAdsEnabled", [!0])
            }, xe._emitEvent = function(t, n) {
                setTimeout(function() {
                    e.debug && "timeupdate" !== t && "playbackStatistics" !== t && console.log("flash event:", t, n), Be.emit(t, n)
                }, 0)
            }, xe.addEventListener = function(e, t) {
                Fe.on(e, t)
            }, xe.removeEventListener = function(e, t) {
                Fe.off(e, t)
            }, xe.getNetworkProfile = function() {
                return je("getNetworkProfile") || []
            }, xe.getError = function() {
                return st
            }, xe.getNetworkState = function() {
                return Ke
            }, xe.getBuffered = function() {
                var e = at ? 1 : 0;
                return {
                    length: e,
                    start: function(t) {
                        if (!(t >= e)) return at.start
                    },
                    end: function(t) {
                        if (!(t >= e)) return at.end
                    }
                }
            }, xe.load = function() {
                if (ze || Qe) {
                    if (Ye = k.HAVE_NOTHING, Ke = O.NETWORK_LOADING, Fe.emit(S.LOADSTART), ft = !1, Qe) {
                        var e = Qe;
                        return Promise.all([(0, g.videoInfo)(Qe), ut.streamUrl]).then(function(n) {
                            var r = o(n, 2),
                                i = r[0],
                                a = r[1],
                                s = t.getState(),
                                l = s.streamMetadata;
                            e === l.videoId && (dt = !0, De("loadStream", [a, i.channel.name, !1]))
                        })
                    }
                    var n = ze;
                    return ut.streamUrl.then(function(e) {
                        var r = t.getState(),
                            i = r.streamMetadata;
                        n === i.channelName && (dt = !0, De("loadStream", [e, ze, !0]))
                    })
                }
            }, xe.getReadyState = function() {
                return Ye
            }, xe.getSeeking = function() {
                return Je
            }, xe.getCurrentTime = function() {
                return He.extrapolateTimeStamp()
            }, xe.setCurrentTime = function(e) {
                ct = !1, Ie(), we(e), De("videoSeek", [e])
            }, xe.getDuration = function() {
                return Ze
            }, xe.getPaused = function() {
                return Xe
            }, xe.getEnded = function() {
                return t.getState().ads.currentMetadata.contentType === R.AdContentTypes.NONE && ct
            }, xe.play = function() {
                Xe = !1, Fe.emit(S.PLAY);
                var e = function() {
                    ut.streamUrl.then(function(e) {
                        De("setStreamURI", [e]), De("playVideo")
                    })
                };
                dt ? e() : xe.load().then(e())
            }, xe.pause = function() {
                De("pauseVideo")
            }, xe.getVolume = function() {
                return et
            }, xe.setVolume = function(e) {
                e > 0 && (tt = e), De("setVolume", [e])
            }, xe.getMuted = function() {
                var e = xe.getVolume();
                return 0 === e
            }, xe.setMuted = function(e) {
                var t = e ? 0 : tt || .5;
                xe.setVolume(t)
            }, xe.getVideoInfo = (0, c.default)(function() {
                var e = je("getVideoInfo");
                return e ? (0, _.default)({}, x, e) : x
            }, D), xe.getChannel = function() {
                return ze || We
            }, xe.setChannel = function(t, n) {
                ut = n, ze = t, Qe = null, $e = null, e.autoplay || Ke > O.NETWORK_EMPTY ? xe.load() : xe.pause()
            }, xe.getVideo = function() {
                return Qe || $e
            }, xe.setVideo = function(t, n) {
                ut = n, Qe = t, ze = null, We = null, e.autoplay || Ke > O.NETWORK_EMPTY ? xe.load() : xe.pause()
            }, xe.getQuality = function() {
                return nt || ""
            }, xe.setQuality = function(e) {
                e === L.QUALITY_AUTO ? (De("setQuality", [j]), nt = j) : (De("setQuality", [e]), nt = e)
            }, xe.getQualities = function() {
                return rt || []
            }, xe.getBackend = function() {
                return Q
            }, xe.elapsedTime = function() {}, xe.getVersion = function() {
                return je("getVersion")
            }, xe.getMediaGroup = function() {
                return null
            }, xe.getController = function() {
                return null
            }, xe.getControls = function() {
                return !1
            }, xe.getAudioTracks = function() {
                return null
            }, xe.getVideoTracks = function() {
                return null
            }, xe.getTextTracks = function() {
                return null
            }, xe.getPlaybackRate = function() {
                return 1
            }, xe.addTextTrack = function() {}, xe.setControls = function() {}, xe.setLoop = function() {}, xe.setPlaybackRate = function() {}, xe.getPlayed = function() {}, xe.getSrc = function() {}, xe.setSrc = function() {}, xe.getCaption = function() {
                return it
            }, xe.absAvailable = function() {}, xe.requestAdFill = function(e, t, n) {
                De("requestFlashAd", [e, t, n])
            }, xe.destroy = function() {
                Ie(), b.removeSWF(lt), ot = null
            }, r()
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.FLASH_AD_EVENTS = t.UNKNOWN_ERROR = t.VIDEO_ERROR = t.CHANNEL_ERROR = t.FLASH_ERROR = t.BACKEND_FLASH = void 0;
        var o = function() {
            function e(e, t) {
                var n = [],
                    r = !0,
                    i = !1,
                    a = void 0;
                try {
                    for (var o, s = e[Symbol.iterator](); !(r = (o = s.next()).done) && (n.push(o.value), !t || n.length !== t); r = !0);
                } catch (e) {
                    i = !0, a = e
                } finally {
                    try {
                        !r && s.return && s.return()
                    } finally {
                        if (i) throw a
                    }
                }
                return n
            }
            return function(t, n) {
                if (Array.isArray(t)) return t;
                if (Symbol.iterator in Object(t)) return e(t, n);
                throw new TypeError("Invalid attempt to destructure non-iterable instance")
            }
        }();
        t.BackendFlash = a;
        var s = n(320),
            l = i(s),
            u = n(321),
            c = i(u),
            d = n(324),
            f = i(d),
            p = n(117),
            _ = i(p),
            h = n(164),
            m = i(h),
            v = n(326),
            y = n(327),
            g = n(200),
            E = n(271),
            b = r(E),
            T = n(179),
            S = r(T),
            A = n(178),
            C = r(A),
            P = n(328),
            O = r(P),
            w = n(329),
            k = r(w),
            I = n(167),
            N = n(330),
            R = n(243),
            L = n(331),
            M = 250,
            D = 1500,
            j = "medium",
            x = {
                bandwidth: 0,
                broadcast_id: 0,
                cluster: "",
                current_bitrate: 0,
                current_fps: 0,
                current_fps_exact: 0,
                deblocking: 0,
                dropped_frames: 0,
                hls_buffer_duration: 0,
                hls_latency_encoder: 0,
                hls_latency_broadcaster: 0,
                hls_target_duration: 0,
                manifest_node: "",
                manifest_node_type: "",
                manifest_cluster: "",
                node: "",
                playback_bytes_per_second: 0,
                segment_protocol: "",
                serving_id: "",
                smoothing: !0,
                stageHeight: 0,
                stream_protocol: "",
                stageWidth: 0,
                stream_time: 0,
                stream_time_offset: 0,
                totalMemoryNumber: 0,
                user_ip: "",
                vid_display_height: 0,
                vid_display_width: 0,
                vid_height: 0,
                vid_width: 0,
                video_buffer_size: 0
            },
            U = "adDisplayStarted",
            B = "adDisplayEnded",
            F = "adRequested",
            V = "adRequestDeclined",
            H = "adRequestResponse",
            G = "adRequestError",
            q = "adError",
            Y = "adcompanionrendered",
            K = "adImpression",
            W = "adImpressionComplete",
            z = "adLoaded",
            Q = t.BACKEND_FLASH = "flash",
            X = t.FLASH_ERROR = new Error("No supported video backend available; Flash is not installed"),
            J = t.CHANNEL_ERROR = new Error("Channel could not be found, or has been deleted by its owner"),
            Z = t.VIDEO_ERROR = new Error("Video could not be found, or has been deleted by its owner"),
            ee = t.UNKNOWN_ERROR = new Error("An unknown error has occured"),
            te = t.FLASH_AD_EVENTS = Object.freeze({
                AD_START: "flashAdstart",
                AD_END: "flashAdend",
                AD_REQUEST: "flashAdRequested",
                AD_REQUEST_DECLINED: "flashAdRequestDeclined",
                AD_REQUEST_RESPONSE: "flashAdRequestResponse",
                AD_REQUEST_ERROR: "flashAdRequestError",
                AD_ERROR: "flashAdError",
                AD_COMPANION_RENDERED: "flashAdcompanionrendered",
                AD_IMPRESSION: "flashAdImpression",
                AD_IMPRESSION_COMPLETE: "flashAdImpressionComplete",
                AD_LOADED: "flashAdLoaded"
            });
        a.map = {}, a.counter = 0, a.canPlay = function() {
            return b.hasFlashPlayerVersion("10.2")
        }, window._BackendFlash_emitEvents = function(e, t) {
            for (var n = a.map[e], r = 0; r < t.length; r++) {
                var i = t[r];
                n._emitEvent(i.event, i.data)
            }
        }
    }, function(e, t, n) {
        function r(e) {
            return "number" == typeof e && a(e)
        }
        var i = n(13),
            a = i.isFinite;
        e.exports = r
    }, function(e, t, n) {
        function r(e, t, n) {
            var r = !0,
                s = !0;
            if ("function" != typeof e) throw new TypeError(o);
            return a(n) && (r = "leading" in n ? !!n.leading : r, s = "trailing" in n ? !!n.trailing : s), i(e, t, {
                leading: r,
                maxWait: t,
                trailing: s
            })
        }
        var i = n(322),
            a = n(17),
            o = "Expected a function";
        e.exports = r
    }, function(e, t, n) {
        function r(e, t, n) {
            function r(t) {
                var n = y,
                    r = g;
                return y = g = void 0, A = t, b = e.apply(r, n)
            }

            function c(e) {
                return A = e, T = setTimeout(p, t), C ? r(e) : b
            }

            function d(e) {
                var n = e - S,
                    r = e - A,
                    i = t - n;
                return P ? u(i, E - r) : i
            }

            function f(e) {
                var n = e - S,
                    r = e - A;
                return void 0 === S || n >= t || n < 0 || P && r >= E
            }

            function p() {
                var e = a();
                return f(e) ? _(e) : void(T = setTimeout(p, d(e)))
            }

            function _(e) {
                return T = void 0, O && y ? r(e) : (y = g = void 0, b)
            }

            function h() {
                void 0 !== T && clearTimeout(T), A = 0, y = S = g = T = void 0
            }

            function m() {
                return void 0 === T ? b : _(a())
            }

            function v() {
                var e = a(),
                    n = f(e);
                if (y = arguments, g = this, S = e, n) {
                    if (void 0 === T) return c(S);
                    if (P) return T = setTimeout(p, t), r(S)
                }
                return void 0 === T && (T = setTimeout(p, t)), b
            }
            var y, g, E, b, T, S, A = 0,
                C = !1,
                P = !1,
                O = !0;
            if ("function" != typeof e) throw new TypeError(s);
            return t = o(t) || 0, i(n) && (C = !!n.leading, P = "maxWait" in n, E = P ? l(o(n.maxWait) || 0, t) : E, O = "trailing" in n ? !!n.trailing : O), v.cancel = h, v.flush = m, v
        }
        var i = n(17),
            a = n(323),
            o = n(61),
            s = "Expected a function",
            l = Math.max,
            u = Math.min;
        e.exports = r
    }, function(e, t, n) {
        var r = n(13),
            i = function() {
                return r.Date.now()
            };
        e.exports = i
    }, function(e, t, n) {
        var r = n(325),
            i = r("round");
        e.exports = i
    }, function(e, t, n) {
        function r(e) {
            var t = Math[e];
            return function(e, n) {
                if (e = a(e), n = null == n ? 0 : s(i(n), 292)) {
                    var r = (o(e) + "e").split("e"),
                        l = t(r[0] + "e" + (+r[1] + n));
                    return r = (o(l) + "e").split("e"), +(r[0] + "e" + (+r[1] - n))
                }
                return t(e)
            }
        }
        var i = n(59),
            a = n(61),
            o = n(102),
            s = Math.min;
        e.exports = r
    }, function(e, t) {
        "use strict";

        function n() {
            var e = this;
            e.promise = new Promise(function(t, n) {
                e.resolve = t, e.reject = n
            })
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.Deferred = n
    }, function(e, t) {
        "use strict";

        function n() {
            this._lastKnownTimeStamp = 0, this._paused = !0, this._lastTimeUpdated = (new Date).getTime()
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.ExtrapolatingTimer = n, n.prototype.pause = function() {
            this._updateLastKnownTimeStamp(), this._paused = !0
        }, n.prototype.resume = function() {
            this._updateLastKnownTimeStamp(), this._paused = !1
        }, n.prototype.extrapolateTimeStamp = function() {
            if (this._paused) return this._lastKnownTimeStamp / 1e3;
            var e = (new Date).getTime();
            return (this._lastKnownTimeStamp + (e - this._lastTimeUpdated)) / 1e3
        }, n.prototype.setCurrentTimeStamp = function(e) {
            isNaN(e) || (this._lastKnownTimeStamp = 1e3 * e, this._lastTimeUpdated = (new Date).getTime())
        }, n.prototype._updateLastKnownTimeStamp = function() {
            var e = (new Date).getTime();
            this._lastKnownTimeStamp += e - this._lastTimeUpdated, this._lastTimeUpdated = e
        }
    }, function(e, t) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        t.NETWORK_EMPTY = 0, t.NETWORK_IDLE = 1, t.NETWORK_LOADING = 2, t.NETWORK_NO_SOURCE = 3
    }, function(e, t) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        t.HAVE_NOTHING = 0, t.HAVE_METADATA = 1, t.HAVE_CURRENT_DATA = 2, t.HAVE_FUTURE_DATA = 3, t.HAVE_ENOUGH_DATA = 4
    }, function(e, t) {
        "use strict";

        function n(e) {
            return {
                type: i,
                error: e
            }
        }

        function r() {
            return {
                type: a
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.setError = n, t.clearError = r;
        var i = t.ACTION_ERROR = "set error",
            a = t.ACTION_CLEAR_ERROR = "clear error"
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e) {
            return {
                type: E,
                absAvailable: e
            }
        }

        function a() {
            return function(e, t) {
                var n = t(),
                    r = n.quality;
                e({
                    type: v,
                    quality: _.localStore.get("quality", r.selected),
                    bitrate: _.localStore.get("quality-bitrate", r.bitrate)
                })
            }
        }

        function o(e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : T;
            return function(n, r) {
                var i = r(),
                    a = i.analyticsTracker,
                    o = i.manifestInfo,
                    s = i.quality,
                    l = i.stream;
                return l.restrictedBitrates.indexOf(e) !== -1 ? void n({
                    type: p.ACTION_QUALITY_RESTRICTED_ERROR
                }) : (a.trackEvent("quality_change_request", {
                    prev_quality: s.current,
                    new_quality: e,
                    serving_id: o.serving_id
                }), void n({
                    type: v,
                    quality: e,
                    bitrate: t
                }))
            }
        }

        function s(e) {
            return function() {
                _.localStore.set("quality", e.group), _.localStore.set("quality-bitrate", e.bandwidth)
            }
        }

        function l(e) {
            return {
                type: y,
                quality: e
            }
        }

        function u(e, t) {
            return (0, m.default)(t, function(t) {
                return t.group + "2" === e || e + "2" === t.group
            })
        }

        function c(e) {
            return function(t, n) {
                var r = n(),
                    i = r.quality,
                    a = r.stream,
                    o = e.filter(function(e) {
                        return !(0, f.default)(a.restrictedBitrates, e.group)
                    });
                if (o.length > 0 && !o.some(function(e) {
                        return e.group === i.selected
                    }) && i.selected !== b) {
                    var s = o.sort(function(e, t) {
                            return t.bandwidth - e.bandwidth
                        }),
                        l = u(i.selected, s),
                        c = (0, m.default)(s, function(e) {
                            return e.bandwidth <= i.bitrate
                        }),
                        d = l || c || s[s.length - 1],
                        p = d.group,
                        _ = d.bandwidth;
                    t({
                        type: v,
                        quality: p,
                        bitrate: _
                    })
                }
                t({
                    type: g,
                    qualities: e
                })
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.DEFAULT_STREAM_BITRATE_IN_BPS = t.DEFAULT_STREAM_FORMAT = t.QUALITY_AUTO_OBJECT = t.QUALITY_AUTO = t.KEY_SEEN_AUTO_QUALITY_NOTIFICATION = t.KEY_AUTO_QUALITY_FORCED = t.ACTION_SET_ABS_AVAILABILITY = t.ACTION_SET_QUALITIES = t.ACTION_SET_CURRENT_QUALITY = t.ACTION_SELECT_QUALITY = void 0, t.setABSAvailability = i, t.initializeQuality = a, t.selectQuality = o, t.setPreferredQuality = s, t.setCurrentQuality = l, t._getMatchingTranscodeQuality = u, t.setQualities = c;
        var d = n(53),
            f = r(d),
            p = n(332),
            _ = n(250),
            h = n(120),
            m = r(h),
            v = t.ACTION_SELECT_QUALITY = "select quality",
            y = t.ACTION_SET_CURRENT_QUALITY = "set current quality",
            g = t.ACTION_SET_QUALITIES = "set qualities",
            E = t.ACTION_SET_ABS_AVAILABILITY = "abs is availabile",
            b = (t.KEY_AUTO_QUALITY_FORCED = "auto-quality-forced-v2", t.KEY_SEEN_AUTO_QUALITY_NOTIFICATION = "has-seen-abs-notification", t.QUALITY_AUTO = "auto"),
            T = (t.QUALITY_AUTO_OBJECT = Object.freeze({
                bitrate: 0,
                resolution: "0x0",
                group: "auto",
                name: "Auto"
            }), t.DEFAULT_STREAM_FORMAT = "medium", t.DEFAULT_STREAM_BITRATE_IN_BPS = 992e3)
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i() {
            return function(e, t) {
                var n = t(),
                    r = n.playback;
                e({
                    type: M,
                    playback: {
                        muted: S.localStore.get("muted", r.muted),
                        volume: S.localStore.get("volume", r.volume)
                    }
                })
            }
        }

        function a() {
            return {
                type: R
            }
        }

        function o(e) {
            return {
                type: G,
                playback: {
                    duration: e
                }
            }
        }

        function s(e) {
            switch (e) {
                case A.PLAYING:
                    return {
                        type: j
                    };
                case A.WAITING:
                    return {
                        type: q
                    };
                case A.PAUSE:
                    return {
                        type: D
                    };
                case A.ENDED:
                    return {
                        type: L
                    }
            }
        }

        function l(e) {
            return {
                type: x,
                playback: {
                    autoplay: e
                }
            }
        }

        function u(e) {
            return {
                type: B,
                muted: e
            }
        }

        function c(e) {
            return {
                type: F,
                volume: Math.max(0, Math.min(1, e))
            }
        }

        function d(e) {
            return {
                type: U,
                isLoading: e
            }
        }

        function f(e) {
            return {
                type: H,
                currentTime: e
            }
        }

        function p(e, t) {
            return {
                type: V,
                start: e,
                end: t
            }
        }

        function _() {
            return {
                type: W
            }
        }

        function h() {
            return {
                type: Y
            }
        }

        function m(e) {
            return {
                type: K,
                playbackRate: e
            }
        }

        function v(e) {
            return function(t, n) {
                var r = n(),
                    i = r.env;
                switch (i.playerType) {
                    case P.PLAYER_SITE:
                        t((0, N.emitTransitionToRecommendedVOD)(e));
                        break;
                    case P.PLAYER_POPOUT:
                        var a = E(e, n);
                        g(a, n);
                        break;
                    default:
                        t((0, C.clearCollection)()), t((0, I.setStream)(I.TYPE_VIDEO, e))
                }
            }
        }

        function y(e, t) {
            return function(n, r) {
                var i = r(),
                    a = i.env,
                    o = i.screenMode;
                switch (a.playerType) {
                    case P.PLAYER_SITE:
                        n(o.isFullScreen ? (0, I.setStream)(I.TYPE_VIDEO, e) : (0, N.emitTransitionToCollection)(t, e));
                        break;
                    case P.PLAYER_POPOUT:
                        var s = b(e, r);
                        g(s, r);
                        break;
                    default:
                        n((0, I.setStream)(I.TYPE_VIDEO, e))
                }
            }
        }

        function g(e, t) {
            var n = t(),
                r = n.window;
            r.location.search = "?" + $.param(e)
        }

        function E(e, t) {
            var n = t(),
                r = n.window,
                i = T(r);
            return (0, k.default)({}, {
                video: e
            }, i)
        }

        function b(e, t) {
            var n = t(),
                r = n.window,
                i = n.collection,
                a = T(r);
            return (0, k.default)({}, {
                video: e,
                collection: i.pendingRequest.collectionId || i.id
            }, a)
        }

        function T(e) {
            var t = (0, O.parse)(e.location.search.slice(1));
            return delete t.channel, delete t.video, delete t.collection, delete t.time, t
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.ACTION_INCREMENT_BUFFER_EMPTIES = t.ACTION_PLAYBACK_RATE_CHANGED = t.ACTION_SET_TRANSITION_FUNCTION = t.ACTION_CONTENT_IS_SHOWING = t.ACTION_WAITING = t.ACTION_UPDATE_PLAYBACK_DURATION = t.ACTION_UPDATE_CURRENT_TIME = t.ACTION_UPDATE_BUFFER_VALUES = t.ACTION_VOLUME_CHANGED = t.ACTION_PLAYER_MUTED = t.ACTION_SET_LOADING = t.ACTION_SET_AUTOPLAY_STATE = t.ACTION_QUALITY_RESTRICTED_ERROR = t.ACTION_PLAYING = t.ACTION_PAUSE = t.ACTION_INITIALIZE_PLAYBACK_SETTINGS = t.ACTION_ENDED = t.ACTION_CLEAR_QUALITY_RESTRICTED_ERROR = void 0, t.initializePlaybackSettings = i, t.clearQualityRestrictedError = a, t.updateDuration = o, t.updatePlaybackState = s, t.setAutoplay = l, t.playerMuted = u, t.volumeChanged = c, t.setLoading = d, t.updateCurrentTime = f, t.updateBufferValues = p, t.incrementBufferEmpties = _, t.contentIsShowing = h, t.playbackRateChanged = m, t.selectRecommendedVideo = v, t.selectCollectionVideo = y;
        var S = n(250),
            A = n(179),
            C = n(333),
            P = n(217),
            O = n(247),
            w = n(118),
            k = r(w),
            I = n(334),
            N = n(185),
            R = t.ACTION_CLEAR_QUALITY_RESTRICTED_ERROR = "clear error quality restricted",
            L = t.ACTION_ENDED = "set player ended",
            M = t.ACTION_INITIALIZE_PLAYBACK_SETTINGS = "initialize playback settings",
            D = t.ACTION_PAUSE = "set player pause",
            j = t.ACTION_PLAYING = "set player playing",
            x = (t.ACTION_QUALITY_RESTRICTED_ERROR = "error quality restricted", t.ACTION_SET_AUTOPLAY_STATE = "set autoplay state"),
            U = t.ACTION_SET_LOADING = "set loading state",
            B = t.ACTION_PLAYER_MUTED = "player muted",
            F = t.ACTION_VOLUME_CHANGED = "volume changed",
            V = t.ACTION_UPDATE_BUFFER_VALUES = "update buffer values",
            H = t.ACTION_UPDATE_CURRENT_TIME = "update current time",
            G = t.ACTION_UPDATE_PLAYBACK_DURATION = "update playback duration",
            q = t.ACTION_WAITING = "set player waiting",
            Y = t.ACTION_CONTENT_IS_SHOWING = "content is showing",
            K = (t.ACTION_SET_TRANSITION_FUNCTION = "set VOD transition function", t.ACTION_PLAYBACK_RATE_CHANGED = "playback rate changed"),
            W = t.ACTION_INCREMENT_BUFFER_EMPTIES = "increment bufferEmpties count"
    }, function(e, t) {
        "use strict";

        function n(e) {
            return {
                type: m,
                featuredCollection: l(e)
            }
        }

        function r(e) {
            return {
                type: _,
                collection: u(e)
            }
        }

        function i() {
            return {
                type: h
            }
        }

        function a() {
            return {
                type: v
            }
        }

        function o() {
            return {
                type: y
            }
        }

        function s(e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "";
            return {
                type: p,
                request: {
                    collectionId: e,
                    videoId: t
                }
            }
        }

        function l(e) {
            return {
                id: e._id,
                owner: {
                    id: e.owner._id,
                    displayName: e.owner.display_name,
                    name: e.owner.name
                },
                thumbnails: e.thumbnails,
                title: e.title,
                itemsCount: e.items_count
            }
        }

        function u(e) {
            return {
                id: e._id,
                owner: {
                    id: e.owner._id,
                    displayName: e.owner.display_name,
                    name: e.owner.name
                },
                thumbnails: e.thumbnails,
                title: e.title,
                totalDuration: e.total_duration,
                views: e.views,
                items: e.items.map(function(e) {
                    return c(e)
                })
            }
        }

        function c(e) {
            return {
                itemId: e.item_id,
                title: e.title,
                owner: {
                    displayName: e.owner.display_name
                },
                thumbnails: {
                    small: e.thumbnails ? e.thumbnails.small : b
                }
            }
        }

        function d() {
            return {
                type: g
            }
        }

        function f() {
            return {
                type: E
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.featuredCollectionFetched = n, t.setCollection = r, t.clearCollection = i, t.loadedLastCollectionItem = a, t.loadedCollectionItem = o, t.requestCollection = s, t.openCollectionSidebar = d, t.closeCollectionSidebar = f;
        var p = t.ACTION_REQUEST_COLLECTION = "request collection",
            _ = t.ACTION_SET_COLLECTION = "set collection",
            h = t.ACTION_CLEAR_COLLECTION = "clear collection",
            m = t.ACTION_FETCHED_FEATURED_COLLECTION = "fetched featured collection",
            v = t.ACTION_LOADED_LAST_COLLECTION_ITEM = "loaded last collection item",
            y = t.ACTION_LOADED_COLLECTION_ITEM = "loaded collection item",
            g = t.ACTION_OPEN_COLLECTION_SIDEBAR = "open collection sidebar",
            E = t.ACTION_CLOSE_COLLECTION_SIDEBAR = "close collection sidebar",
            b = "https://static-cdn.jtvnw.net/ttv-playlists-thumbnails-prod/no-thumbnail-sm.png"
    }, function(e, t, n) {
        "use strict";

        function r(e, t) {
            return function(n, r) {
                n((0, p.resetPlaySession)());
                var i = r(),
                    d = i.accessToken,
                    m = i.analytics,
                    E = i.analyticsTracker,
                    b = i.experiments,
                    T = i.playback,
                    S = i.usher,
                    A = e === y ? a(t) : null,
                    C = e === g ? o(t) : null;
                E.trackEvent(f.VIDEO_PLAY_LOAD_START, {
                    autoplay: T.autoplay,
                    channel: A,
                    vod_id: C
                });
                var P = s().then(function(e) {
                        return E.trackEvent(f.VIDEO_PLAY_OAUTH, {
                            time_since_load_start: Date.now() - m.playSessionStartTime
                        }), e
                    }),
                    O = {
                        adStitchingUS: b.get(l.BAKING_BREAD_US),
                        adStitchingUK: b.get(l.BAKING_BREAD_UK),
                        adStitchingA: b.get(l.BAKING_BREAD_A),
                        adStitchingB: b.get(l.BAKING_BREAD_B),
                        adStitchingC: b.get(l.BAKING_BREAD_C),
                        adStitchingD: b.get(l.BAKING_BREAD_D),
                        adStitchingE: b.get(l.BAKING_BREAD_E),
                        adStitchingF: b.get(l.BAKING_BREAD_F),
                        adStitchingG: b.get(l.BAKING_BREAD_G),
                        adStitchingH: b.get(l.BAKING_BREAD_H),
                        adStitchingI: b.get(l.BAKING_BREAD_I),
                        adStitchingPrerolls: b.get(l.BAKING_BROWNIES)
                    },
                    w = void 0;
                e === y ? w = new u.LiveContentStream(A, P, S, d.params, O) : e === g && (w = new c.VODContentStream(C, P, S, d.params, O)), w.accessToken.then(function() {
                    E.trackEvent(f.VIDEO_PLAY_NAUTH, {
                        time_since_load_start: Date.now() - m.playSessionStartTime
                    })
                }), n({
                    type: v,
                    stream: w
                }), n((0, h.fetchAndSetStreamMetadata)(w)), n((0, _.fetchExtensions)(w.channel))
            }
        }

        function i() {
            return {
                type: v,
                stream: m.nullContentStream
            }
        }

        function a(e) {
            return String(e).replace(/[^A-Za-z0-9_]/g, "")
        }

        function o(e) {
            return String(e).replace(/[^A-Za-z0-9_]/g, "")
        }

        function s() {
            return (0, d.oauthToken)().then(function(e) {
                return e.token
            }, function() {
                return null
            })
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.TYPE_VIDEO = t.TYPE_CHANNEL = t.ACTION_SET_STREAM = void 0, t.setStream = r, t.clearStream = i;
        var l = n(251),
            u = n(167),
            c = n(220),
            d = n(200),
            f = n(116),
            p = n(264),
            _ = n(335),
            h = n(336),
            m = n(225),
            v = t.ACTION_SET_STREAM = "set stream",
            y = t.TYPE_CHANNEL = "channel",
            g = t.TYPE_VIDEO = "video"
    }, function(e, t, n) {
        "use strict";

        function r(e, t) {
            return {
                type: f,
                channel: e,
                extensions: t
            }
        }

        function i() {
            return {
                type: p
            }
        }

        function a(e) {
            return {
                type: _,
                channel: e
            }
        }

        function o(e, t) {
            return {
                type: h,
                extensionId: e,
                token: t
            }
        }

        function s(e) {
            return function(t, n) {
                var i = n(),
                    o = i.extensions,
                    s = i.experiments;
                return !e || o.channel === e && o.loadingState !== v ? Promise.resolve() : (t(a(e)), s.get(d.EXTENSIONS).then(function(i) {
                    return "yes" !== i ? void t(r(e, [])) : (0, c.overlayExtensionsForChannel)(e).then(function(i) {
                        var a = n(),
                            o = a.stream;
                        o.channel === e && t(r(e, i))
                    })
                }))
            }
        }

        function l(e, t, n) {
            return function(r, i) {
                var a = i(),
                    s = a.extensions.extensions,
                    l = a.experiments,
                    u = s.some(function(t) {
                        return t.id === e
                    });
                return u ? l.get(d.EXTENSIONS).then(function(i) {
                    return "yes" !== i ? Promise.resolve() : (0, c.updateIdentitySharingForExtension)(e, t, n).then(function(t) {
                        r(o(e, t))
                    })
                }) : Promise.resolve()
            }
        }

        function u(e) {
            return {
                type: m,
                extensionsApi: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.EXTENSIONS_LOADING = t.EXTENSIONS_LOADED = t.EXTENSIONS_NOT_LOADED = t.ACTION_INIT_EXTENSIONS_API = t.ACTION_UPDATE_EXTENSION_TOKEN = t.ACTION_FETCHING_EXTENSIONS = t.ACTION_CLEAR_EXTENSIONS = t.ACTION_SET_EXTENSIONS = void 0, t.clearExtensions = i, t.fetchExtensions = s, t.setIdentitySharingForExtension = l, t.extensionsApiLoaded = u;
        var c = n(200),
            d = n(251),
            f = t.ACTION_SET_EXTENSIONS = "set extensions",
            p = t.ACTION_CLEAR_EXTENSIONS = "clear extensions",
            _ = t.ACTION_FETCHING_EXTENSIONS = "fetching extensions",
            h = t.ACTION_UPDATE_EXTENSION_TOKEN = "update extension token",
            m = t.ACTION_INIT_EXTENSIONS_API = "initialize extension api",
            v = t.EXTENSIONS_NOT_LOADED = "not loaded";
        t.EXTENSIONS_LOADED = "loaded", t.EXTENSIONS_LOADING = "loading"
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e) {
            return {
                type: y,
                streamMetadata: u(e)
            }
        }

        function a(e) {
            return {
                type: y,
                streamMetadata: c(e)
            }
        }

        function o(e) {
            return function(t, n) {
                if (n().stream.contentType === p.CONTENT_MODE_LIVE && n().streamMetadata.broadcastID !== e) {
                    var r = n().window,
                        i = n().stream.channel,
                        o = 0;
                    return new Promise(function(s, l) {
                        function u() {
                            return i !== n().stream.channel ? void l() : void(0, f.streamInfo)(i).then(function(n) {
                                n.stream && n.stream._id === e ? (t((0, h.updateViewerCount)(n.stream.viewers)), t(a(n.stream)), s(n)) : o < E.length ? (r.setTimeout(u, E[o]), o += 1) : l()
                            })
                        }
                        u()
                    })
                }
            }
        }

        function s(e) {
            return function(t, n) {
                e.contentType === p.CONTENT_MODE_LIVE ? (0, f.streamInfo)(e.channel).then(function(n) {
                    n.stream ? t(a(n.stream)) : (0, f.channelInfo)(e.channel).then(function(e) {
                        t({
                            type: y,
                            streamMetadata: d(e)
                        })
                    })
                }) : e.contentType === _.CONTENT_MODE_VOD && (0, f.videoInfo)(e.videoId).then(function(e) {
                    t(i(e))
                })
            }
        }

        function l(e) {
            return function(t, n) {
                (0, f.channelInfo)(e).then(function(e) {
                    t({
                        type: y,
                        streamMetadata: (0, v.default)({}, d(e), {
                            streamType: "dead_ltv"
                        })
                    })
                })
            }
        }

        function u(e) {
            return {
                broadcastID: e.broadcast_id,
                type: e.broadcast_type,
                name: e.title,
                channel: {
                    displayName: e.channel.display_name,
                    name: e.channel.name,
                    id: e.channel._id,
                    partner: e.channel.partner,
                    status: e.status,
                    videoBanner: e.channel.video_banner,
                    logo: e.channel.logo
                },
                createdAt: e.created_at,
                game: e.game,
                preview: {
                    template: e.preview
                },
                url: e.url,
                viewers: g
            }
        }

        function c(e) {
            return {
                broadcastID: e._id,
                type: "live",
                streamType: e.stream_type,
                name: "",
                channel: {
                    displayName: e.channel.display_name,
                    name: e.channel.name,
                    id: e.channel._id,
                    partner: e.channel.partner,
                    status: e.channel.status,
                    videoBanner: e.channel.video_banner,
                    logo: e.channel.logo
                },
                createdAt: e.created_at,
                game: e.game,
                preview: {
                    template: e.preview.template
                },
                url: e.channel.url,
                viewers: e.viewers
            }
        }

        function d(e) {
            return {
                channel: {
                    displayName: e.display_name,
                    name: e.name,
                    id: e._id,
                    partner: e.partner,
                    status: e.status,
                    videoBanner: e.video_banner,
                    logo: e.logo
                },
                game: e.game,
                url: e.url
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.FETCH_METADATA_TIMEOUT = t.VIEWERS_NOT_SET = t.ACTION_SET_STREAMMETADATA = void 0, t.setVODStreamMetadata = i, t.setLiveStreamMetadata = a, t.fetchLiveStreamMetadata = o, t.fetchAndSetStreamMetadata = s, t.fetchDeadLtvStreamMetadata = l;
        var f = n(200),
            p = n(167),
            _ = n(220),
            h = n(337),
            m = n(117),
            v = r(m),
            y = t.ACTION_SET_STREAMMETADATA = "set streammetadata",
            g = t.VIEWERS_NOT_SET = 0,
            E = t.FETCH_METADATA_TIMEOUT = [15e3, 3e4, 6e4, 12e4, 3e5, 6e5]
    }, function(e, t) {
        "use strict";

        function n(e) {
            return {
                type: r,
                count: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.updateViewerCount = n;
        var r = t.ACTION_UPDATE_VIEWERCOUNT = "update viewercount"
    }, function(e, t, n) {
        e.exports = n.p + "vendor/TwitchPlayer.7cfe0f2e9d071ac72c5a539139bcedd4.swf"
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function a(e) {
            return "string" == typeof e ? e : "object" === ("undefined" == typeof e ? "undefined" : s(e)) && e.group ? e.group : "Quality is unavailable"
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.BackendPlayerCore = t.DEFAULT_STATS = t.BACKEND_PLAYER_CORE = void 0;
        var o = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            s = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            } : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            };
        t.getGroup = a;
        var l = n(164),
            u = r(l),
            c = n(251),
            d = n(331),
            f = n(178),
            p = n(179),
            _ = n(167),
            h = n(243),
            m = n(116),
            v = n(120),
            y = r(v),
            g = n(340),
            E = r(g),
            b = n(324),
            T = r(b),
            S = n(214),
            A = r(S),
            C = n(53),
            P = r(C),
            O = n(345),
            w = r(O),
            k = n(117),
            I = r(k),
            N = t.BACKEND_PLAYER_CORE = "player-core",
            R = t.DEFAULT_STATS = {
                playbackRate: 0,
                fps: 0,
                bufferSize: 0,
                skippedFrames: 0,
                memoryUsage: "Unknown",
                hlsLatencyEncoder: 0,
                hlsLatencyBroadcaster: 0,
                videoResolution: "0x0",
                displayResolution: "0x0",
                backendVersion: ""
            },
            L = new Error("Media resource fetching aborted by user"),
            M = new Error("Network Error while fetchin media resource"),
            D = new Error("Error while decoding media resource"),
            j = new Error("Media resource not supported"),
            x = {
                1: L,
                2: M,
                3: D,
                4: j
            },
            U = [p.PAUSE, p.PLAYING, p.WAITING, p.ERROR],
            B = [0, 1e3, 4e3, 16e3],
            F = .25,
            V = t.BackendPlayerCore = function() {
                function e() {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        n = arguments[1];
                    i(this, e), this.store = n, this.video = document.createElement("video"), this._autoplay = t.autoplay, this._retryCount = 0, this._retryTimeoutID = null, this.playerCoreLogLevel = t["cvp-log"] || "error", this._emitVariantManifestTracking = !0, this.offline = !1, t.playsinline && (this.video.setAttribute("webkit-playsinline", ""), this.video.setAttribute("playsinline", "")), this.initialize()
                }
                return o(e, [{
                    key: "initialize",
                    value: function() {
                        var e = this;
                        this.events = this.events instanceof u.default ? this.events : new u.default, this.currentCaptionData = {}, this.loadPlayerCore().then(function(t) {
                            e._initPlayerCore(t.handle, t.config), e._initVideoEvents(), e.load()
                        }, function(t) {
                            e.onCoreAnalytics(t)
                        })
                    }
                }, {
                    key: "_initVideoEvents",
                    value: function() {
                        this.video.addEventListener(p.PLAYING, this.onVideoTagPlaying.bind(this)), this.video.addEventListener(p.PAUSE, this.onVideoTagPause.bind(this))
                    }
                }, {
                    key: "_initPlayerCore",
                    value: function(e, t) {
                        this.playerCoreEvents = e.Event, this.core = new e((0, I.default)({}, t, {
                            analyticsTracker: this.store.getState().analyticsTracker,
                            logLevel: this.playerCoreLogLevel
                        })), this.core.attachMedia(this.video), this.core.addEventListener(this.playerCoreEvents.HLS_MASTER_PARSED, this.onHLSMasterParsed.bind(this)), this.core.addEventListener(this.playerCoreEvents.HLS_VARIANT_PARSED, this.onHLSVariantParsed.bind(this)), this.core.addEventListener(this.playerCoreEvents.VARIANT_SWITCH_REQUESTED, this.onVariantSwitchRequested.bind(this)), this.core.addEventListener(this.playerCoreEvents.SEGMENT_CHANGED, this.onID3Tag.bind(this)), this.core.addEventListener(this.playerCoreEvents.SPLICEOUT, this.onSpliceOut.bind(this)), this.core.addEventListener(this.playerCoreEvents.SPLICEIN, this.onSpliceIn.bind(this)), this.core.addEventListener(this.playerCoreEvents.CAPTION, this.onCaption.bind(this)), this.core.addEventListener(this.playerCoreEvents.AUTH_ERROR, this.onAuthError.bind(this)), this.core.addEventListener(this.playerCoreEvents.CORE_ANALYTICS, this.onCoreAnalytics.bind(this)), this.core.addEventListener(this.playerCoreEvents.OFFLINE, this.onOfflineError.bind(this)), this.core.addEventListener(this.playerCoreEvents.BUFFERING, this.onBuffering.bind(this)), this.core.addEventListener(this.playerCoreEvents.FATAL_ERROR, this.onFatalError.bind(this)), this.events.emit(f.PLAYER_INIT)
                    }
                }, {
                    key: "onBuffering",
                    value: function() {
                        this.events.emitEvent(p.WAITING)
                    }
                }, {
                    key: "onVideoTagPlaying",
                    value: function() {
                        this.events.emitEvent(p.PLAYING)
                    }
                }, {
                    key: "onVideoTagPause",
                    value: function() {
                        this.events.emitEvent(p.PAUSE)
                    }
                }, {
                    key: "onFatalError",
                    value: function(e) {
                        var t = e.code,
                            n = x[t] || new Error("Unknown");
                        this.events.emit(p.ERROR, n)
                    }
                }, {
                    key: "onHLSMasterParsed",
                    value: function(e) {
                        this._retryCount = 0, this._emitVariantManifestTracking = !0;
                        var t = this.store.getState(),
                            n = t.analytics,
                            r = t.analyticsTracker;
                        r.trackEvent(m.VIDEO_PLAY_MASTER_MANIFEST, {
                            time_since_load_start: Date.now() - n.playSessionStartTime
                        });
                        var i = (0, A.default)(e, function(e, t, n) {
                            var r = n.toLowerCase().replace(/-/g, "_");
                            return e[r] = t, e
                        }, {});
                        this.events.emit(f.MANIFEST_EXTRA_INFO, i), this.events.emit(f.QUALITY_CHANGE, this.getQuality())
                    }
                }, {
                    key: "onOfflineError",
                    value: function() {
                        this.offline = !0, this.events.emit(f.OFFLINE), this.events.emit(p.ENDED)
                    }
                }, {
                    key: "onHLSVariantParsed",
                    value: function() {
                        if (this._emitVariantManifestTracking) {
                            var e = this.store.getState(),
                                t = e.analytics,
                                n = e.analyticsTracker;
                            n.trackEvent(m.VIDEO_PLAY_VARIANT_MANIFEST, {
                                time_since_load_start: Date.now() - t.playSessionStartTime
                            }), this._emitVariantManifestTracking = !1
                        }
                    }
                }, {
                    key: "_onABSFormatChange",
                    value: function(e) {
                        var t = e.current,
                            n = e.previous,
                            r = e.stats,
                            i = {
                                stream_format_previous: n,
                                stream_format_current: t
                            },
                            a = Object.assign({}, r, i);
                        this.events.emit(f.ABS_STREAM_FORMAT_CHANGE, a)
                    }
                }, {
                    key: "onVariantSwitchRequested",
                    value: function(e) {
                        var t = this,
                            n = e.current,
                            r = e.previous,
                            i = e.stats,
                            a = this.getQuality(),
                            o = String(a).toLowerCase() === d.QUALITY_AUTO && r && i;
                        this._onVariantSwitchComplete && this.core.removeEventListener(this.playerCoreEvents.SEGMENT_CHANGED, this._onVariantSwitchComplete), this._onVariantSwitchComplete = function(e) {
                            var r = e.variant;
                            (0, w.default)(n, r) && (t.events.emit(f.QUALITY_CHANGE, r), t.core.removeEventListener(t.playerCoreEvents.SEGMENT_CHANGED, t._onVariantSwitchComplete), t._onVariantSwitchComplete = !1)
                        }, this.core.addEventListener(this.playerCoreEvents.SEGMENT_CHANGED, this._onVariantSwitchComplete), o && this._onABSFormatChange(e)
                    }
                }, {
                    key: "onID3Tag",
                    value: function(e) {
                        var t = (0, y.default)(e.ID3, function(e) {
                                return "TOFN" === e.id
                            }),
                            n = (0, y.default)(e.ID3, function(e) {
                                return "TXXX" === e.id
                            });
                        if (t) {
                            var r = {
                                name: t.info[0]
                            };
                            this.events.emit(f.SEGMENT_CHANGE, r)
                        }
                        if (n && "content" !== n.desc) {
                            var i = JSON.parse(n.info[0]);
                            "commercial" === i.cmd && this.events.emit(f.MIDROLL_REQUESTED, {
                                duration: i.length
                            })
                        }
                    }
                }, {
                    key: "onSpliceOut",
                    value: function(e) {
                        this.events.emit(f.STITCHED_AD_START, e)
                    }
                }, {
                    key: "onSpliceIn",
                    value: function() {
                        this.events.emit(f.STITCHED_AD_END)
                    }
                }, {
                    key: "getStats",
                    value: function() {
                        var e = this.core ? this.core.getPlaybackStatistics() : R,
                            t = {
                                playbackRate: (0, T.default)(e.playbackRate, 2) || 0,
                                fps: (0, T.default)(e.fps) || 0,
                                bufferSize: (0, T.default)(e.bufferSize),
                                skippedFrames: e.skippedFrames,
                                memoryUsage: e.memoryUsage + " MB",
                                hlsLatencyEncoder: (0, T.default)(e.hlsLatencyEncoder / 1e3) || 0,
                                hlsLatencyBroadcaster: (0, T.default)(e.hlsLatencyBroadcaster / 1e3) || 0,
                                videoResolution: e.videoResolution,
                                displayResolution: e.displayResolution,
                                backendVersion: this.getVersion()
                            };
                        return t
                    }
                }, {
                    key: "onCaption",
                    value: function(e) {
                        this.currentCaptionData = e, this.events.emit(f.CAPTION_UPDATE)
                    }
                }, {
                    key: "getCaption",
                    value: function() {
                        return this.currentCaptionData
                    }
                }, {
                    key: "onAuthError",
                    value: function() {
                        if (null !== this._retryTimeoutID) return void this.events.emit(p.ERROR, new Error("Authorization error while retry in progress"));
                        if (this._retryCount < B.length) {
                            var e = this.store.getState(),
                                t = e.window,
                                n = this._getPeriodWithJitter(B[this._retryCount]);
                            this._retryTimeoutID = t.setTimeout(this._retryStreamLoad.bind(this), n), this._retryCount++
                        } else this.events.emit(p.ERROR, new Error("Authorization Error"))
                    }
                }, {
                    key: "_getPeriodWithJitter",
                    value: function(e) {
                        var t = F * (1 - 2 * Math.random());
                        return e * (1 + t)
                    }
                }, {
                    key: "_retryStreamLoad",
                    value: function() {
                        var e = this,
                            t = this.store.getState(),
                            n = t.stream;
                        return this._retryTimeoutID = null, this.destroy(), delete this.src, this.initialize(), n.resetNAuthToken(), n.streamUrl.then(function(t) {
                            e.setSrc(t), e.core.play()
                        })
                    }
                }, {
                    key: "onCoreAnalytics",
                    value: function(e) {
                        var t = this.store.getState().analyticsTracker;
                        t.trackEvent(e.spadeEventName, e.spadeEventData)
                    }
                }, {
                    key: "addEventListener",
                    value: function(e, t) {
                        this.events.on(e, t), (0, P.default)(U, e) || this.video.addEventListener(e, t)
                    }
                }, {
                    key: "removeEventListener",
                    value: function(e, t) {
                        this.events.off(e, t), this.video.removeEventListener(e, t)
                    }
                }, {
                    key: "attach",
                    value: function(e) {
                        e.appendChild(this.video)
                    }
                }, {
                    key: "detach",
                    value: function(e) {
                        e.removeChild(this.video)
                    }
                }, {
                    key: "load",
                    value: function() {
                        this.core && this.src && (this.offline = !1, this.core.loadURL(this.src), this._autoplay && this.core.play())
                    }
                }, {
                    key: "getSrc",
                    value: function() {
                        return this.src
                    }
                }, {
                    key: "setSrc",
                    value: function(e) {
                        this.src = e, this.src && this.load()
                    }
                }, {
                    key: "getVolume",
                    value: function() {
                        return this.video.volume
                    }
                }, {
                    key: "setVolume",
                    value: function(e) {
                        this.video.volume = e
                    }
                }, {
                    key: "setMuted",
                    value: function(e) {
                        this.video.muted = e
                    }
                }, {
                    key: "getMuted",
                    value: function() {
                        return this.video.muted
                    }
                }, {
                    key: "setChannel",
                    value: function(e, t) {
                        var n = this;
                        return t.streamUrl.then(function(t) {
                            var r = n.store.getState(),
                                i = r.streamMetadata;
                            e === i.channelName && n.setSrc(t)
                        })
                    }
                }, {
                    key: "setVideo",
                    value: function(e, t) {
                        var n = this;
                        t.streamUrl.then(function(t) {
                            var r = n.store.getState(),
                                i = r.streamMetadata;
                            e === i.videoId && n.setSrc(t)
                        })
                    }
                }, {
                    key: "setQuality",
                    value: function(e) {
                        this.core && this.core.setQuality(e)
                    }
                }, {
                    key: "getQualities",
                    value: function() {
                        return this.core ? this.core.getQualities() : []
                    }
                }, {
                    key: "getQuality",
                    value: function() {
                        return this.core ? this.core.getQuality() : ""
                    }
                }, {
                    key: "elapsedTime",
                    value: function() {
                        return this.core ? this.core.elapsedTime() : 0
                    }
                }, {
                    key: "getCurrentTime",
                    value: function() {
                        return this.video.currentTime
                    }
                }, {
                    key: "setCurrentTime",
                    value: function(e) {
                        this.video.currentTime = e
                    }
                }, {
                    key: "getDuration",
                    value: function() {
                        return this.video.duration || 0
                    }
                }, {
                    key: "getNetworkProfile",
                    value: function() {
                        return this.core ? this.core.getNetworkProfile() : []
                    }
                }, {
                    key: "getBuffered",
                    value: function() {
                        return this.video.buffered
                    }
                }, {
                    key: "getReadyState",
                    value: function() {
                        return this.video.readyState
                    }
                }, {
                    key: "getNetworkState",
                    value: function() {
                        return this.video.networkState
                    }
                }, {
                    key: "getEnded",
                    value: function() {
                        return this.offline || this.core && this.core.ended()
                    }
                }, {
                    key: "getError",
                    value: function() {
                        return this.video.error
                    }
                }, {
                    key: "getVersion",
                    value: function() {
                        return this.core ? this.core.getVersion() : ""
                    }
                }, {
                    key: "getBackend",
                    value: function() {
                        return N
                    }
                }, {
                    key: "play",
                    value: function() {
                        var e = this,
                            t = this.store.getState(),
                            n = t.ads,
                            r = t.stream;
                        n.currentMetadata.contentType !== h.AdContentTypes.STITCHED && r instanceof _.LiveContentStream ? this.setChannel(r.channel, r).then(function() {
                            e.core.play()
                        }) : this.core.play()
                    }
                }, {
                    key: "pause",
                    value: function() {
                        this.core.pause();
                        var e = this.store.getState(),
                            t = e.stream;
                        t instanceof _.LiveContentStream && this.core.stop()
                    }
                }, {
                    key: "getPaused",
                    value: function() {
                        return this.core ? this.core.paused() : this.video.paused
                    }
                }, {
                    key: "getSeeking",
                    value: function() {
                        return this.video.seeking
                    }
                }, {
                    key: "getVideoInfo",
                    value: function() {
                        var e = this.core ? this.core.getVideoInfo() : {},
                            t = this.store.getState(),
                            n = t.manifestInfo,
                            r = t.window,
                            i = {
                                bandwidth: e.playbackRate,
                                broadcast_id: parseInt(e.broadcastId, 10),
                                cluster: n.cluster,
                                current_bitrate: e.playbackRate,
                                current_fps: (0, T.default)(e.fps),
                                current_fps_exact: e.fps,
                                dropped_frames: e.skippedFrames,
                                hls_latency_broadcaster: e.hlsLatencyBroadcaster,
                                hls_latency_encoder: e.hlsLatencyEncoder,
                                hls_target_duration: e.targetDuration,
                                manifest_cluster: n.manifest_cluster,
                                manifest_node: n.manifest_node,
                                manifest_node_type: n.manifest_node_type,
                                node: n.node,
                                paused: this.getPaused(),
                                playing: !this.getPaused(),
                                segment_protocol: "https:" === r.location.protocol ? "https" : "http",
                                serving_id: n.serving_id,
                                stream_time: this.video.currentTime,
                                stream_time_offset: parseFloat(n.stream_time),
                                totalMemoryNumber: e.memoryUsage,
                                user_ip: n.user_ip,
                                vid_display_height: e.displayHeight,
                                vid_display_width: e.displayWidth,
                                vid_height: e.videoHeight,
                                vid_width: e.videoWidth,
                                video_buffer_size: e.bufferSize,
                                volume: this.getVolume(),
                                vod_cdn_origin: n.origin,
                                vod_cdn_region: n.region
                            };
                        return i
                    }
                }, {
                    key: "getPlayed",
                    value: function() {
                        return this.video.played
                    }
                }, {
                    key: "getStatsEnabled",
                    value: function() {
                        return !1
                    }
                }, {
                    key: "setPlaybackRate",
                    value: function(e) {
                        this.core && this.core.setPlaybackRate(e)
                    }
                }, {
                    key: "getPlaybackRate",
                    value: function() {
                        return this.core ? this.core.getPlaybackRate() : 1
                    }
                }, {
                    key: "absAvailable",
                    value: function() {
                        return !(!this.core || !this.core.absAvailable) && this.core.absAvailable()
                    }
                }, {
                    key: "destroy",
                    value: function() {
                        this.core && (this.core.pause(), this.core.destroy()), this.store.getState().window.clearInterval(this.statsUpdateLoop), this.store.getState().window.clearTimeout(this._retryTimeoutID)
                    }
                }, {
                    key: "loadPlayerCore",
                    value: function() {
                        var e = this.store.getState(),
                            t = e.experiments;
                        return t.get(c.PLAYER_CORE_VER_CONTROL).then(function(e) {
                            return E.default.load({
                                value: e
                            })
                        })
                    }
                }]), e
            }();
        V.canPlay = function() {
            return E.default.canLoad()
        }
    }, function(e, t, n) {
        "use strict";

        function r(e, t, n) {
            return t in e ? Object.defineProperty(e, t, {
                value: n,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : e[t] = n, e
        }

        function i(e) {
            return d.CAN_LOAD ? a(e).then(l).then(function(e) {
                return o(d.MAX_ATTEMPTS, e)
            }) : c.reject(_.NOT_SUPPORTED)
        }

        function a(e) {
            if (e && e.value) return c.resolve(e.value);
            var t = e && e.deviceID || u();
            return m || (m = new f({
                defaults: r({}, d.EXPERIMENT_ID, d.DEFAULT_VERSION),
                platform: "web",
                deviceID: t,
                provider: new p(p.SERVICE_URL),
                Promise: c
            })), m.get(d.EXPERIMENT_ID)
        }

        function o(e, t, n) {
            return e > 0 ? s(t.url, t.settings).catch(function(n) {
                return o(e - 1, t, n)
            }) : c.reject(n)
        }

        function s(e, t) {
            return new c(function(n, r) {
                var i = document.createElement("script");
                i.onload = function() {
                    "function" == typeof PlayerCore ? n({
                        handle: PlayerCore,
                        config: {
                            settings: t
                        }
                    }) : (i.parentNode.removeChild(i), r(_.BAD_RESPONSE))
                }, i.onerror = function(e) {
                    i.parentNode.removeChild(i), r(_.SCRIPT_ERROR)
                }, i.src = e, i.id = d.SCRIPT_ID, document.head.appendChild(i)
            })
        }

        function l(e) {
            var t = "",
                n = d.PLAYER_CORE_HOST.prod,
                r = e.split("+") || [e],
                i = r[0];
            r.length > 1 && (t = r[1], d.SETTING_CRITERIA.hasOwnProperty(t) && !d.SETTING_CRITERIA[t] && (t = ""));
            var a = {},
                o = document.URL,
                s = o.indexOf("?");
            if (s > -1) {
                var l = o.slice(s + 1) || "",
                    u = l.split("&") || [];
                u.forEach(function(e) {
                    var t = e.split("=") || [];
                    a[t[0]] = t[1]
                })
            }
            return a["cvp-settings"] && (t = a["cvp-settings"]), a["cvp-branch"] ? {
                url: d.PLAYER_CORE_HOST.dev + a["cvp-branch"] + d.PLAYER_CORE_FILE_NAME_DEBUG,
                settings: t
            } : (a["cvp-env"] && d.PLAYER_CORE_HOST[a["cvp-env"]] && (n = d.PLAYER_CORE_HOST[a["cvp-env"]]), a["cvp-ver"] && (i = a["cvp-ver"]), {
                url: n + i + d.PLAYER_CORE_FILE_NAME,
                settings: t
            })
        }

        function u() {
            return Math.random().toString(32).slice(2)
        }
        var c = n(341),
            d = n(344),
            f = n(252),
            p = n(260),
            _ = {
                NOT_SUPPORTED: {
                    spadeEventName: d.SPADE_EVENT_NAME,
                    spadeEventData: {
                        core_error_code: 3e3,
                        core_error_msg: "Player Core Not Supported"
                    }
                },
                SCRIPT_ERROR: {
                    spadeEventName: d.SPADE_EVENT_NAME,
                    spadeEventData: {
                        core_error_code: 3001,
                        core_error_msg: "Script Error"
                    }
                },
                BAD_RESPONSE: {
                    spadeEventName: d.SPADE_EVENT_NAME,
                    spadeEventData: {
                        core_error_code: 3002,
                        core_error_msg: "Bad Response"
                    }
                }
            };
        e.exports.canLoad = function() {
            return d.CAN_LOAD
        };
        var h = null;
        e.exports.load = function(e) {
            return h || (h = i(e)), h
        }, e.exports._reset = function() {
            h = null;
            var e = document.getElementById(d.SCRIPT_ID);
            e && e.parentNode.removeChild(e)
        };
        var m
    }, , , , function(e, t) {
        "use strict";

        function n() {
            var e = (navigator.appVersion || "").toLowerCase();
            return i.some(function(t) {
                return e.indexOf(t) > -1
            })
        }

        function r() {
            var e = (navigator.appVersion || "").toLowerCase(),
                t = e.match(/chrome\/(\d+)/);
            if (t && t.length > 1) {
                var n = parseInt(t[1]);
                return n < 50
            }
            return !1
        }
        var i = ["5.0 (macintosh; intel mac os x 10_11_6) applewebkit/601.7.7 (khtml, like gecko) version/9.1.2 safari/601.7.7", "5.0 (macintosh; intel mac os x 10_11_5) applewebkit/601.6.17 (khtml, like gecko) version/9.1.1 safari/601.6.17", "5.0 (macintosh; intel mac os x 10_10_5) applewebkit/601.7.7 (khtml, like gecko) version/9.1.2 safari/601.7.7", "5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; rv:11.0) like gecko", "5.0 (playstation 4 3.55) applewebkit/537.78 (khtml, like gecko)", "5.0 (macintosh; intel mac os x 10_11_4) applewebkit/601.5.17 (khtml, like gecko) version/9.1 safari/601.5.17", "5.0 (macintosh; intel mac os x 10_11_3) applewebkit/601.4.4 (khtml, like gecko) version/9.0.3 safari/601.4.4", "5.0 (ipad; cpu os 9_3_4 like mac os x) applewebkit/601.1.46 (khtml, like gecko) version/9.0 mobile/13g35 safari/601.1", "5.0 (macintosh; intel mac os x 10_9_5) applewebkit/601.7.7 (khtml, like gecko) version/9.1.2 safari/537.86.7", "5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; infopath.3; rv:11.0) like gecko", "5.0 (macintosh; intel mac os x 10_10_5) applewebkit/600.8.9 (khtml, like gecko) version/8.0.8 safari/600.8.9", "5.0 (macintosh; intel mac os x 10_11_1) applewebkit/601.2.7 (khtml, like gecko) version/9.0.1 safari/601.2.7", "5.0 (linux; netcast; u) applewebkit/537.31 (khtml, like gecko) chrome/34.0.1847.137 safari/537.31 smarttv/6.0", "5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; gwx:downloaded; gwx:reserved; r", "5.0 (macintosh; intel mac os x 10_10_5) applewebkit/601.6.17 (khtml, like gecko) version/9.1.1 safari/601.6.17", "5.0 (windows nt 5.1) applewebkit/537.36 (khtml, like gecko) chrome/49.0.2623.112 safari/537.36 opr/36.0.2130.80", "5.0 (macintosh; intel mac os x 10_11) applewebkit/601.1.56 (khtml, like gecko) version/9.0 safari/601.1.56", "5.0 (macintosh; intel mac os x 10_11_2) applewebkit/601.3.9 (khtml, like gecko) version/9.0.2 safari/601.3.9", "5.0 (ipad; cpu os 9_3_2 like mac os x) applewebkit/601.1.46 (khtml, like gecko) version/9.0 mobile/13f69 safari/601.1", "5.0 (macintosh; intel mac os x 10_9_5) applewebkit/601.6.17 (khtml, like gecko) version/9.1.1 safari/537.86.6", "5.0 (windows nt 6.1; wow64) applewebkit/537.36 (khtml, like gecko) chrome/41.0.2272.118 safari/537.36", "5.0 (nintendo wiiu) applewebkit/536.30 (khtml, like gecko) nx/3.0.4.2.12 nintendobrowser/4.3.1.11264.us", "5.0 (macintosh; intel mac os x 10_12) applewebkit/602.1.50 (khtml, like gecko) version/10.0 safari/602.1.50", "5.0 (windows nt 6.1; wow64) applewebkit/537.36 (khtml, like gecko) chrome/43.0.2357.134 safari/537.36 u01-04", "5.0 (windows nt 6.1; wow64) applewebkit/537.36 (khtml, like gecko) chrome/39.0.2171.71 safari/537.36", "5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; infopath.2; rv:11.0) like gecko", "5.0 (macintosh; intel mac os x 10_10_5) applewebkit/601.5.17 (khtml, like gecko) version/9.1 safari/601.5.17", "5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; gwx:downloaded; rv:11.0) like g", "5.0 (windows nt 10.0; wow64) applewebkit/537.36 (khtml, like gecko) chrome/51.0.2683.0 safari/537.36", "5.0 (macintosh; intel mac os x 10_10_5) applewebkit/601.2.7 (khtml, like gecko) version/9.0.1 safari/601.2.7", "5.0 (macintosh; intel mac os x 10_9_5) applewebkit/601.5.17 (khtml, like gecko) version/9.1 safari/537.86.5", "5.0 (macintosh; intel mac os x 10_10_4) applewebkit/600.7.12 (khtml, like gecko) version/8.0.7 safari/600.7.12", "5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; infopath.3; .net4.0c; .net4.0e; rv:11.0) like gecko", "5.0 (windows nt 6.1; wow64) applewebkit/537.36 (khtml, like gecko) chrome/44.0.2403.157 yabrowser/15.9.2403.3043 safari/537.36", "5.0 (macintosh; intel mac os x 10_8_5) applewebkit/600.8.9 (khtml, like gecko) version/6.2.8 safari/537.85.17", "5.0 (macintosh; intel mac os x 10_10_3) applewebkit/600.5.17 (khtml, like gecko) version/8.0.5 safari/600.5.17", "5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; gwx:reserved; rv:11.0) like gec", "5.0 (windows nt 10.0; wow64) applewebkit/537.36 (khtml, like gecko) chrome/50.0.2632.0 safari/537.36", "5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; infopath.3; gwx:downloaded; gwx", "5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; .net4.0c; .net4.0e; rv:11.0) like gecko", "5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; infopath.2; .net4.0c; .net4.0e; rv:11.0) like gecko", "5.0 (windows nt 6.1; wow64) applewebkit/537.36 (khtml, like gecko) maxthon/4.9.3.1000 chrome/39.0.2146.0 safari/537.36", "5.0 (linux; netcast; u) applewebkit/537.31 (khtml, like gecko) chrome/26.0.1410.33 safari/537.31 smarttv/5.0", "5.0 (ipad; cpu os 9_3_3 like mac os x) applewebkit/601.1.46 (khtml, like gecko) version/9.0 mobile/13g34 safari/601.1", "5.0 (windows nt 6.1; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; tablet pc 2.0; infopath.2; .net4.0c; .net4.0e; gwx:managed", "5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; infopath.3; creative autoupdate", "5.0 (macintosh; intel mac os x 10_10_5) applewebkit/601.3.9 (khtml, like gecko) version/9.0.2 safari/601.3.9", "5.0 (windows nt 6.1; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; rv:11.0) like gecko", "5.0 (linux; u) applewebkit/537.4 (khtml, like gecko) chrome/22.0.1229.79 safari/537.4", "5.0 (ipad; cpu os 9_3_5 like mac os x) applewebkit/601.1.46 (khtml, like gecko) version/9.0 mobile/13g36 safari/601.1", "5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; rctw; rv:11.0) like gecko", "5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; infopath.2; .net clr 1.1.4322;", "5.0 (windows nt 6.3; wow64) applewebkit/537.36 (khtml, like gecko) maxthon/4.4.6.1000 chrome/30.0.1599.101 safari/537.36", "5.0 (windows nt 6.3; wow64) applewebkit/537.36 (khtml, like gecko) chrome/52.0.2743.117 safari/537.36 vivaldi/1.3.551.38", "5.0 (windows nt 10.0; wow64) applewebkit/537.36 (khtml, like gecko) maxthon/4.9.3.1000 chrome/39.0.2146.0 safari/537.36", "5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; infopath.2; gwx:downloaded; gwx", "5.0 (macintosh; intel mac os x 10_10_5) applewebkit/601.4.4 (khtml, like gecko) version/9.0.3 safari/601.4.4", "5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; gwx:qualified; rv:11.0) like ge", "5.0 (ipad; cpu os 9_2_1 like mac os x) applewebkit/601.1.46 (khtml, like gecko) version/9.0 mobile/13d15 safari/601.1", "5.0 (ipad; cpu os 9_3_1 like mac os x) applewebkit/601.1.46 (khtml, like gecko) version/9.0 mobile/13e238 safari/601.1", "5.0 (macintosh; intel mac os x 10_10_1) applewebkit/600.2.5 (khtml, like gecko) version/8.0.2 safari/600.2.5", "5.0 (windows nt 10.0; wow64) applewebkit/537.36 (khtml, like gecko) maxthon/4.9.2.1000 chrome/39.0.2146.0 safari/537.36", "5.0 (macintosh; intel mac os x 10_9_5) applewebkit/601.3.9 (khtml, like gecko) version/9.0.2 safari/537.86.3", "5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; officeliveconnector.1.5; office", "5.0 (smart-tv; x11; linux i686) applewebkit/535.20+ (khtml, like gecko) version/5.0 safari/535.20+", "5.0 (ipad; cpu os 9_3_4 like mac os x) applewebkit/601.1 (khtml, like gecko) crios/52.0.2743.84 mobile/13g35 safari/601.1.46", "5.0 (smart-tv; x11; linux armv7l) applewebkit/537.42 (khtml, like gecko) chromium/25.0.1349.2 chrome/25.0.1349.2 safari/537.42", "5.0 (windows nt 6.3; wow64) applewebkit/537.36 (khtml, like gecko) dragon/50.14.22.465 chrome/50.0.2661.102 safari/537.36", "5.0 (windows nt 10.0; wow64) applewebkit/537.36 (khtml, like gecko) dragon/50.14.22.465 chrome/50.0.2661.102 safari/537.36", "5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; markanyeps#25103; rv:11.0) like", "5.0 (windows nt 6.3; wow64) applewebkit/537.36 (khtml, like gecko) chrome/46.0.2490.86 safari/537.36", "5.0 (windows nt 10.0; wow64) applewebkit/537.36 (khtml, like gecko) chrome/41.0.2231.0 safari/537.36", "5.0 (macintosh; intel mac os x 10_9_5) applewebkit/601.4.4 (khtml, like gecko) version/9.0.3 safari/537.86.4", "5.0 (macintosh; intel mac os x 10_9_5) applewebkit/537.78.2 (khtml, like gecko) version/7.0.6 safari/537.78.2", "5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; rctw; gwx:downloaded; gwx:reser", "5.0 (windows nt 6.1; wow64) applewebkit/537.36 (khtml, like gecko) maxthon/4.4.8.2000 chrome/30.0.1599.101 safari/537.36", "5.0 (windows nt 6.1; wow64) applewebkit/537.36 (khtml, like gecko) maxthon/4.4.8.1000 chrome/30.0.1599.101 safari/537.36", "5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; .net4.0c; .net4.0e; infopath.3; rv:11.0) like gecko", "5.0 (macintosh; intel mac os x 10_7_5) applewebkit/537.78.2 (khtml, like gecko) version/6.1.6 safari/537.78.2", "5.0 (macintosh; intel mac os x 10_10_2) applewebkit/600.4.10 (khtml, like gecko) version/8.0.4 safari/600.4.10", "5.0 (windows nt 6.1; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; gwx:downloaded; gwx:reserved; rv:11.0)", "5.0 (nintendo wiiu) applewebkit/536.30 (khtml, like gecko) nx/3.0.4.2.12 nintendobrowser/4.3.1.11264.eu", "5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; gwx:downloaded; gwx:reserved; c", "5.0 (windows nt 6.1; wow64) applewebkit/537.36 (khtml, like gecko) maxthon/4.4.6.1000 chrome/30.0.1599.101 safari/537.36", "5.0 (windows nt 6.3; wow64) applewebkit/537.36 (khtml, like gecko) iron/36.0.1950.0 chrome/36.0.1950.0 safari/537.36", "5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; gwx:red; rv:11.0) like gecko", "5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; zune 4.7; .net4.0c; .net4.0e; infopath.3; gwx:downl", "9.80 (windows nt 6.1; wow64)", "5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0e; .net4.0c; gwx:downloaded; gwx:reserved; r", "5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; 4399box.1357; .net4.0c; .net4.0e; rctw; rv:11.0) li", "5.0 (windows nt 6.3; wow64) applewebkit/537.36 (khtml, like gecko) maxthon/4.4.7.1000 chrome/30.0.1599.101 safari/537.36", "5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; bri/2; rv:11.0) like gecko", "5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; rv:11.0) like gecko", "5.0 (macintosh; intel mac os x 10_11) applewebkit/601.1.35 (khtml, like gecko) version/9.0 safari/601.1.35", "5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; infopath.1; gwx:qualified; rv:1", "5.0 (windows nt 10.0; wow64) applewebkit/537.36 (khtml, like gecko) chrome/40.0.2214.45 safari/537.36", "5.0 (windows nt 10.0; wow64) applewebkit/537.36 (khtml, like gecko) chrome/43.0.2357.130 safari/537.36 overwolfclient/0.97.31.0", "5.0 (macintosh; intel mac os x 10_10_2) applewebkit/600.3.18 (khtml, like gecko) version/8.0.3 safari/600.3.18", "5.0 (windows nt 6.3; wow64) applewebkit/537.36 (khtml, like gecko) maxthon/4.4.8.1000 chrome/30.0.1599.101 safari/537.36", "5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; np06; .net clr 1.1.4322; bri/2;", "5.0 (ipad; cpu os 9_2 like mac os x) applewebkit/601.1.46 (khtml, like gecko) version/9.0 mobile/13c75 safari/601.1", "5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; raidcall; rv:11.0) like gecko", "5.0 (macintosh; intel mac os x 10_10_2) applewebkit/600.4.8 (khtml, like gecko) version/8.0.3 safari/600.4.8", "5.0 (windows nt 6.2; wow64) applewebkit/537.36 (khtml, like gecko) chrome/29.0.1547.76 safari/537.36", "5.0 (ipad; cpu os 8_4_1 like mac os x) applewebkit/600.1.4 (khtml, like gecko) version/8.0 mobile/12h321 safari/600.1.4", "5.0 (windows nt 6.3; wow64; trident/7.0; .net4.0e; .net4.0c; .net clr 3.5.30729; .net clr 2.0.50727; .net clr 3.0.30729; gwx:downloaded; gwx:reserved; tnjb; rv:11.0) like gecko", "5.0 (ipad; cpu os 8_4 like mac os x) applewebkit/600.1.4 (khtml, like gecko) version/8.0 mobile/12h143 safari/600.1.4", "5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; infopath.3; bri/2; .net4.0c; .net4.0e; rv:11.0) lik", "5.0 (windows nt 6.1; wow64) applewebkit/537.36 (khtml, like gecko) chrome/36.0.1985.143 safari/537.36", "5.0 (windows nt 6.1; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; tablet pc 2.0; rv:11.0) like gecko", "5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; infopath.3; .net4.0e; gwx:reserved; rv:11", "5.0 (macintosh; intel mac os x 10_8_5) applewebkit/537.74.9 (khtml, like gecko) version/6.1.2 safari/537.74.9", "5.0 (windows nt 6.1; win64; x64) applewebkit/537.36 (khtml, like gecko) chrome/48.0.2536.0 safari/537.36", "5.0 (macintosh; intel mac os x 10_10_3) applewebkit/600.6.3 (khtml, like gecko) version/8.0.6 safari/600.6.3", "5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; infopath.2; .net4.0c; .net4.0e; gwx:reserved; rv:11", "5.0 (windows nt 6.1; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; infopath.3; rv:11.0) like gecko", "5.0 (linux; android 4.0.4; kfjwi build/imm76d) applewebkit/537.36 (khtml, like gecko) silk/51.2.1 like chrome/51.0.2704.81 safari/537.36", "5.0 (windows nt 6.1; wow64) applewebkit/537.36 (khtml, like gecko) maxthon/4.9.2.1000 chrome/39.0.2146.0 safari/537.36", "5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0e; .net4.0c; gwx:downloaded; rv:11.0) like g", "5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; infopath.3; .net4.0e; rv:11.0) like gecko", "5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; .net clr 1.1.4322; rv:11.0) lik", "5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; infopath.3; rctw; rv:11.0) like", "5.0 (windows nt 5.1) applewebkit/537.36 (khtml, like gecko) chrome/39.0.2171.71 safari/537.36", "5.0 (linux; android 4.0.3; kftt build/iml74k) applewebkit/537.36 (khtml, like gecko) silk/51.2.1 like chrome/51.0.2704.81 safari/537.36", "5.0 (windows nt 6.3; wow64) applewebkit/537.36 (khtml, like gecko) maxthon/4.4.8.2000 chrome/30.0.1599.101 safari/537.36", "5.0 (windows nt 6.1; wow64) applewebkit/537.36 (khtml, like gecko) chrome/27.0.1453.110 safari/537.36 coolnovo/2.0.9.20", "5.0 (macintosh; intel mac os x 10_9_5) applewebkit/601.2.7 (khtml, like gecko) version/9.0.1 safari/537.86.2", "5.0 (macintosh; intel mac os x 10_10) applewebkit/600.1.25 (khtml, like gecko) version/8.0 safari/600.1.25", "5.0 (windows nt 6.3; wow64) applewebkit/537.36 (khtml, like gecko) maxthon/4.4.5.3000 chrome/30.0.1599.101 safari/537.36", "5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; mcafee; gwx:downloaded; gwx:res", "5.0 (windows nt 10.0; win64; x64) applewebkit/537.36 (khtml, like gecko) chrome/46.0.2486.0 safari/537.36 edge/13.10586"];
        e.exports = {
            PLAYER_CORE_HOST: {
                test: "//cvp-test.twitch.tv/",
                beta: "//cvp-test.twitch.tv/",
                prod: "//cvp.twitch.tv/",
                dev: "//player-core-web.twitch.tv/"
            },
            PLAYER_CORE_FILE_NAME: "/player-core-min.js",
            PLAYER_CORE_FILE_NAME_DEBUG: "/player-core.js",
            SCRIPT_ID: "TwitchPlayerCoreModule",
            EXPERIMENT_ID: "45d73059-3cea-436a-b41f-86bb05f845f2",
            DEFAULT_VERSION: "1.7.7",
            CAN_LOAD: function() {
                try {
                    return "undefined" != typeof MediaSource && MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"') && !n()
                } catch (e) {
                    return console.log(e), !1
                }
            }(),
            SPADE_EVENT_NAME: "player_core_error",
            MAX_ATTEMPTS: 3,
            SETTING_CRITERIA: {
                fxf: !r(),
                fxfll: !r(),
                catup: !r()
            }
        }
    }, function(e, t, n) {
        function r(e, t) {
            return i(e, t)
        }
        var i = n(131);
        e.exports = r
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            if (e && e.__esModule) return e;
            var t = {};
            if (null != e)
                for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
            return t.default = e, t
        }

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function a(e) {
            function t() {
                r = new u.default, i = document.createElement("video"), i.autoplay = e.autoplay, e.playsinline && (i.setAttribute("webkit-playsinline", ""), i.setAttribute("playsinline", "")), setTimeout(function() {
                    r.emit(p.PLAYER_INIT)
                }, 0)
            }
            var n = this,
                r = void 0,
                i = void 0,
                a = void 0,
                o = void 0;
            n.attach = function(e) {
                $(e).append(i), i.addEventListener(h, function() {
                    null !== i.error && (i.error.code === i.error.MEDIA_ERR_SRC_NOT_SUPPORTED ? (r.emit(p.OFFLINE), r.emit(d.ENDED)) : r.emit(h))
                }), i.addEventListener(_, function() {
                    r.emit(p.QUALITY_CHANGE, n.getQuality())
                })
            }, n.destroy = function() {}, n.addEventListener = function(e, t) {
                e !== h && i.addEventListener(e, t), r.on(e, t)
            }, n.removeEventListener = function(e, t) {
                i.removeEventListener(e, t), r.off(e, t)
            }, n.getNetworkProfile = function() {
                return []
            }, n.getError = function() {
                return null !== i.error && i.error.code !== i.error.MEDIA_ERR_SRC_NOT_SUPPORTED ? i.error : null
            }, n.getSrc = function() {
                return i.src
            }, n.setSrc = function(e) {
                i.src = e
            }, n.getNetworkState = function() {
                return i.networkState
            }, n.getBuffered = function() {
                return i.buffered
            }, n.load = function() {
                i.load()
            }, n.getReadyState = function() {
                return i.readyState
            }, n.getSeeking = function() {
                return i.seeking
            }, n.getStats = function() {
                return m
            }, n.getCurrentTime = function() {
                return i.currentTime
            }, n.setCurrentTime = function(e) {
                i.currentTime = e
            }, n.getDuration = function() {
                return i.duration
            }, n.getPaused = function() {
                return i.paused
            }, n.getPlaybackRate = function() {
                return i.playbackRate
            }, n.setPlaybackRate = function(e) {
                i.playbackRate = e
            }, n.getPlayed = function() {
                return i.played
            }, n.getEnded = function() {
                return i.ended || !!i.error && i.error.code === i.error.MEDIA_ERR_SRC_NOT_SUPPORTED
            }, n.getAutoplay = function() {
                return i.autoplay
            }, n.setLoop = function(e) {
                i.loop = e
            }, n.play = function() {
                i.play()
            }, n.pause = function() {
                i.pause()
            }, n.getControls = function() {
                return !1
            }, n.setControls = function() {}, n.getVolume = function() {
                return i.volume
            }, n.setVolume = function(e) {
                i.volume = e
            }, n.getMuted = function() {
                return i.muted
            }, n.setMuted = function(e) {
                i.muted = e
            }, n.getChannel = function() {
                return a
            }, n.setChannel = function(e, t) {
                a = e, o = null, t.streamUrl.then(function(e) {
                    n.setSrc(e)
                })
            }, n.getVideo = function() {
                return o
            }, n.setVideo = function(e, t) {
                o = e, a = null, t.streamUrl.then(function(e) {
                    n.setSrc(e)
                })
            }, n.getQuality = function() {
                return "auto"
            }, n.setQuality = function() {}, n.getQualities = function() {
                return [{
                    bandwidth: -1,
                    resolution: "0x0",
                    group: "auto",
                    name: "Auto"
                }]
            }, n.getVideoInfo = function() {
                return {}
            }, n.getCaption = function() {}, n.getBackend = function() {
                return v
            }, n.getVersion = function() {}, n.elapsedTime = function() {}, n.absAvailable = function() {}, t()
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.BACKEND_HLS = void 0, t.BackendHls = a;
        var o = n(10),
            s = i(o),
            l = n(164),
            u = i(l),
            c = n(179),
            d = r(c),
            f = n(178),
            p = r(f),
            _ = "loadedmetadata",
            h = "error",
            m = {
                playbackRate: 0,
                fps: 0,
                bufferSize: 0,
                skippedFrames: 0,
                memoryUsage: "Unknown",
                hlsLatencyEncoder: 0,
                hlsLatencyBroadcaster: 0,
                videoResolution: "0x0",
                displayResolution: "0x0"
            },
            v = t.BACKEND_HLS = "hls";
        a.canPlay = function() {
            var e = document.createElement("video");
            return !!(0, s.default)(e.canPlayType) && e.canPlayType("application/vnd.apple.mpegURL")
        }
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            if (e && e.__esModule) return e;
            var t = {};
            if (null != e)
                for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
            return t.default = e, t
        }

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.CAST_SENDER_URL = t.BackendChromecast = void 0;
        var a = n(164),
            o = i(a),
            s = n(326),
            l = n(168),
            u = r(l),
            c = n(200),
            d = n(179),
            f = r(d),
            p = n(328),
            _ = r(p),
            h = n(329),
            m = r(h),
            v = t.BackendChromecast = {},
            y = t.CAST_SENDER_URL = "https://www.gstatic.com/cv/js/sender/v1/cast_sender.js",
            g = 5;
        ! function() {
            function e() {
                function e() {
                    if (window.chrome)
                        if (chrome.cast && chrome.cast.isAvailable) t.resolve(!0);
                        else {
                            window.__onGCastApiAvailable = function(e) {
                                t.resolve(e)
                            };
                            var e = g,
                                n = setInterval(function() {
                                    var r = (chrome.cast && chrome.cast.isAvailable, !1);
                                    (r || e <= 0) && (t.resolve(r), clearInterval(n)), e--
                                }, 1e3)
                        }
                    else t.resolve(!1)
                }
                var t = new s.Deferred;
                return $.ajax({
                    url: y,
                    dataType: "script",
                    cache: !0,
                    success: e
                }), t.promise
            }

            function t(e) {
                if (e) {
                    var t = new chrome.cast.SessionRequest(u.chromecastId),
                        n = new chrome.cast.ApiConfig(t, r, a, chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED);
                    chrome.cast.initialize(n)
                }
            }

            function n() {
                w = !1, E()
            }

            function r(e) {
                C = e, C.addUpdateListener(i), O && M && p()
            }

            function i() {
                switch (C.status) {
                    case chrome.cast.SessionStatus.CONNECTED:
                        var e = C.receiver;
                        A.volume !== e.volume.level && (A.volume = e.volume.level, S.emit(f.VOLUME_CHANGE)), A.muted !== e.volume.muted && (A.muted = e.volume.muted, S.emit(f.VOLUME_CHANGE));
                        break;
                    case chrome.cast.SessionStatus.STOPPED:
                        l(null), C.removeUpdateListener(i), C = null, I = !1, E()
                }
            }

            function a(e) {
                w = e === chrome.cast.ReceiverAvailability.AVAILABLE, E()
            }

            function l(e) {
                P && P.removeUpdateListener(d), P = e, I = !1, E(), P && P.addUpdateListener(d)
            }

            function d() {
                A.currentTime !== P.currentTime && (A.currentTime = P.currentTime, S.emit(f.TIME_UPDATE)), A.volume !== P.volume.level && (A.volume = P.volume.level, S.emit(f.VOLUME_CHANGE)), A.muted !== P.volume.muted && (A.muted = P.volume.muted, S.emit(f.VOLUME_CHANGE)), A.playbackRate !== P.playbackRate && (A.playbackRate = P.playbackRate, S.emit(f.RATE_CHANGE));
                var e = P.playerState;
                A.playerState !== P.playerState && (e === chrome.cast.media.PlayerState.PLAYING ? S.emit(f.PLAYING) : e === chrome.cast.media.PlayerState.PAUSED ? S.emit(f.PAUSE) : e === chrome.cast.media.PlayerState.BUFFERING, A.playerState = P.playerState)
            }

            function p() {
                I = !0, E();
                var e = (0, c.channelInfo)(O);
                e.then(function(e) {
                    var t = new chrome.cast.media.MediaInfo(M, "application/x-mpegurl");
                    t.streamType = chrome.cast.media.StreamType.LIVE;
                    var n = new chrome.cast.media.GenericMediaMetadata;
                    n.subtitle = e.game, n.title = e.display_name, n.images = [new chrome.cast.Image(e.logo)], t.metadata = n, t.customData = {
                        channel: O
                    };
                    var r = new chrome.cast.media.LoadRequest(t);
                    r.autoplay = !0, C.loadMedia(r, l)
                }, function(e) {
                    C.stop(), h(e)
                })
            }

            function h(e) {
                e && (k = e, S.emit(f.ERROR))
            }

            function E() {
                var e = N,
                    t = R;
                P ? (N = _.NETWORK_LOADING, R = m.HAVE_METADATA, S.emit(f.CAN_PLAY)) : I ? (N = _.NETWORK_LOADING, R = m.HAVE_NOTHING) : w && O ? (N = _.NETWORK_IDLE, R = m.HAVE_NOTHING) : (N = _.NETWORK_EMPTY, R = m.HAVE_NOTHING), N !== e && (N === _.NETWORK_LOADING ? (S.emit(f.LOADSTART), S.emit(f.PROGRESS)) : N === _.NETWORK_IDLE ? S.emit(f.SUSPEND) : N === _.NETWORK_EMPTY && S.emit(f.EMPTIED)), R !== t && (R === m.HAVE_METADATA ? S.emit(f.LOADED_METADATA) : R === m.HAVE_NOTHING && S.emit(f.ENDED))
            }

            function b(e) {
                h(e)
            }
            var T = v,
                S = new o.default,
                A = {},
                C = void 0,
                P = void 0,
                O = void 0,
                w = void 0,
                k = void 0,
                I = void 0,
                N = void 0,
                R = void 0,
                L = !1,
                M = null;
            T.init = function() {
                if (S.removeAllListeners(), !L) {
                    L = !0, n();
                    var r = e();
                    r.then(t)
                }
            }, T.destroy = function() {}, T.addEventListener = function(e, t) {
                S.on(e, t)
            }, T.removeEventListener = function(e, t) {
                S.off(e, t)
            }, T.getNetworkProfile = function() {
                return []
            }, T.getError = function() {
                return k
            }, T.getSrc = function() {}, T.setSrc = function() {}, T.getNetworkState = function() {
                return N
            }, T.load = function() {
                chrome.cast.requestSession(r, b)
            }, T.getBuffered = function() {
                return {
                    length: 0
                }
            }, T.getReadyState = function() {
                return R
            }, T.getSeeking = function() {}, T.getCurrentTime = function() {
                if (P) return P.getEstimatedTime()
            }, T.setCurrentTime = function(e) {
                if (P) {
                    var t = new chrome.cast.media.SeekRequest;
                    t.time = e, P.seek(t)
                }
            }, T.getDuration = function() {}, T.getPaused = function() {
                if (P) return P.playerState === chrome.cast.media.PlayerState.PAUSED
            }, T.getPlaybackRate = function() {
                return 1
            }, T.setPlaybackRate = function() {}, T.getPlayed = function() {}, T.getEnded = function() {}, T.getAutoplay = function() {}, T.setLoop = function() {}, T.play = function() {
                if (P) {
                    var e = new chrome.cast.media.PlayRequest;
                    P.play(e)
                } else T.load()
            }, T.pause = function() {
                if (P) {
                    var e = new chrome.cast.media.PauseRequest;
                    P.pause(e)
                }
            }, T.getControls = function() {}, T.setControls = function() {}, T.elapsedTime = function() {}, T.getVolume = function() {
                if (P) return P.volume.level
            }, T.setVolume = function(e) {
                if (P) {
                    var t = new chrome.cast.Volume(e, null),
                        n = new chrome.cast.media.VolumeRequest(t);
                    P.setVolume(n)
                }
            }, T.getMuted = function() {
                return P ? P.volume.muted : C ? C.receiver.volume.muted : void 0
            }, T.setMuted = function(e) {
                if (P) {
                    var t = new chrome.cast.Volume(null, e),
                        n = new chrome.cast.media.VolumeRequest(t);
                    P.setVolume(n)
                }
            }, T.getQuality = function() {
                return "auto"
            }, T.setQuality = function() {}, T.getQualities = function() {
                return [{
                    bandwidth: -1,
                    resolution: "0x0",
                    group: "auto",
                    name: "Auto"
                }]
            }, T.getChannel = function() {
                return O
            }, T.setChannel = function(e, t) {
                O = e, t.castStreamUrl.then(function(e) {
                    M = e, C && O && M && p()
                })
            }, T.getVideo = function() {
                return null
            }, T.setVideo = function() {
                O = null, M = null
            }, T.getStats = function() {
                return {}
            }, T.getVideoInfo = function() {
                return {}
            }, T.getCaption = function() {}, T.getBackend = function() {
                return "chromecast"
            }, T.stop = function() {
                C && C.stop()
            }, T.getDevice = function() {
                if (C && C.receiver) return C.receiver.friendlyName
            }, T.absAvailable = function() {}
        }()
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            if (e && e.__esModule) return e;
            var t = {};
            if (null != e)
                for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
            return t.default = e, t
        }

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function a(e, t) {
            function n() {
                l = e.getReadyState() >= e.HAVE_CURRENT_DATA && !e.getEnded() ? e : t, e.addEventListener(h.CAN_PLAY, function() {
                    l !== e && o(t, e)
                }), e.addEventListener(h.ENDED, function() {
                    l === e && o(e, t)
                }), m.forEach(function(e) {
                    p.allEvents.forEach(function(t) {
                        e.addEventListener(t, function() {
                            var n = Array.prototype.slice.call(arguments);
                            r(e, t, n)
                        })
                    })
                })
            }

            function r(n, r, i) {
                i.unshift(r), (r !== h.ENDED || n !== e || t.getEnded()) && (l === n ? a(i) : _.push(i))
            }

            function i() {
                _.forEach(function(e) {
                    a(e)
                }), _ = []
            }

            function a(e) {
                var t = e[0],
                    n = [h.LOADSTART],
                    r = !1;
                (0, u.default)(n, t) && (r = (0, s.default)(y, t), y[t] = !0), r || (t === h.ENDED && (y = []), f.emit.apply(f, e))
            }

            function o(e, t) {
                e.pause(), l = t, i(), e.getDuration() !== t.getDuration() && f.emit(h.DURATION_CHANGE), e.getCurrentTime() !== t.getCurrentTime() && f.emit(h.TIME_UPDATE), e.getBuffered() !== t.getBuffered() && f.emit(v.BUFFER_CHANGE), e.getQuality() !== t.getQuality() && f.emit(v.QUALITY_CHANGE), e.getQualities() !== t.getQualities() && f.emit(v.QUALITIES_CHANGE), t.play()
            }
            var l, c = this,
                f = new d.default,
                _ = [],
                m = [e, t],
                y = {};
            c.destroy = function() {
                e.destroy(), t.destroy()
            }, c.addEventListener = function(e, t) {
                f.on(e, t)
            }, c.removeEventListener = function(e, t) {
                f.off(e, t)
            }, c.getNetworkProfile = function() {
                return l.getNetworkProfile()
            }, c.getError = function() {
                return l.getError()
            }, c.getSrc = function() {
                return l.getSrc()
            }, c.absAvailable = function() {
                return l.absAvailable()
            }, c.setSrc = function(e) {
                m.forEach(function(t) {
                    t.setSrc(e)
                })
            }, c.getNetworkState = function() {
                return l.getNetworkState()
            }, c.getBuffered = function() {
                return l.getBuffered()
            }, c.load = function() {
                l.load()
            }, c.getReadyState = function() {
                return l.getReadyState()
            }, c.getSeeking = function() {
                return l.getSeeking()
            }, c.getStats = function() {
                return l.getStats()
            }, c.getCurrentTime = function() {
                return l.getCurrentTime()
            }, c.setCurrentTime = function(e) {
                m.forEach(function(t) {
                    return t.setCurrentTime(e)
                })
            }, c.getDuration = function() {
                return l.getDuration()
            }, c.getPaused = function() {
                return l.getPaused()
            }, c.getPlaybackRate = function() {
                return l.getPlaybackRate()
            }, c.setPlaybackRate = function(e) {
                m.forEach(function(t) {
                    return t.setPlaybackRate(e)
                })
            }, c.getPlayed = function() {
                return l.getPlayed()
            }, c.getEnded = function() {
                return l.getEnded()
            }, c.getAutoplay = function() {
                return l.getAutoplay()
            }, c.setLoop = function(e) {
                m.forEach(function(t) {
                    t.setLoop(e)
                })
            }, c.play = function() {
                l.play()
            }, c.pause = function() {
                l.pause()
            }, c.getControls = function() {
                return l.getControls()
            }, c.setControls = function(e) {
                m.forEach(function(t) {
                    t.setControls(e)
                })
            }, c.getVolume = function() {
                return l.getVolume()
            }, c.setVolume = function(e) {
                m.forEach(function(t) {
                    t.setVolume(e)
                })
            }, c.getMuted = function() {
                return l.getMuted()
            }, c.setMuted = function(e) {
                m.forEach(function(t) {
                    t.setMuted(e)
                })
            }, c.getQuality = function() {
                return l.getQuality()
            }, c.setQuality = function(e) {
                m.forEach(function(t) {
                    t.setQuality(e)
                })
            }, c.getQualities = function() {
                return l.getQualities()
            }, c.setChannel = function(e) {
                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null;
                y = {}, m.forEach(function(n) {
                    n.setChannel(e, t)
                })
            }, c.elapsedTime = function() {
                return l.elapsedTime()
            }, c.getBackend = function() {
                return l.getBackend()
            }, c.setVideo = function(e) {
                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null;
                y = {}, m.forEach(function(n) {
                    n.setVideo(e, t)
                })
            }, c.getVideoInfo = function() {
                return l.getVideoInfo()
            }, c.getCaption = function() {
                return l.getCaption()
            }, n()
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.BackendMulti = a;
        var o = n(349),
            s = i(o),
            l = n(53),
            u = i(l),
            c = n(164),
            d = i(c),
            f = n(168),
            p = r(f),
            _ = n(179),
            h = r(_),
            m = n(178),
            v = r(m)
    }, function(e, t, n) {
        function r(e, t) {
            return null != e && a(e, t, i)
        }
        var i = n(350),
            a = n(108);
        e.exports = r
    }, function(e, t) {
        function n(e, t) {
            return null != e && i.call(e, t)
        }
        var r = Object.prototype,
            i = r.hasOwnProperty;
        e.exports = n
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i() {
            var e = this,
                t = new o.default;
            e.attach = function(e) {}, e.destroy = function() {}, e.getVersion = function() {
                return ""
            }, e.addEventListener = function(e, n) {
                t.on(e, n)
            }, e.removeEventListener = function(e, n) {
                t.off(e, n)
            }, e.getError = function() {
                return s
            }, e.getSrc = function() {}, e.getStats = function() {
                return {}
            }, e.setSrc = function(e) {}, e.getNetworkState = function() {}, e.getBuffered = function() {}, e.load = function() {}, e.getReadyState = function() {}, e.getSeeking = function() {}, e.getCurrentTime = function() {}, e.setCurrentTime = function(e) {}, e.getDuration = function() {}, e.getPaused = function() {}, e.getPlaybackRate = function() {}, e.setPlaybackRate = function(e) {}, e.getPlayed = function() {}, e.getEnded = function() {}, e.getAutoplay = function() {}, e.setLoop = function(e) {}, e.play = function() {}, e.pause = function() {}, e.getControls = function() {}, e.setControls = function(e) {}, e.getVolume = function() {}, e.setVolume = function(e) {}, e.getMuted = function() {}, e.setMuted = function(e) {}, e.getQuality = function() {}, e.setQuality = function(e) {}, e.getQualities = function() {
                return []
            }, e.setChannel = function(e, t) {}, e.elapsedTime = function() {}, e.setVideo = function(e, t) {}, e.getVideoInfo = function() {}, e.getCaption = function() {}, e.getBackend = function() {
                return l
            }, e.absAvailable = function() {}
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.BACKEND_BLANK_TYPE = t.BACKEND_BLANK_ERROR = void 0, t.BackendBlank = i;
        var a = n(164),
            o = r(a),
            s = t.BACKEND_BLANK_ERROR = "Blank Backend Error",
            l = t.BACKEND_BLANK_TYPE = "blank"
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i() {
            var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0],
                t = e || h.localStore.get(m, p.DEFAULT_CAPTION.enabled);
            return {
                type: g,
                captions: {
                    enabled: t,
                    preset: h.localStore.get(v, p.DEFAULT_CAPTION.preset),
                    style: h.localStore.get(y, p.DEFAULT_CAPTION.style)
                }
            }
        }

        function a(e) {
            return {
                type: E,
                captions: {
                    data: e
                }
            }
        }

        function o(e) {
            return h.localStore.set(m, e), {
                type: T,
                captions: {
                    enabled: e
                }
            }
        }

        function s(e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
            return h.localStore.set(v, e),
                function(n, r) {
                    var i = r().captions.style,
                        a = l((0, c.default)({}, i, t));
                    return h.localStore.set(y, a), n({
                        type: b,
                        captions: {
                            preset: e,
                            style: a
                        }
                    })
                }
        }

        function l(e) {
            var t = (0, f.default)(e.fontSize, _.fontSizeMap.min, _.fontSizeMap.max);
            return (0, c.default)({}, e, {
                fontSize: t
            })
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.ACTION_TOGGLE_CAPTIONS = t.ACTION_SET_CAPTIONS_PRESET = t.ACTION_SET_CAPTIONS_DATA = t.ACTION_INITIALIZE_CAPTIONS_SETTINGS = t.KEY_CAPTIONS_STYLE = t.KEY_CAPTIONS_PRESET = t.KEY_CAPTIONS_ENABLED = void 0, t.initializeCaptionsSettings = i, t.setCaptionsData = a, t.setCaptionsEnabled = o, t.setCaptionsPreset = s;
        var u = n(118),
            c = r(u),
            d = n(353),
            f = r(d),
            p = n(355),
            _ = n(356),
            h = n(250),
            m = t.KEY_CAPTIONS_ENABLED = "captionsEnabled",
            v = t.KEY_CAPTIONS_PRESET = "captionsPreset",
            y = t.KEY_CAPTIONS_STYLE = "captionsStyle",
            g = t.ACTION_INITIALIZE_CAPTIONS_SETTINGS = "captions settings initialized",
            E = t.ACTION_SET_CAPTIONS_DATA = "captions data received",
            b = t.ACTION_SET_CAPTIONS_PRESET = "captions preset selected",
            T = t.ACTION_TOGGLE_CAPTIONS = "captions toggled"
    }, function(e, t, n) {
        function r(e, t, n) {
            return void 0 === n && (n = t, t = void 0), void 0 !== n && (n = a(n), n = n === n ? n : 0), void 0 !== t && (t = a(t), t = t === t ? t : 0), i(a(e), t, n)
        }
        var i = n(354),
            a = n(61);
        e.exports = r
    }, function(e, t) {
        function n(e, t, n) {
            return e === e && (void 0 !== n && (e = e <= n ? e : n), void 0 !== t && (e = e >= t ? e : t)), e
        }
        e.exports = n
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : c,
                t = arguments[1];
            switch (t.type) {
                case l.ACTION_INITIALIZE_CAPTIONS_SETTINGS:
                case l.ACTION_SET_CAPTIONS_PRESET:
                case l.ACTION_TOGGLE_CAPTIONS:
                    return (0, o.default)({}, e, t.captions);
                case l.ACTION_SET_CAPTIONS_DATA:
                    return (0, o.default)({}, e, {
                        data: t.captions.data,
                        available: e.available || t.captions.data.data.length > 0
                    });
                case u.ACTION_SET_STREAM:
                    return (0, o.default)({}, e, {
                        available: c.available,
                        data: c.data
                    });
                default:
                    return e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.DEFAULT_CAPTION = void 0, t.captions = i;
        var a = n(118),
            o = r(a),
            s = n(356),
            l = n(352),
            u = n(334),
            c = t.DEFAULT_CAPTION = {
                enabled: !1,
                available: !1,
                preset: "white-on-black",
                data: null,
                style: s.presetMap["white-on-black"]
            }
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e, t) {
            return "transparent" === e ? "transparent" : "rgba(" + e + "," + t + ")"
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.fontSizeMap = t.backgroundColorMap = t.fontColorMap = t.verticalPositionMap = t.fontBoldMap = t.fontItalicMap = t.fontUnderlineMap = t.alignmentMap = t.edgeMap = t.opacityMap = t.fontMap = t.presetMap = void 0, t.calculateRGBA = i;
        var a = n(118),
            o = r(a),
            s = {
                fontSize: 20,
                font: "prop-sans-serif",
                fontOpacity: "solid",
                alignment: "left",
                edge: "none",
                verticalPosition: "bottom",
                backgroundColorName: "black",
                backgroundOpacity: "solid",
                windowColorName: "transparent",
                windowOpacity: "solid",
                fontUnderline: "none",
                fontBold: "none",
                fontItalic: "none"
            },
            l = (0, o.default)({}, s, {
                backgroundColorName: "black",
                backgroundOpacity: "translucent"
            });
        t.presetMap = {
            "white-on-black": (0, o.default)({}, s, {
                fontColorName: "white"
            }),
            "cyan-on-black": (0, o.default)({}, s, {
                fontColorName: "cyan"
            }),
            "yellow-on-black": (0, o.default)({}, s, {
                fontColorName: "yellow"
            }),
            "lime-on-black": (0, o.default)({}, s, {
                fontColorName: "green"
            }),
            "magenta-on-black": (0, o.default)({}, s, {
                fontColorName: "magenta"
            }),
            "white-on-trans-black": (0, o.default)({}, l, {
                fontColorName: "white"
            }),
            "cyan-on-trans-black": (0, o.default)({}, l, {
                fontColorName: "cyan"
            }),
            "yellow-on-trans-black": (0, o.default)({}, l, {
                fontColorName: "yellow"
            }),
            "lime-on-trans-black": (0, o.default)({}, l, {
                fontColorName: "green"
            }),
            "magenta-on-trans-black": (0, o.default)({}, l, {
                fontColorName: "magenta"
            }),
            "black-on-white": (0, o.default)({}, s, {
                backgroundColorName: "white",
                fontColorName: "black"
            })
        }, t.fontMap = {
            "mono-serif": {
                fontFamily: '"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',
                fontVariant: "normal"
            },
            "prop-serif": {
                fontFamily: '"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',
                fontVariant: "normal"
            },
            "mono-sans-serif": {
                fontFamily: '"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',
                fontVariant: "normal"
            },
            "prop-sans-serif": {
                fontFamily: 'Verdana, Arial, Helvetica, "PT Sans Caption", sans-serif',
                fontVariant: "normal"
            },
            casual: {
                fontFamily: '"Comic Sans MS", Impact, Handlee, fantasy',
                fontVariant: "normal"
            },
            cursive: {
                fontFamily: '"Monotype Corsiva", "URW Chancery L", "Apple Chancery", "Dancing Script", cursive',
                fontVariant: "normal"
            },
            "small-capitals": {
                fontFamily: '"Arial Unicode Ms", Arial, Helvetica, Verdana, "Marcellus SC", sans-serif',
                fontVariant: "small-caps"
            }
        }, t.opacityMap = {
            semiTransparent: {
                opacityValue: .3,
                animation: "none"
            },
            transparent: {
                opacityValue: 0,
                animation: "none"
            },
            translucent: {
                opacityValue: .6,
                animation: "none"
            },
            solid: {
                opacityValue: 1,
                animation: "none"
            },
            flashing: {
                opacityValue: 1,
                animation: "blink .75s linear infinite"
            }
        }, t.edgeMap = {
            depressed: {
                textShadow: "-1px -1px 2px #000"
            },
            uniform: {
                textShadow: "-2px -2px 0 #000, -2px 2px 0 #000, -2px 0 0 #000, 2px -2px 0 #000, 2px 2px 0 #000, 2px 0 0 #000, 0 -2px 0 #000, 0 2px 0 #000"
            },
            drop: {
                textShadow: "0 2px 5px #000"
            },
            raised: {
                textShadow: "1px 1px 2px #000"
            },
            none: {
                textShadow: "none"
            }
        }, t.alignmentMap = {
            left: {
                textAlign: "left"
            },
            center: {
                textAlign: "center"
            },
            right: {
                textAlign: "right"
            }
        }, t.fontUnderlineMap = {
            underline: {
                textDecoration: "underline"
            },
            none: {
                textDecoration: "normal"
            }
        }, t.fontItalicMap = {
            italic: {
                fontStyle: "italic"
            },
            none: {
                fontStyle: "normal"
            }
        }, t.fontBoldMap = {
            bold: {
                fontWeight: "bold"
            },
            none: {
                fontWeight: "normal"
            }
        }, t.verticalPositionMap = {
            top: {
                top: "18%",
                bottom: "auto"
            },
            bottom: {
                top: "auto",
                bottom: "10%"
            }
        }, t.fontColorMap = {
            black: {
                fontColorValue: "0,0,0"
            },
            white: {
                fontColorValue: "255,255,255"
            },
            red: {
                fontColorValue: "255,0,0"
            },
            green: {
                fontColorValue: "0,255,0"
            },
            blue: {
                fontColorValue: "0,0,255"
            },
            yellow: {
                fontColorValue: "255,255,0"
            },
            magenta: {
                fontColorValue: "255,0,255"
            },
            cyan: {
                fontColorValue: "0,255,255"
            }
        }, t.backgroundColorMap = {
            black: {
                backgroundColorValue: "0,0,0"
            },
            white: {
                backgroundColorValue: "255,255,255"
            },
            red: {
                backgroundColorValue: "255,0,0"
            },
            green: {
                backgroundColorValue: "0,255,0"
            },
            blue: {
                backgroundColorValue: "0,0,255"
            },
            yellow: {
                backgroundColorValue: "255,255,0"
            },
            magenta: {
                backgroundColorValue: "255,0,255"
            },
            cyan: {
                backgroundColorValue: "0,255,255"
            },
            lightgray: {
                backgroundColorValue: "199,199,199"
            },
            gray: {
                backgroundColorValue: "145,145,145"
            },
            darkgray: {
                backgroundColorValue: "91,91,91"
            },
            transparent: {
                backgroundColorValue: "transparent"
            }
        }, t.fontSizeMap = {
            increment: 5,
            decrement: -5,
            max: 40,
            min: 10
        }
    }, function(e, t) {
        "use strict";

        function n(e) {
            return {
                type: r,
                backend: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.setBackend = n;
        var r = t.ACTION_SET_BACKEND = "set backend"
    }, function(e, t) {
        "use strict";

        function n(e) {
            return {
                type: r,
                playerBackendType: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.setPlayerBackendType = n;
        var r = t.ACTION_SET_PLAYER_BACKEND_TYPE = "set player backend type"
    }, function(e, t, n) {
        "use strict";

        function r(e, t, n) {
            var r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : {},
                a = i(e, t, n, r);
            return {
                type: f,
                adsManager: a
            }
        }

        function i(e, t, n, r) {
            switch (t.getBackend()) {
                case s.BACKEND_FLASH:
                    return new u.DecliningAdsManager(n, new d.FlashManager(t, n));
                case l.BACKEND_HLS:
                case o.BACKEND_PLAYER_CORE:
                    return new u.DecliningAdsManager(n, new a.IMAManager(e, t, n, r));
                default:
                    return c.nullAdsManager
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.ACTION_CREATE_ADS_MANAGER = void 0, t.createAdsManager = r;
        var a = n(360),
            o = n(339),
            s = n(319),
            l = n(346),
            u = n(365),
            c = n(372),
            d = n(373),
            f = t.ACTION_CREATE_ADS_MANAGER = "create ads manager"
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            if (e && e.__esModule) return e;
            var t = {};
            if (null != e)
                for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
            return t.default = e, t
        }

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function a(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.IMAManager = void 0;
        var o = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            s = n(164),
            l = i(s),
            u = n(240),
            c = n(117),
            d = i(c),
            f = n(115),
            p = r(f),
            _ = n(167),
            h = n(220),
            m = n(177),
            v = r(m),
            y = n(243),
            g = n(361),
            E = n(363),
            b = n(183),
            T = n(364),
            S = n(370),
            A = n(371),
            C = $('<div class="js-ima-ads-container ima-ads-container"></div>'),
            P = "html5",
            O = "ima",
            w = [{
                width: 300,
                height: 250
            }, {
                width: 300,
                height: 60
            }],
            k = {
                preroll: y.AdRollTypes.PREROLL,
                midroll: y.AdRollTypes.MIDROLL,
                postroll: y.AdRollTypes.POSTROLL
            },
            I = (t.IMAManager = function() {
                function e(t, n, r) {
                    var i = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : {};
                    a(this, e), this._videoContainer = t, this._backend = n, this._store = r, this._unsubs = [], this._paused = !1, this._contentPauseRequested = !1, this._eventEmitter = new l.default, this._currentAdsManager = R, this._aaxManager = new T.AAXManager(T.AAX_TWITCH_PUBLISHER_ID, T.AAX_VIDEO_AD_SERVER, this._store, i);
                    var o = this._store.getState(),
                        s = o.window,
                        u = s.google;
                    u && (u.ima.settings.setVpaidMode(u.ima.ImaSdkSettings.VpaidMode.INSECURE), this._unsubs.push((0, b.subscribe)(this._store, ["playerDimensions"], this._resizeAd.bind(this))), this._adContainer = C.clone().appendTo(this._videoContainer).get(0), this._adDisplayContainer = new u.ima.AdDisplayContainer(this._adContainer, $(this._videoContainer).find("video, object").get(0)), this._adDisplayContainer.initialize(), this._moat = new g.MoatAnalytics(this._adContainer, this._store), this._setupAdsLoader())
                }
                return o(e, [{
                    key: "destroy",
                    value: function() {
                        this._adsLoader.destroy(), this._adDisplayContainer.destroy(), this._aaxManager.destroy(), this._unsubs.forEach(function(e) {
                            return e()
                        })
                    }
                }, {
                    key: "requestAds",
                    value: function(e) {
                        return this._currentAdsManager.getRemainingTime() > 0 ? Promise.resolve() : this._isCreativeIdSet(e) ? this._requestAdsInternalWithCreativeId(e) : this._requestAdsInternal(e)
                    }
                }, {
                    key: "pause",
                    value: function() {
                        this._paused = !0, this._currentAdsManager.pause()
                    }
                }, {
                    key: "play",
                    value: function() {
                        this._paused = !1, this._currentAdsManager.resume()
                    }
                }, {
                    key: "setVolume",
                    value: function(e) {
                        this._currentAdsManager.setVolume(e)
                    }
                }, {
                    key: "setMuted",
                    value: function(e) {
                        var t = this._store.getState(),
                            n = t.playback;
                        this._currentAdsManager.setVolume(e ? 0 : n.volume)
                    }
                }, {
                    key: "addEventListener",
                    value: function(e, t) {
                        this._eventEmitter.on(e, t)
                    }
                }, {
                    key: "_setupAdsLoader",
                    value: function() {
                        var e = this,
                            t = this._store.getState().window.google;
                        this._adsLoader = new t.ima.AdsLoader(this._adDisplayContainer), this._adsLoader.addEventListener(t.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED, function(t) {
                            return e._onAdsManagerLoaded(t)
                        }), this._adsLoader.addEventListener(t.ima.AdErrorEvent.Type.AD_ERROR, function(t) {
                            return e._onAdError(t)
                        })
                    }
                }, {
                    key: "_onAdsManagerLoaded",
                    value: function(e) {
                        var t = this,
                            n = this._store.getState().window.google,
                            r = e.getUserRequestContext();
                        (0, S.sendAdSpadeEvent)(this._store, O, p.AD_REQUEST_RESPONSE, (0, S.initializeAdSpadeEvent)(r));
                        var i = new n.ima.AdsRenderingSettings;
                        i.restoreCustomPlaybackStateOnAdBreakComplete = !0, this._currentAdsManager = e.getAdsManager(new I(this._backend), i), this._currentAdsManager.addEventListener(n.ima.AdErrorEvent.Type.AD_ERROR, function(e) {
                            return t._onAdError(e)
                        }), this._currentAdsManager.addEventListener(n.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED, function() {
                            return t._onContentPauseRequested(r)
                        }), this._currentAdsManager.addEventListener(n.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED, function() {
                            return t._onContentResumeRequested(r)
                        }), this._currentAdsManager.addEventListener(n.ima.AdEvent.Type.LOADED, function(e) {
                            return t._onAdLoaded(e, r)
                        }), this._currentAdsManager.addEventListener(n.ima.AdEvent.Type.STARTED, function(e) {
                            return t._onAdStarted(e)
                        }), this._currentAdsManager.addEventListener(n.ima.AdEvent.Type.IMPRESSION, function(e) {
                            return t._onAdImpression(e, r)
                        }), this._currentAdsManager.addEventListener(n.ima.AdEvent.Type.COMPLETE, function(e) {
                            return t._onAdEnded(e, r)
                        }), this._currentAdsManager.addEventListener(n.ima.AdEvent.Type.SKIPPED, function(e) {
                            return t._onAdSkipped(e, r)
                        }), this._currentAdsManager.init(this._videoContainer.offsetParent.offsetWidth, this._videoContainer.offsetParent.offsetHeight, n.ima.ViewMode.NORMAL), this._currentAdsManager.start()
                    }
                }, {
                    key: "_interruptContent",
                    value: function() {
                        var e = this._store.getState(),
                            t = e.stream;
                        t instanceof _.LiveContentStream ? this._backend.setMuted(!0) : t instanceof h.VODContentStream && !this._backend.getEnded() && this._store.dispatch((0, E.pause)())
                    }
                }, {
                    key: "_resumeContent",
                    value: function() {
                        var e = this._store.getState(),
                            t = e.playback,
                            n = e.stream;
                        this._backend.setVolume(t.volume), this._backend.setMuted(t.muted), n instanceof h.VODContentStream && !this._backend.getEnded() && this._store.dispatch((0, E.play)())
                    }
                }, {
                    key: "_onAdError",
                    value: function(e) {
                        var t = e.getError(),
                            n = e.getUserRequestContext() || {
                                adSessionId: null,
                                adblock: null,
                                adType: null,
                                duration: null
                            },
                            r = (0, S.initializeAdSpadeEvent)(n);
                        r.reason = t.getMessage(), r.error_code = t.getErrorCode(), r.error_type = t.getType(), (0, S.sendAdSpadeEvent)(this._store, O, p.AD_ERROR, r), this._contentPauseRequested && (this._contentPauseRequested = !1, this._store.dispatch((0, y.clearCurrentAdMetadata)()), this._resumeContent(), this._eventEmitter.emit(v.AD_ERROR, {
                            roll_type: n.adType
                        })), this._isCreativeIdSet(n) && console.error("Error playing creative " + n.creativeId + ": " + t.getMessage()), this._currentAdsManager.destroy(), this._currentAdsManager = R
                    }
                }, {
                    key: "_onContentPauseRequested",
                    value: function(e) {
                        if (this._contentPauseRequested = !0, this._store.getState().ads.currentMetadata.contentType === y.AdContentTypes.NONE) {
                            var t = this._store.getState(),
                                n = t.playback;
                            this._currentAdsManager.setVolume(n.muted ? 0 : n.volume), this._interruptContent(), this._store.dispatch((0, y.setCurrentAdMetadata)({
                                contentType: y.AdContentTypes.IMA,
                                rollType: k[e.adType]
                            })), this._eventEmitter.emit(v.AD_START, {
                                roll_type: e.adType
                            })
                        }
                    }
                }, {
                    key: "_onContentResumeRequested",
                    value: function(e) {
                        this._contentPauseRequested = !1, this._store.getState().ads.currentMetadata.contentType !== y.AdContentTypes.NONE && (this._currentAdsManager = R, this._store.dispatch((0, y.clearCurrentAdMetadata)()), this._eventEmitter.emit(v.AD_END, {
                            roll_type: e.adType
                        }), this._resumeContent())
                    }
                }, {
                    key: "_onAdLoaded",
                    value: function(e, t) {
                        var n = this._store.getState(),
                            r = n.playback;
                        this._currentAdsManager.setVolume(r.muted ? 0 : r.volume), this._moat.trackAd(this._currentAdsManager, t), (0, S.sendAdSpadeEvent)(this._store, O, p.AD_LOADED, (0, S.initializeAdSpadeEvent)(t, e.getAd()))
                    }
                }, {
                    key: "_onAdStarted",
                    value: function(e) {
                        var t = e.getAd(),
                            n = w.reduce(function(e, n) {
                                return e + t.getCompanionAds(n.width, n.height).length
                            }, 0);
                        n > 0 && this._eventEmitter.emit(v.COMPANION_RENDERED, {
                            provider: O
                        })
                    }
                }, {
                    key: "_onAdImpression",
                    value: function(e, t) {
                        var n = (0, S.initializeAdSpadeEvent)(t, e.getAd()),
                            r = this._store.getState().window.Date;
                        n.request_to_impression_latency = r.now() - this._adRequestTime, (0, S.sendAdSpadeEvent)(this._store, O, p.AD_IMPRESSION, n), this._eventEmitter.emit(v.AD_IMPRESSION, {
                            time_break: t.duration
                        })
                    }
                }, {
                    key: "_onAdEnded",
                    value: function(e, t) {
                        var n = (0, S.initializeAdSpadeEvent)(t, e.getAd());
                        (0, S.sendAdSpadeEvent)(this._store, O, p.AD_IMPRESSION_COMPLETE, n), this._eventEmitter.emit(v.AD_IMPRESSION_COMPLETE)
                    }
                }, {
                    key: "_onAdSkipped",
                    value: function(e, t) {
                        var n = e.getAd(),
                            r = (0, S.initializeAdSpadeEvent)(t);
                        (0, d.default)(r, {
                            ad_id: n.getAdId(),
                            client_time: Date.now(),
                            duration: n.getDuration()
                        }), (0, S.sendAdSpadeEvent)(this._store, O, p.AD_SKIPPED, r), this._eventEmitter.emit(v.AD_SKIPPED)
                    }
                }, {
                    key: "_resizeAd",
                    value: function(e) {
                        var t = e.playerDimensions,
                            n = this._store.getState().window.google;
                        this._currentAdsManager.resize(t.width, t.height, n.ima.ViewMode.NORMAL)
                    }
                }, {
                    key: "_getNewAdsRequest",
                    value: function() {
                        var e = this._store.getState().window.google,
                            t = this._videoContainer.offsetParent,
                            n = new e.ima.AdsRequest;
                        return n.linearAdSlotWidth = t.offsetWidth, n.linearAdSlotHeight = t.offsetHeight, n.nonLinearAdSlotWidth = t.offsetWidth, n.nonLinearAdSlotHeight = t.offsetHeight, n
                    }
                }, {
                    key: "_requestAdsInternal",
                    value: function(e) {
                        var t = this,
                            n = e;
                        return this._requestAaxBids(n).then(function(e) {
                            n = t._aaxManager.getAdRequestContextWithAmazonBids(e, n);
                            var r = t._store.getState().window.Date;
                            t._adRequestTime = r.now(), (0, S.sendAdSpadeEvent)(t._store, O, p.AD_REQUEST, (0, S.initializeAdSpadeEvent)(n));
                            var i = t._getNewAdsRequest();
                            i.adTagUrl = (0, u.buildIMATags)(n), t._adsLoader.requestAds(i, n)
                        }).catch(function(e) {
                            var r = (0, S.initializeAdSpadeEvent)(n);
                            r.reason = e.message, (0, S.sendAdSpadeEvent)(t._store, O, p.AD_REQUEST_ERROR, r)
                        })
                    }
                }, {
                    key: "_requestAdsInternalWithCreativeId",
                    value: function(e) {
                        var t = this;
                        return this._getVastXmlResponse(e).then(function(n) {
                            var r = t._getNewAdsRequest();
                            r.adTagUrl = "", r.adsResponse = n, t._adsLoader.requestAds(r, e)
                        }).catch(function(n) {
                            return console.error("Error requesting creative=" + e.creativeId, n.message), t._requestAdsInternal(e)
                        })
                    }
                }, {
                    key: "_requestAaxBids",
                    value: function(e) {
                        var t = this;
                        return this._aaxManager.fetchBids(e).catch(function(n) {
                            var r = (0, S.initializeAdSpadeEvent)(e);
                            return r.reason = n.message, (0, S.sendAdSpadeEvent)(t._store, O, p.AAX_AD_AUCTION_ERROR, r), Promise.resolve([])
                        })
                    }
                }, {
                    key: "_getVastXmlResponse",
                    value: function(e) {
                        var t = new A.DfpCreativeService;
                        return t.getVastXmlResponse(e.creativeId)
                    }
                }, {
                    key: "_isCreativeIdSet",
                    value: function(e) {
                        var t = e.creativeId;
                        return t && t > 0
                    }
                }, {
                    key: "paused",
                    get: function() {
                        return this._paused
                    }
                }, {
                    key: "sdk",
                    get: function() {
                        return P
                    }
                }]), e
            }(), function() {
                function e(t) {
                    a(this, e), this._backend = t
                }
                return o(e, [{
                    key: "currentTime",
                    get: function() {
                        return this._backend.getCurrentTime()
                    }
                }, {
                    key: "duration",
                    get: function() {
                        return this._backend.getDuration()
                    }
                }]), e
            }()),
            N = function() {
                function e() {
                    a(this, e)
                }
                return o(e, [{
                    key: "init",
                    value: function() {}
                }, {
                    key: "destroy",
                    value: function() {}
                }, {
                    key: "start",
                    value: function() {}
                }, {
                    key: "resize",
                    value: function() {}
                }, {
                    key: "pause",
                    value: function() {}
                }, {
                    key: "resume",
                    value: function() {}
                }, {
                    key: "setVolume",
                    value: function() {}
                }, {
                    key: "addEventListener",
                    value: function() {}
                }, {
                    key: "getRemainingTime",
                    value: function() {
                        return -1
                    }
                }]), e
            }(),
            R = new N
    }, function(e, t, n) {
        "use strict";

        function r(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.MoatAnalytics = void 0;
        var i = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            a = n(362);
        t.MoatAnalytics = function() {
            function e(t, n) {
                r(this, e), this._adContainer = t, this._moatTracking = a.initMoatTracking, this._google = n.getState().window.google
            }
            return i(e, [{
                key: "trackAd",
                value: function(t, n) {
                    var r = e.buildSlicer(n),
                        i = {
                            partnerCode: "twitchvpaid2756206246",
                            viewMode: this._google.ima.ViewMode.NORMAL,
                            slicer1: "www.twitch.tv",
                            slicer2: r
                        };
                    try {
                        this._moatTracking(t, i, this._adContainer)
                    } catch (e) {
                        console.error("Moat tracking failed: ", e)
                    }
                }
            }], [{
                key: "buildSlicer",
                value: function(e) {
                    var t = "unknown";
                    return e && e.channel && (t = e.channel), e && e.game && (t = t + " + " + e.game), t
                }
            }]), e
        }()
    }, function(e, t) {
        "use strict";

        function n(e, t, n) {
            if (!1 === t.hasOwnProperty("partnerCode")) return !1;
            var r = document.createElement("script"),
                i = n;
            i = i || e && ("undefined" != typeof e.O ? e.O.parentNode : document.body) || document.body;
            var a = [],
                o = {
                    adsManager: e,
                    ids: t,
                    imaSDK: !0,
                    events: []
                },
                s = {
                    complete: "AdVideoComplete",
                    firstquartile: "AdVideoFirstQuartile",
                    impression: "AdImpression",
                    loaded: "AdLoaded",
                    midpoint: "AdVideoMidpoint",
                    pause: "AdPaused",
                    skip: "AdSkipped",
                    start: "AdVideoStart",
                    thirdquartile: "AdVideoThirdQuartile",
                    volumeChange: "AdVolumeChange"
                },
                l = void 0,
                u = void 0;
            if (google && google.ima && e) {
                l = "_moatApi" + Math.floor(1e8 * Math.random()), c;
                for (var c in google.ima.AdEvent.Type) {
                    var d = function(t) {
                        if (o.sendEvent) {
                            for (t = a.length - 1; 0 <= t; t--) e.removeEventListener(a[t].type, a[t].func);
                            o.sendEvent(o.events)
                        } else o.events.push({
                            type: s[t.type] || t.type,
                            adVolume: e.getVolume()
                        })
                    };
                    e.addEventListener(google.ima.AdEvent.Type[c], d), a.push({
                        type: google.ima.AdEvent.Type[c],
                        func: d
                    })
                }
            }
            var f = void 0;
            l = "undefined" != typeof l ? l : "", f;
            try {
                u = i.ownerDocument, f = u.defaultView || u.parentWindow
            } catch (e) {
                u = document, f = window
            }
            f[l] = o, r.type = "text/javascript", i && i.appendChild(r);
            try {
                r.src = "https://z.moatads.com/" + t.partnerCode + "/moatvideo.js#" + l
            } catch (e) {}
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.initMoatTracking = n
    }, function(e, t) {
        "use strict";

        function n(e) {
            return {
                type: c,
                video: e
            }
        }

        function r() {
            return {
                type: d
            }
        }

        function i() {
            return {
                type: f
            }
        }

        function a(e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
            return {
                type: p,
                muted: e,
                automated: t
            }
        }

        function o() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
            return {
                type: _,
                volume: e
            }
        }

        function s(e) {
            return {
                type: h,
                backendType: e
            }
        }

        function l(e) {
            return {
                type: m,
                issueType: e
            }
        }

        function u(e) {
            return {
                type: v,
                playbackRate: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.videoAPILoaded = n, t.play = r, t.pause = i, t.mutePlayer = a, t.changeVolume = o, t.changeBackend = s, t.submitVideoIssueReport = l, t.changePlaybackRate = u;
        var c = t.ACTION_LOAD_VIDEO_API = "load video api",
            d = t.ACTION_VIDEO_API_PLAY = "video api play content",
            f = t.ACTION_VIDEO_API_PAUSE = "video api pause content",
            p = t.ACTION_VIDEO_API_MUTE_PLAYER = "video api mute player",
            _ = t.ACTION_VIDEO_API_CHANGE_VOLUME = "video api change volume",
            h = t.ACTION_VIDEO_API_CHANGE_BACKEND = "video api change backend",
            m = t.ACTION_VIDEO_API_REPORT_VIDEO_ISSUE = "video api report video issue",
            v = t.ACTION_VIDEO_API_CHANGE_PLAYBACK_RATE = "video api change playback rate"
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            if (e && e.__esModule) return e;
            var t = {};
            if (null != e)
                for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
            return t.default = e, t
        }

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function a(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.AAXManager = t.AAX_VIDEO_AD_SERVER = t.AAX_TWITCH_PUBLISHER_ID = void 0;
        var o = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            s = n(243),
            l = n(365),
            u = n(183);
        n(369);
        var c = n(53),
            d = i(c),
            f = n(115),
            p = r(f),
            _ = n(370),
            h = n(251),
            m = (t.AAX_TWITCH_PUBLISHER_ID = 3036, t.AAX_VIDEO_AD_SERVER = "DFP", "video"),
            v = "twitch-preroll",
            y = "twitch-midroll-",
            g = "twitch-postroll",
            E = "treatment",
            b = 1e3,
            T = 1e3,
            S = 1e3,
            A = (t.AAXManager = function() {
                function e(t, n, r, i) {
                    var o = this;
                    a(this, e), this._store = r, this._preloadedBids = [], this._options = i, this._unsubs = [];
                    try {
                        var s = this._store.getState(),
                            l = s.window;
                        l.apstag ? (this._apstag = l.apstag, this._apstag.init({
                            pubID: t,
                            videoAdServer: n
                        }, function() {
                            o._apstag = l.apstag
                        })) : this._apstag = new A
                    } catch (e) {
                        this._apstag = new A;
                        var c = {
                            reason: e.message
                        };
                        (0, _.sendAdSpadeEvent)(this._store, null, p.AAX_AD_AUCTION_INIT_ERROR, c)
                    }
                    this._unsubs.push((0, u.subscribe)(this._store, ["stream"], this._onStreamChange.bind(this)))
                }
                return o(e, [{
                    key: "destroy",
                    value: function() {
                        this._unsubs.forEach(function(e) {
                            return e()
                        })
                    }
                }, {
                    key: "preloadPrerollBids",
                    value: function() {
                        var e = this;
                        return this._enabled().then(function(t) {
                            return t ? e._getAdsRequestContextForPreroll().then(function(t) {
                                if (!e._willDeclineAds(t)) return e._preloadVideoBids([v], t, b)
                            }) : Promise.resolve([])
                        })
                    }
                }, {
                    key: "fetchBids",
                    value: function(e) {
                        var t = this;
                        return this._enabled().then(function(n) {
                            if (!n) return Promise.resolve([]);
                            switch (e.adType) {
                                case s.AdRollTypes.PREROLL:
                                    return t._fetchPrerollBids();
                                case s.AdRollTypes.MIDROLL:
                                    return t._fetchMidrollBids(e, T);
                                case s.AdRollTypes.POSTROLL:
                                    return t._fetchPostrollBids(e, S);
                                default:
                                    return Promise.resolve([])
                            }
                        }).catch(function(e) {
                            return Promise.reject(e)
                        })
                    }
                }, {
                    key: "getAdRequestContextWithAmazonBids",
                    value: function(e, t) {
                        var n = t;
                        return e && e[0] && (n.amzniid = e[0].amzniid, n.amznbid = e[0].amznbid), n
                    }
                }, {
                    key: "_enabled",
                    value: function() {
                        return this._store.getState().experiments.get(h.AAX_HEADER_BIDDING).then(function(e) {
                            return Promise.resolve(e === E)
                        })
                    }
                }, {
                    key: "_fetchPrerollBids",
                    value: function() {
                        var e = this;
                        return new Promise(function(t) {
                            t(e._preloadedBids), e._preloadedBids = []
                        })
                    }
                }, {
                    key: "_fetchMidrollBids",
                    value: function(e, t) {
                        var n = 1,
                            r = Array.apply(null, new Array(n)).map(function(e, t) {
                                var n = t + 1;
                                return "" + y + n.toString()
                            });
                        return this._fetchVideoBids(r, e, t)
                    }
                }, {
                    key: "_fetchPostrollBids",
                    value: function(e, t) {
                        return this._fetchVideoBids([g], e, t)
                    }
                }, {
                    key: "_preloadVideoBids",
                    value: function(e, t, n) {
                        var r = this;
                        return this._preloadedBids = [], this._fetchVideoBids(e, t, n).then(function(e) {
                            r._preloadedBids = e
                        })
                    }
                }, {
                    key: "_fetchVideoBids",
                    value: function(e, t, n) {
                        var r = this,
                            i = {
                                slot_ids: e.join(",")
                            };
                        this._initAndSendAdSpadeEvent(p.AAX_AD_AUCTION, t, i);
                        var a = this._createSlotsFromSlotIds(e, n);
                        return new Promise(function(n) {
                            var o = r._store.getState().window.Date,
                                s = o.now();
                            r._apstag.fetchBids(a, function(a) {
                                var l = o.now() - s;
                                i.aax_latency = l;
                                var u = a.filter(function(t) {
                                    return t.mediaType === m && (0, d.default)(e, t.slotID)
                                });
                                u.length > 0 ? (i.amzniid = u.map(function(e) {
                                    return e.amzniid
                                }).join(","), i.amznbid = u.map(function(e) {
                                    return e.amznbid
                                }).join(","), r._initAndSendAdSpadeEvent(p.AAX_AD_AUCTION_RESPONSE, t, i), n(u)) : (r._initAndSendAdSpadeEvent(p.AAX_AD_AUCTION_ERROR, t, i), n([]))
                            })
                        })
                    }
                }, {
                    key: "_createSlotsFromSlotIds",
                    value: function(e, t) {
                        return {
                            slots: e.map(function(e) {
                                return {
                                    mediaType: m,
                                    slotID: e
                                }
                            }),
                            timeout: t
                        }
                    }
                }, {
                    key: "_onStreamChange",
                    value: function() {
                        this.preloadPrerollBids()
                    }
                }, {
                    key: "_getAdsRequestContextForPreroll",
                    value: function() {
                        var e = !1;
                        return this._options && this._options.hasOwnProperty("force_preroll") && (e = !0), (0, s.getRequestContext)(s.AdRollTypes.PREROLL, s.DEFAULT_AD_DURATION, this._store.getState(), e)
                    }
                }, {
                    key: "_willDeclineAds",
                    value: function(e) {
                        var t = (0, l.getDeclineReasons)(e);
                        return (0, l.willDeclineAds)(t, e)
                    }
                }, {
                    key: "_initAndSendAdSpadeEvent",
                    value: function(e, t) {
                        var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {},
                            r = (0, _.initializeAdSpadeEvent)(t);
                        (0, _.sendAdSpadeEvent)(this._store, null, e, Object.assign({}, r, n))
                    }
                }]), e
            }(), function() {
                function e() {
                    a(this, e)
                }
                return o(e, [{
                    key: "init",
                    value: function() {}
                }, {
                    key: "debug",
                    value: function() {}
                }, {
                    key: "fetchBids",
                    value: function(e, t) {
                        t([])
                    }
                }]), e
            }())
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e, t, n) {
            return t in e ? Object.defineProperty(e, t, {
                value: n,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : e[t] = n, e
        }

        function a(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function o(e, t, n) {
            var r = e.analyticsTracker;
            r.trackEvent("video_ad_request_declined", (0, f.default)({
                ad_session_id: t.adSessionId,
                roll_type: t.adType,
                time_break: t.duration,
                provider: "ima",
                adblock: l(t),
                twitch_correlator: t.twitchCorrelator
            }, n))
        }

        function s(e) {
            var t = {
                reason_short_vod: e.adType === h.PREROLL && e.contentType === v.CONTENT_MODE_VOD && e.vod.duration >= 0 && e.vod.duration < E,
                reason_vod_creator: e.adType === h.PREROLL && e.contentType === v.CONTENT_MODE_VOD && e.login === e.channel,
                reason_turbo: Boolean(e.turboToken),
                reason_ratelimit: e.adType === h.PREROLL && e.requestTime - e.lastAdDisplay < g,
                reason_channelsub: Boolean(e.chansubToken) && e.hasAdFreeSubscription,
                reason_channeladfree: e.adType === h.PREROLL && !e.prerollsEnabled || e.adType === h.POSTROLL && !e.postrollsEnabled,
                reason_frontpage: e.playerType === m.PLAYER_FRONTPAGE,
                reason_creative_player: e.playerType === m.PLAYER_CREATIVE,
                reason_facebook: e.playerType === m.PLAYER_FACEBOOK,
                reason_highlighter: e.playerType === m.PLAYER_HIGHLIGHTER,
                reason_dashboard: e.playerType === m.PLAYER_DASHBOARD,
                reason_mobile_web_upsell: Boolean(e.isMobileLocation) && e.platform === y.PLATFORM_MOBILE_WEB,
                reason_digest: e.adType === h.PREROLL && e.lure && "yes" === e.bismol
            };
            return t
        }

        function l(e) {
            return "unknown" === e.adblock ? null : e.adblock
        }

        function u(e, t) {
            var n = (0, _.default)(e, function(e, t) {
                return e || t
            }, !1);
            return t.forced && (n = !1), n
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.DecliningAdsManager = void 0;
        var c = function() {
            function e(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                }
            }
            return function(t, n, r) {
                return n && e(t.prototype, n), r && e(t, r), t
            }
        }();
        t.getDeclineReasons = s, t.willDeclineAds = u;
        var d = n(117),
            f = r(d),
            p = n(214),
            _ = r(p),
            h = n(240),
            m = n(217),
            v = n(220),
            y = n(366),
            g = 3e5,
            E = 60;
        t.DecliningAdsManager = function() {
            function e(t, n) {
                a(this, e), this._store = t, this._adManager = n, this._streamRollTypes = {}
            }
            return c(e, [{
                key: "destroy",
                value: function() {
                    this._adManager.destroy()
                }
            }, {
                key: "requestAds",
                value: function(e) {
                    if (!this._streamRollTypes.hasOwnProperty(e.channel)) {
                        var t;
                        this._streamRollTypes[e.channel] = (t = {}, i(t, h.PREROLL, !1), i(t, h.MIDROLL, !1), i(t, h.POSTROLL, !1), t)
                    }
                    var n = s(e),
                        r = u(n, e);
                    r ? o(this._store.getState(), e, n) : (this._adManager.requestAds(e), this._streamRollTypes[e.channel][e.adType] = !0)
                }
            }, {
                key: "addEventListener",
                value: function(e, t) {
                    this._adManager.addEventListener(e, t)
                }
            }, {
                key: "pause",
                value: function() {
                    this._adManager.pause()
                }
            }, {
                key: "play",
                value: function() {
                    this._adManager.play()
                }
            }, {
                key: "setVolume",
                value: function(e) {
                    this._adManager.setVolume(e)
                }
            }, {
                key: "setMuted",
                value: function(e) {
                    this._adManager.setMuted(e)
                }
            }, {
                key: "paused",
                get: function() {
                    return this._adManager.paused
                }
            }, {
                key: "sdk",
                get: function() {
                    return this._adManager.sdk
                }
            }]), e
        }()
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : v,
                t = arguments[1];
            switch (t.type) {
                case p.ACTION_SET_ENVIRONMENT:
                    return (0, l.default)({}, e, {
                        deviceId: t.deviceId
                    });
                case p.ACTION_SET_PLAYER_TYPE:
                    return (0, l.default)({}, e, {
                        playerType: t.playerType
                    });
                case p.ACTION_SET_TWITCH_EVERYWHERE_PARAMS:
                    return (0, l.default)({}, e, {
                        twitchEverywhere: t.params
                    });
                case _.ACTION_SET_WINDOW:
                    return (0, l.default)({}, e, {
                        platform: a((t.window.navigator || {}).userAgent),
                        isMobileLocation: o(t.window)
                    });
                default:
                    return e
            }
        }

        function a() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "",
                t = c.default._detect(e);
            return t.mobile || t.tablet ? m : h
        }

        function o(e) {
            var t = (0, d.parseUri)(e.document.referrer),
                n = void 0;
            try {
                n = e !== e.top
            } catch (e) {
                n = !0
            }
            return n && t.protocol === g && t.host === y
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.DEFAULT_ENVIRONMENT = t.PLATFORM_MOBILE_WEB = t.PLATFORM_WEB = void 0, t.env = i;
        var s = n(117),
            l = r(s),
            u = n(261),
            c = r(u),
            d = n(176),
            f = n(217),
            p = n(367),
            _ = n(368),
            h = t.PLATFORM_WEB = "web",
            m = t.PLATFORM_MOBILE_WEB = "mobile_web",
            v = t.DEFAULT_ENVIRONMENT = Object.freeze({
                deviceId: "",
                playerType: f.PLAYER_POPOUT,
                platform: h,
                isMobileLocation: !1
            }),
            y = "m.twitch.tv",
            g = "https"
    }, function(e, t) {
        "use strict";

        function n(e) {
            var t = e.deviceId;
            return {
                type: a,
                deviceId: t
            }
        }

        function r(e) {
            return {
                type: o,
                playerType: e
            }
        }

        function i(e) {
            return {
                type: s,
                params: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.setEnvironment = n, t.setPlayerType = r, t.setTwitchEverywhereParams = i;
        var a = t.ACTION_SET_ENVIRONMENT = "set environment",
            o = t.ACTION_SET_PLAYER_TYPE = "set player type",
            s = t.ACTION_SET_TWITCH_EVERYWHERE_PARAMS = "set twitch everywhere params"
    }, function(e, t) {
        "use strict";

        function n(e) {
            return {
                type: r,
                window: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.setWindow = n;
        var r = t.ACTION_SET_WINDOW = "set window"
    }, function(e, t) {
        ! function(e, t, n, r, i, a, o) {
            function s(n, r) {
                t[e]._Q.push([n, r])
            }
            t[e] || (t[e] = {
                init: function() {
                    s("i", arguments)
                },
                fetchBids: function() {
                    s("f", arguments)
                },
                setDisplayBids: function() {},
                _Q: []
            }, a = n.createElement(r), a.async = !0, a.src = i, o = n.getElementsByTagName(r)[0], o.parentNode.insertBefore(a, o))
        }("apstag", window, document, "script", "//c.amazon-adsystem.com/aax2/apstag.js")
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null,
                n = {
                    ad_session_id: e.adSessionId,
                    adblock: e.adblock,
                    roll_type: e.adType,
                    time_break: e.duration,
                    twitch_correlator: e.twitchCorrelator
                };
            return e.adWhitelist && (n.ads_opt_in = e.adWhitelist), n = o(n, e), null !== t && (n.ad_system = t.getAdSystem(), n.ad_id = t.getAdId(), n.creative_id = t.getCreativeId(), n.title = t.getTitle(), n.duration = t.getDuration(), t.getWrapperAdIds().length > 0 && (n.wrapper_ad_id = t.getWrapperAdIds()[0], n.wrapper_ad_system = t.getWrapperAdSystems()[0], n.wrapper_creative_id = t.getWrapperCreativeIds()[0])), n
        }

        function a(e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "",
                n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "",
                r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : {},
                i = e.getState(),
                a = i.analyticsTracker,
                o = i.stream,
                s = i.streamMetadata,
                c = r;
            t && (0, l.default)(c, {
                provider: t
            }), o instanceof u.VODContentStream && (0, l.default)(c, {
                vod_id: o.videoId,
                vod_type: s.type
            }), a.trackEvent(n, c)
        }

        function o(e, t) {
            var n = e;
            return t.amzniid && (n.amzniid = t.amzniid), t.amznbid && (n.amznbid = t.amznbid), n
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.initializeAdSpadeEvent = i, t.sendAdSpadeEvent = a;
        var s = n(117),
            l = r(s),
            u = n(220)
    }, function(e, t, n) {
        "use strict";

        function r(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.DfpCreativeService = void 0;
        var i = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            a = n(199),
            o = "https://z9jg64h9w9.execute-api.us-west-2.amazonaws.com/Prod?creative_id=";
        t.DfpCreativeService = function() {
            function e() {
                r(this, e)
            }
            return i(e, [{
                key: "getVastXmlResponse",
                value: function(e) {
                    var t = this,
                        n = "" + o + e;
                    return this._httpsGet(n).then(function(e) {
                        return e && e.vast_url ? t._httpsGet(e.vast_url, "text") : Promise.reject(new Error("Invalid response from dfp-creative-service " + e))
                    })
                }
            }, {
                key: "_httpsGet",
                value: function(e) {
                    var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "",
                        n = this._convertHttpToHttps(e),
                        r = {
                            url: n
                        };
                    return t && (r.dataType = t), (0, a.fetch)(r)
                }
            }, {
                key: "_convertHttpToHttps",
                value: function(e) {
                    return e.replace(/^http:\/\//i, "https://")
                }
            }]), e
        }()
    }, function(e, t) {
        "use strict";

        function n(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var r = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            i = function() {
                function e() {
                    n(this, e)
                }
                return r(e, [{
                    key: "requestAds",
                    value: function() {}
                }, {
                    key: "pause",
                    value: function() {}
                }, {
                    key: "play",
                    value: function() {}
                }, {
                    key: "setVolume",
                    value: function() {}
                }, {
                    key: "setMuted",
                    value: function() {}
                }, {
                    key: "addEventListener",
                    value: function() {}
                }, {
                    key: "destroy",
                    value: function() {}
                }, {
                    key: "paused",
                    get: function() {
                        return !1
                    }
                }, {
                    key: "muted",
                    get: function() {
                        return !1
                    }
                }, {
                    key: "sdk",
                    get: function() {
                        return ""
                    }
                }]), e
            }();
        t.nullAdsManager = new i
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e) {
            if (e && e.__esModule) return e;
            var t = {};
            if (null != e)
                for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
            return t.default = e, t
        }

        function a(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.FlashManager = void 0;
        var o = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            s = n(240),
            l = n(243),
            u = n(319),
            c = n(177),
            d = i(c),
            f = n(115),
            p = i(f),
            _ = n(164),
            h = r(_),
            m = n(370),
            v = "flash",
            y = "ima",
            g = {
                preroll: l.AdRollTypes.PREROLL,
                midroll: l.AdRollTypes.MIDROLL,
                postroll: l.AdRollTypes.POSTROLL
            };
        t.FlashManager = function() {
            function e(t, n) {
                a(this, e), this._flashBackend = t, this._store = n, this._eventEmitter = new h.default, this._initializeEventListeners()
            }
            return o(e, [{
                key: "_initializeEventListeners",
                value: function() {
                    this._flashBackend.addEventListener(u.FLASH_AD_EVENTS.AD_START, this.onAdStarted.bind(this)), this._flashBackend.addEventListener(u.FLASH_AD_EVENTS.AD_END, this.onAdEnded.bind(this)), this._flashBackend.addEventListener(u.FLASH_AD_EVENTS.COMPANION_RENDERED, this.onAdCompanionRendered.bind(this)), this._flashBackend.addEventListener(u.FLASH_AD_EVENTS.AD_REQUEST, this.onAdRequest.bind(this)), this._flashBackend.addEventListener(u.FLASH_AD_EVENTS.AD_REQUEST_DECLINED, this.onAdRequestDeclined.bind(this)), this._flashBackend.addEventListener(u.FLASH_AD_EVENTS.AD_REQUEST_RESPONSE, this.onAdRequestResponse.bind(this)), this._flashBackend.addEventListener(u.FLASH_AD_EVENTS.AD_REQUEST_ERROR, this.onAdRequestError.bind(this)), this._flashBackend.addEventListener(u.FLASH_AD_EVENTS.AD_ERROR, this.onAdError.bind(this)), this._flashBackend.addEventListener(u.FLASH_AD_EVENTS.AD_LOADED, this.onAdLoaded.bind(this)), this._flashBackend.addEventListener(u.FLASH_AD_EVENTS.AD_IMPRESSION, this.onAdImpression.bind(this)), this._flashBackend.addEventListener(u.FLASH_AD_EVENTS.AD_IMPRESSION_COMPLETE, this.onAdImpressionComplete.bind(this))
                }
            }, {
                key: "onAdStarted",
                value: function(e) {
                    this._store.dispatch((0, l.setCurrentAdMetadata)({
                        contentType: l.AdContentTypes.IMA,
                        rollType: g[e.roll_type]
                    })), this._eventEmitter.emit(d.AD_START, {
                        roll_type: e.roll_type
                    })
                }
            }, {
                key: "onAdEnded",
                value: function(e) {
                    this._store.dispatch((0, l.clearCurrentAdMetadata)()), this._eventEmitter.emit(d.AD_END, {
                        roll_type: e.roll_type
                    })
                }
            }, {
                key: "onAdCompanionRendered",
                value: function() {
                    this._eventEmitter.emit(d.COMPANION_RENDERED, {
                        provider: y
                    })
                }
            }, {
                key: "onAdRequest",
                value: function(e) {
                    (0, m.sendAdSpadeEvent)(this._store, "", p.AD_REQUEST, e)
                }
            }, {
                key: "onAdRequestDeclined",
                value: function(e) {
                    (0, m.sendAdSpadeEvent)(this._store, "", p.AD_REQUEST_DECLINED, e)
                }
            }, {
                key: "onAdRequestResponse",
                value: function(e) {
                    (0, m.sendAdSpadeEvent)(this._store, "", p.AD_REQUEST_RESPONSE, e)
                }
            }, {
                key: "onAdRequestError",
                value: function(e) {
                    (0, m.sendAdSpadeEvent)(this._store, "", p.AD_REQUEST_ERROR, e)
                }
            }, {
                key: "onAdError",
                value: function(e) {
                    (0, m.sendAdSpadeEvent)(this._store, "", p.AD_ERROR, e)
                }
            }, {
                key: "onAdLoaded",
                value: function(e) {
                    (0, m.sendAdSpadeEvent)(this._store, "", p.AD_LOADED, e)
                }
            }, {
                key: "onAdImpression",
                value: function(e) {
                    (0, m.sendAdSpadeEvent)(this._store, "", p.AD_IMPRESSION, e), this._eventEmitter.emit(d.AD_IMPRESSION, {
                        time_break: e.time_break
                    })
                }
            }, {
                key: "onAdImpressionComplete",
                value: function(e) {
                    (0, m.sendAdSpadeEvent)(this._store, "", p.AD_IMPRESSION_COMPLETE, e), this._eventEmitter.emit(d.AD_IMPRESSION_COMPLETE)
                }
            }, {
                key: "requestAds",
                value: function(e) {
                    var t = e.duration,
                        n = e.adType,
                        r = (0, s.buildIMATags)(e);
                    this._flashBackend.requestAdFill(t, n, r)
                }
            }, {
                key: "pause",
                value: function() {
                    this._isAdRunning() && this._flashBackend.pause()
                }
            }, {
                key: "play",
                value: function() {
                    this._isAdRunning() && this._flashBackend.play()
                }
            }, {
                key: "setVolume",
                value: function(e) {
                    this._isAdRunning() && this._flashBackend.setVolume(e)
                }
            }, {
                key: "setMuted",
                value: function(e) {
                    this._isAdRunning() && this._flashBackend.setMuted(e)
                }
            }, {
                key: "addEventListener",
                value: function(e, t) {
                    this._eventEmitter.on(e, t)
                }
            }, {
                key: "destroy",
                value: function() {}
            }, {
                key: "_isAdRunning",
                value: function() {
                    var e = this._store.getState(),
                        t = e.ads;
                    return t.current.contentType !== l.AdContentTypes.NONE
                }
            }, {
                key: "paused",
                get: function() {
                    return this._flashBackend.getPaused()
                }
            }, {
                key: "muted",
                get: function() {
                    return this._flashBackend.getMuted()
                }
            }, {
                key: "sdk",
                get: function() {
                    return v
                }
            }]), e
        }()
    }, function(e, t) {
        "use strict";

        function n(e) {
            return {
                type: i,
                tracker: e
            }
        }

        function r(e, t) {
            return {
                type: a,
                eventName: e,
                eventProperties: t
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.setAnalyticsTracker = n, t.trackEvent = r;
        var i = t.ACTION_SET_ANALYTICS_TRACKER = "set analytics tracker",
            a = t.ACTION_TRACK_EVENT = "track event"
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e) {
            var t = (0, s.default)(e);
            return t.abs = "true" === t.abs, t.suppress = "true" === t.suppress, t.broadcast_id = parseInt(t.broadcast_id, 10), t
        }

        function a(e) {
            return {
                type: l,
                info: i(e)
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.ACTION_SET_MANIFEST_INFO = void 0, t.setManifestInfo = a;
        var o = n(376),
            s = r(o),
            l = t.ACTION_SET_MANIFEST_INFO = "set manifest info"
    }, function(e, t, n) {
        function r(e) {
            return i(e, a)
        }
        var i = n(377),
            a = 4;
        e.exports = r
    }, function(e, t, n) {
        function r(e, t, n, O, w, k) {
            var I, L = t & S,
                M = t & A,
                j = t & C;
            if (n && (I = w ? n(e, O, w, k) : n(e)), void 0 !== I) return I;
            if (!b(e)) return e;
            var x = g(e);
            if (x) {
                if (I = m(e), !L) return c(e, I)
            } else {
                var U = h(e),
                    B = U == N || U == R;
                if (E(e)) return u(e, L);
                if (U == D || U == P || B && !w) {
                    if (I = M || B ? {} : y(e), !L) return M ? f(e, l(I, e)) : d(e, s(I, e))
                } else {
                    if (!J[U]) return w ? e : {};
                    I = v(e, U, r, L)
                }
            }
            k || (k = new i);
            var F = k.get(e);
            if (F) return F;
            k.set(e, I);
            var V = j ? M ? _ : p : M ? keysIn : T,
                H = x ? void 0 : V(e);
            return a(H || e, function(i, a) {
                H && (a = i, i = e[a]), o(I, a, r(i, t, n, a, e, k))
            }), I
        }
        var i = n(125),
            a = n(378),
            o = n(5),
            s = n(379),
            l = n(380),
            u = n(205),
            c = n(208),
            d = n(381),
            f = n(382),
            p = n(144),
            _ = n(384),
            h = n(149),
            m = n(385),
            v = n(386),
            y = n(209),
            g = n(41),
            E = n(42),
            b = n(17),
            T = n(66),
            S = 1,
            A = 2,
            C = 4,
            P = "[object Arguments]",
            O = "[object Array]",
            w = "[object Boolean]",
            k = "[object Date]",
            I = "[object Error]",
            N = "[object Function]",
            R = "[object GeneratorFunction]",
            L = "[object Map]",
            M = "[object Number]",
            D = "[object Object]",
            j = "[object RegExp]",
            x = "[object Set]",
            U = "[object String]",
            B = "[object Symbol]",
            F = "[object WeakMap]",
            V = "[object ArrayBuffer]",
            H = "[object DataView]",
            G = "[object Float32Array]",
            q = "[object Float64Array]",
            Y = "[object Int8Array]",
            K = "[object Int16Array]",
            W = "[object Int32Array]",
            $ = "[object Uint8Array]",
            z = "[object Uint8ClampedArray]",
            Q = "[object Uint16Array]",
            X = "[object Uint32Array]",
            J = {};
        J[P] = J[O] = J[V] = J[H] = J[w] = J[k] = J[G] = J[q] = J[Y] = J[K] = J[W] = J[L] = J[M] = J[D] = J[j] = J[x] = J[U] = J[B] = J[$] = J[z] = J[Q] = J[X] = !0, J[I] = J[N] = J[F] = !1, e.exports = r
    }, function(e, t) {
        function n(e, t) {
            for (var n = -1, r = null == e ? 0 : e.length; ++n < r && t(e[n], n, e) !== !1;);
            return e
        }
        e.exports = n
    }, function(e, t, n) {
        function r(e, t) {
            return e && i(t, a(t), e)
        }
        var i = n(4),
            a = n(66);
        e.exports = r
    }, function(e, t, n) {
        function r(e, t) {
            return e && i(t, a(t), e)
        }
        var i = n(4),
            a = n(35);
        e.exports = r
    }, function(e, t, n) {
        function r(e, t) {
            return i(e, a(e), t)
        }
        var i = n(4),
            a = n(146);
        e.exports = r
    }, function(e, t, n) {
        function r(e, t) {
            return i(e, a(e), t)
        }
        var i = n(4),
            a = n(383);
        e.exports = r
    }, function(e, t, n) {
        var r = n(112),
            i = n(211),
            a = n(146),
            o = n(148),
            s = Object.getOwnPropertySymbols,
            l = s ? function(e) {
                for (var t = []; e;) r(t, a(e)), e = i(e);
                return t
            } : o;
        e.exports = l
    }, function(e, t, n) {
        function r(e) {
            return i(e, o, a)
        }
        var i = n(145),
            a = n(383),
            o = n(35);
        e.exports = r
    }, function(e, t) {
        function n(e) {
            var t = e.length,
                n = e.constructor(t);
            return t && "string" == typeof e[0] && i.call(e, "index") && (n.index = e.index, n.input = e.input), n
        }
        var r = Object.prototype,
            i = r.hasOwnProperty;
        e.exports = n
    }, function(e, t, n) {
        function r(e, t, n, r) {
            var I = e.constructor;
            switch (t) {
                case g:
                    return i(e);
                case d:
                case f:
                    return new I(+e);
                case E:
                    return a(e, r);
                case b:
                case T:
                case S:
                case A:
                case C:
                case P:
                case O:
                case w:
                case k:
                    return c(e, r);
                case p:
                    return o(e, r, n);
                case _:
                case v:
                    return new I(e);
                case h:
                    return s(e);
                case m:
                    return l(e, r, n);
                case y:
                    return u(e)
            }
        }
        var i = n(207),
            a = n(387),
            o = n(388),
            s = n(390),
            l = n(391),
            u = n(393),
            c = n(206),
            d = "[object Boolean]",
            f = "[object Date]",
            p = "[object Map]",
            _ = "[object Number]",
            h = "[object RegExp]",
            m = "[object Set]",
            v = "[object String]",
            y = "[object Symbol]",
            g = "[object ArrayBuffer]",
            E = "[object DataView]",
            b = "[object Float32Array]",
            T = "[object Float64Array]",
            S = "[object Int8Array]",
            A = "[object Int16Array]",
            C = "[object Int32Array]",
            P = "[object Uint8Array]",
            O = "[object Uint8ClampedArray]",
            w = "[object Uint16Array]",
            k = "[object Uint32Array]";
        e.exports = r
    }, function(e, t, n) {
        function r(e, t) {
            var n = t ? i(e.buffer) : e.buffer;
            return new e.constructor(n, e.byteOffset, e.byteLength)
        }
        var i = n(207);
        e.exports = r
    }, function(e, t, n) {
        function r(e, t, n) {
            var r = t ? n(o(e), s) : o(e);
            return a(r, i, new e.constructor)
        }
        var i = n(389),
            a = n(215),
            o = n(141),
            s = 1;
        e.exports = r
    }, function(e, t) {
        function n(e, t) {
            return e.set(t[0], t[1]), e
        }
        e.exports = n
    }, function(e, t) {
        function n(e) {
            var t = new e.constructor(e.source, r.exec(e));
            return t.lastIndex = e.lastIndex, t
        }
        var r = /\w*$/;
        e.exports = n
    }, function(e, t, n) {
        function r(e, t, n) {
            var r = t ? n(o(e), s) : o(e);
            return a(r, i, new e.constructor)
        }
        var i = n(392),
            a = n(215),
            o = n(142),
            s = 1;
        e.exports = r
    }, function(e, t) {
        function n(e, t) {
            return e.add(t), e
        }
        e.exports = n
    }, function(e, t, n) {
        function r(e) {
            return o ? Object(o.call(e)) : {}
        }
        var i = n(12),
            a = i ? i.prototype : void 0,
            o = a ? a.valueOf : void 0;
        e.exports = r
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e) {
            var t = (0, o.default)(e, l);
            return {
                type: s,
                params: t
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.ACTION_SET_ACCESS_TOKEN_PARAMS = void 0, t.setAccessTokenParams = i;
        var a = n(70),
            o = r(a),
            s = t.ACTION_SET_ACCESS_TOKEN_PARAMS = "set access token params",
            l = ["adblock", "need_https", "platform", "player_type"]
    }, function(e, t) {
        "use strict";

        function n(e) {
            return {
                type: r,
                online: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.setOnline = n;
        var r = t.ACTION_SET_ONLINE = "set online"
    }, function(e, t) {
        "use strict";

        function n(e) {
            return {
                type: i,
                screen: e
            }
        }

        function r() {
            return {
                type: a
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.pushScreen = n, t.popScreen = r;
        var i = t.ACTION_PUSH_SCREEN = "push screen",
            a = t.ACTION_POP_SCREEN = "pop screen";
        t.CONTENT_SCREEN = "content", t.ADVERTISEMENT_SCREEN = "advertisement", t.STITCHED_ADVERTISEMENT_SCREEN = "advertisement-bb", t.STORM_WARNING_SCREEN = "stormwarning", t.VOD_RECOMMENDATION_SCREEN = "vodrecommendations", t.VOD_RESTRICTED_SCREEN = "vodrestrictedscreen", t.COLLECTION_EMPTY_SCREEN = "collectionemptyscreen", t.ERROR_SCREEN = "error"
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e, t) {
            var n = {
                player_backend: e
            };
            return (0, o.default)(t, function(e, t) {
                if (0 === t.indexOf(l)) {
                    var r = t.substring(l.length);
                    n[r] = e
                }
            }), n.p = Math.floor(9999999 * Math.random()), {
                type: s,
                params: n
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.USHER_PREFIX = t.ACTION_SET_USHER_PARAMS = void 0, t.setUsherParams = i;
        var a = n(398),
            o = r(a),
            s = t.ACTION_SET_USHER_PARAMS = "set usher params",
            l = t.USHER_PREFIX = "usher_"
    }, function(e, t, n) {
        function r(e, t) {
            return null == e ? e : i(e, a(t), o)
        }
        var i = n(194),
            a = n(399),
            o = n(35);
        e.exports = r
    }, function(e, t, n) {
        function r(e) {
            return "function" == typeof e ? e : i
        }
        var i = n(25);
        e.exports = r
    }, function(e, t, n) {
        e.exports = n(401)
    }, function(e, t, n) {
        function r(e, t) {
            var n = s(e) ? i : a;
            return n(e, o(t))
        }
        var i = n(378),
            a = n(192),
            o = n(399),
            s = n(41);
        e.exports = r
    }, function(e, t) {
        "use strict";

        function n(e) {
            return {
                type: s,
                videoStats: e
            }
        }

        function r(e) {
            return {
                type: o,
                displayed: e
            }
        }

        function i(e) {
            return {
                type: l,
                requester: e
            }
        }

        function a(e) {
            return {
                type: u,
                requester: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.updateStats = n, t.displayStats = r, t.requestStatsEnabled = i, t.requestStatsDisabled = a;
        var o = t.ACTION_DISPLAY_STATS = "display stats",
            s = t.ACTION_UPDATE_STATS = "update stats",
            l = t.ACTION_ADD_STATS_REQUESTER = "add stats requesters",
            u = t.ACTION_REMOVE_STATS_REQUESTER = "remove stats requesters";
        t.STATS_UPDATE_INTERVAL = 1e3
    }, function(e, t, n) {
        "use strict";

        function r() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : u,
                t = arguments[1];
            switch (t.type) {
                case a.ACTION_SET_ONLINE:
                    return t.online ? s : l;
                case i.ACTION_SET_STREAM:
                    return u;
                case o.ACTION_SET_STREAMMETADATA:
                    return "live" === t.streamMetadata.type ? s : e;
                default:
                    return e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.UNKNOWN_STATUS = t.OFFLINE_STATUS = t.ONLINE_STATUS = void 0, t.onlineStatus = r;
        var i = n(334),
            a = n(395),
            o = n(336),
            s = t.ONLINE_STATUS = "online",
            l = t.OFFLINE_STATUS = "offline",
            u = t.UNKNOWN_STATUS = "unknown"
    }, function(e, t) {
        "use strict";

        function n(e) {
            return Array.prototype.slice.call(arguments, 1).forEach(function(t) {
                if (t)
                    for (var n in t) {
                        var r = Object.getOwnPropertyDescriptor(t, n);
                        r.get && (r.get = r.get.bind(t)), r.set && (r.set = r.set.bind(t)), "function" == typeof r.value && (r.value = r.value.bind(t)), Object.defineProperty(e, n, r)
                    }
            }), e
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.forwardProperties = n
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            if (e && e.__esModule) return e;
            var t = {};
            if (null != e)
                for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
            return t.default = e, t
        }

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function a(e) {
            if (Array.isArray(e)) {
                for (var t = 0, n = Array(e.length); t < e.length; t++) n[t] = e[t];
                return n
            }
            return Array.from(e)
        }

        function o(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.EmbedHost = void 0;
        var s = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            l = n(17),
            u = i(l),
            c = n(186),
            d = n(334),
            f = r(d),
            p = n(363),
            _ = n(403),
            h = n(333),
            m = n(331),
            v = n(402),
            y = n(183),
            g = n(406),
            E = r(g);
        t.EmbedHost = function() {
            function e(t, n, r) {
                o(this, e), this._player = t, this._store = r, this._clients = [], this._unsubscribes = [], this._window = this._store.getState().window, n.addEventListener(c.EVENT_STATE_UPDATE, this._sendPlayerState.bind(this)), n.addEventListener(c.EVENT_PLAYER_UPDATE, this._sendPlayerEvent.bind(this)), this._window.addEventListener("message", this);
                var i = this._window.opener || this._window.parent;
                i && i !== this._window && this._addClient(i), this._initSubscriptions(), this._sendStoreState()
            }
            return s(e, [{
                key: "_initSubscriptions",
                value: function() {
                    var e = this;
                    this._unsubscribes.push((0, y.subscribe)(this._store, ["stats.videoStats"], function() {
                        e._sendStoreState()
                    })), this._unsubscribes.push((0, y.subscribe)(this._store, ["viewercount"], function() {
                        e._sendStoreState(), e._sendPlayerEvent(E.EVENT_EMBED_VIEWERS_CHANGE)
                    })), this._unsubscribes.push((0, y.subscribe)(this._store, ["playback.paused", "playback.ended", "playback.hasPlayed"], function(t) {
                        var n = t.playback,
                            r = n.paused,
                            i = n.ended,
                            a = n.hasPlayed;
                        i ? e._sendPlayerEvent(E.EVENT_EMBED_ENDED) : r ? e._sendPlayerEvent(E.EVENT_EMBED_PAUSE) : a && e._sendPlayerEvent(E.EVENT_EMBED_PLAY)
                    })), this._unsubscribes.push((0, y.subscribe)(this._store, ["onlineStatus"], function(t) {
                        var n = t.onlineStatus;
                        n === _.ONLINE_STATUS ? e._sendPlayerEvent(E.EVENT_EMBED_ONLINE) : e._sendPlayerEvent(E.EVENT_EMBED_OFFLINE)
                    }))
                }
            }, {
                key: "_addClient",
                value: function(e) {
                    this._clients.push(e), this._send(e, E.BRIDGE_HOST_READY), this._store.dispatch((0, v.requestStatsEnabled)(this))
                }
            }, {
                key: "_send",
                value: function(e, t) {
                    var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : [],
                        r = Array.isArray(n) ? n : [n],
                        i = {
                            namespace: E.BRIDGE_CLIENT_NAMESPACE,
                            method: t,
                            args: r
                        };
                    e.postMessage(i, "*")
                }
            }, {
                key: "_sendAll",
                value: function(e, t) {
                    var n = this;
                    this._clients.forEach(function(r) {
                        n._send(r, e, t)
                    })
                }
            }, {
                key: "handleEvent",
                value: function(e) {
                    if ((0, u.default)(e.data) && e.data.namespace === E.BRIDGE_HOST_NAMESPACE) switch (e.data.method) {
                        case E.BRIDGE_REQ_SUBSCRIBE:
                            this._addClient(e.source);
                            break;
                        case E.METHOD_PLAY:
                            this._store.dispatch((0, p.play)());
                            break;
                        case E.METHOD_PAUSE:
                            this._store.dispatch((0, p.pause)());
                            break;
                        case E.METHOD_SET_CHANNEL:
                            var t = e.data.args[0];
                            this._store.dispatch(f.setStream(f.TYPE_CHANNEL, t)), this._store.dispatch((0, h.clearCollection)());
                            break;
                        case E.METHOD_SET_VIDEO:
                            var n = e.data.args[0];
                            this._store.dispatch(f.setStream(f.TYPE_VIDEO, n)), this._store.dispatch((0, h.clearCollection)());
                            break;
                        case E.METHOD_SET_COLLECTION:
                            this._store.dispatch(h.requestCollection.apply(void 0, a(e.data.args)));
                            break;
                        case E.METHOD_SEEK:
                            this._player.setCurrentTime(parseFloat(e.data.args[0]));
                            break;
                        case E.METHOD_SET_QUALITY:
                            this._store.dispatch((0, m.selectQuality)(e.data.args[0]));
                            break;
                        case E.METHOD_SET_MUTE:
                            this._store.dispatch((0, p.mutePlayer)(!!e.data.args[0]));
                            break;
                        case E.METHOD_SET_VOLUME:
                            this._store.dispatch((0, p.changeVolume)(e.data.args[0]));
                            break;
                        case E.METHOD_DESTROY:
                            this._player.destroy(), this.destroy(), this._sendAll(E.BRIDGE_DESTROY)
                    }
                }
            }, {
                key: "_sendPlayerState",
                value: function(e) {
                    this._sendAll(E.BRIDGE_STATE_UPDATE, e.toJSON())
                }
            }, {
                key: "_sendPlayerEvent",
                value: function(e) {
                    this._sendAll(E.BRIDGE_PLAYER_EVENT, e)
                }
            }, {
                key: "_sendStoreState",
                value: function() {
                    var e = this._store.getState(),
                        t = e.viewercount,
                        n = e.stats.videoStats,
                        r = e.analytics,
                        i = {
                            viewercount: t,
                            stats: {
                                videoStats: n
                            },
                            playSessionId: r.playSessionId
                        };
                    this._sendAll(E.BRIDGE_STORE_STATE_UPDATE, i)
                }
            }, {
                key: "destroy",
                value: function() {
                    this._store.dispatch((0, v.requestStatsDisabled)(this)), this._window.removeEventListener("message", this), this._unsubscribes.forEach(function(e) {
                        return e()
                    })
                }
            }]), e
        }()
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function a(e) {
            var t = (0, _.toString)((0, c.default)(e, "width", "height")),
                n = m + "/?" + t,
                r = document.createElement("iframe");
            return r.setAttribute("src", n), e.allowfullscreen !== !1 && r.setAttribute("allowfullscreen", ""), e.width && r.setAttribute("width", e.width), e.height && r.setAttribute("height", e.height), r.setAttribute("frameBorder", "0"), r.setAttribute("scrolling", "no"), r
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.EmbedClient = t.PLAYBACK_ENDED = t.PLAYBACK_PLAYING = t.PLAYBACK_PAUSED = t.BRIDGE_DESTROY = t.BRIDGE_CLIENT_NAMESPACE = t.BRIDGE_HOST_NAMESPACE = t.BRIDGE_DOCUMENT_EVENT = t.BRIDGE_PLAYER_EVENT = t.BRIDGE_STORE_STATE_UPDATE = t.BRIDGE_STATE_UPDATE = t.BRIDGE_HOST_READY = t.BRIDGE_REQ_SUBSCRIBE = t.METHOD_DESTROY = t.METHOD_SET_VOLUME = t.METHOD_SET_MUTE = t.METHOD_SET_QUALITY = t.METHOD_SEEK = t.METHOD_SET_COLLECTION = t.METHOD_SET_VIDEO = t.METHOD_SET_CHANNEL = t.METHOD_PAUSE = t.METHOD_PLAY = t.EVENT_EMBED_VIEWERS_CHANGE = t.EVENT_EMBED_OFFLINE = t.EVENT_EMBED_ONLINE = t.EVENT_EMBED_ENDED = t.EVENT_EMBED_PAUSE = t.EVENT_EMBED_PLAY = t.EVENT_EMBED_READY = void 0;
        var o = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            s = n(320),
            l = r(s),
            u = n(407),
            c = r(u),
            d = n(164),
            f = r(d),
            p = n(176),
            _ = n(247),
            h = n(341),
            m = function() {
                var e = "https://player.twitch.tv";
                if (document.currentScript) e = document.currentScript.src;
                else {
                    var t = Array.prototype.filter.call(document.scripts, function(e) {
                        return /twitch\.tv.*embed/.test(e.src)
                    });
                    e = t.length > 0 ? t[0].src : document.scripts[document.scripts.length - 1].src
                }
                var n = (0, p.parseUri)(e);
                return n.protocol + "://" + n.authority
            }(),
            v = 15e3,
            y = {
                channelName: "",
                currentTime: 0,
                duration: 0,
                muted: !1,
                playback: "",
                quality: "",
                qualitiesAvailable: [],
                stats: {},
                videoID: "",
                viewers: 0,
                volume: 0
            },
            g = t.EVENT_EMBED_READY = "ready",
            E = (t.EVENT_EMBED_PLAY = "play", t.EVENT_EMBED_PAUSE = "pause", t.EVENT_EMBED_ENDED = "ended", t.EVENT_EMBED_ONLINE = "online", t.EVENT_EMBED_OFFLINE = "offline", t.EVENT_EMBED_VIEWERS_CHANGE = "viewerschange", t.METHOD_PLAY = "play", t.METHOD_PAUSE = "pause", t.METHOD_SET_CHANNEL = "channel", t.METHOD_SET_VIDEO = "video", t.METHOD_SET_COLLECTION = "collection", t.METHOD_SEEK = "seek", t.METHOD_SET_QUALITY = "quality", t.METHOD_SET_MUTE = "mute", t.METHOD_SET_VOLUME = "volume", t.METHOD_DESTROY = "destroy"),
            b = t.BRIDGE_REQ_SUBSCRIBE = "subscribe",
            T = t.BRIDGE_HOST_READY = "ready",
            S = t.BRIDGE_STATE_UPDATE = "bridgestateupdate",
            A = t.BRIDGE_STORE_STATE_UPDATE = "bridgestorestateupdate",
            C = t.BRIDGE_PLAYER_EVENT = "bridgeplayerevent",
            P = (t.BRIDGE_DOCUMENT_EVENT = "bridgedocumentevent", t.BRIDGE_HOST_NAMESPACE = "player.embed.host"),
            O = t.BRIDGE_CLIENT_NAMESPACE = "player.embed.client",
            w = t.BRIDGE_DESTROY = "bridgedestroy";
        t.PLAYBACK_PAUSED = "paused", t.PLAYBACK_PLAYING = "playing", t.PLAYBACK_ENDED = "ended", t.EmbedClient = function() {
            function e(t, n) {
                i(this, e), this._eventEmitter = new f.default, this._playerState = y, this._storeState = {}, this._onHostReady = this._getHostReady(), this._iframe = a(n), t.appendChild(this._iframe), this._host = this._iframe.contentWindow, this._send(b)
            }
            return o(e, [{
                key: "destroy",
                value: function() {
                    this.callPlayerMethod(E)
                }
            }, {
                key: "_getHostReady",
                value: function() {
                    var e = this;
                    return new h.Promise(function(t, n) {
                        function r(e) {
                            this._isClientMessage(e) && e.data.method === T && (window.removeEventListener("message", i), window.addEventListener("message", this), this._eventEmitter.emit(g), t())
                        }
                        var i = r.bind(e);
                        window.addEventListener("message", i), setTimeout(n, v)
                    })
                }
            }, {
                key: "_send",
                value: function(e) {
                    for (var t = arguments.length, n = Array(t > 1 ? t - 1 : 0), r = 1; r < t; r++) n[r - 1] = arguments[r];
                    var i = {
                        namespace: P,
                        method: e,
                        args: n
                    };
                    this._host.postMessage(i, "*")
                }
            }, {
                key: "_deferSend",
                value: function() {
                    for (var e = this, t = arguments.length, n = Array(t), r = 0; r < t; r++) n[r] = arguments[r];
                    this._onHostReady.then(function() {
                        return e._send.apply(e, n)
                    })
                }
            }, {
                key: "_isClientMessage",
                value: function(e) {
                    return !!this._iframe && (Boolean(e.data) && e.data.namespace === O && e.source === this._iframe.contentWindow)
                }
            }, {
                key: "handleEvent",
                value: function(e) {
                    if (this._isClientMessage(e)) switch (e.data.method) {
                        case S:
                            this._playerState = e.data.args[0];
                            break;
                        case C:
                            this._eventEmitter.emit(e.data.args[0]);
                            break;
                        case A:
                            this._storeState = e.data.args[0];
                            break;
                        case w:
                            this._iframe.parentNode.removeChild(this._iframe), delete this._iframe, delete this._host
                    }
                }
            }, {
                key: "getPlayerState",
                value: function() {
                    return this._playerState
                }
            }, {
                key: "getStoreState",
                value: function() {
                    return this._storeState
                }
            }, {
                key: "addEventListener",
                value: function(e, t) {
                    this._eventEmitter.on(e, t)
                }
            }, {
                key: "removeEventListener",
                value: function(e, t) {
                    this._eventEmitter.off(e, t)
                }
            }, {
                key: "callPlayerMethod",
                value: function(e) {
                    for (var t = arguments.length, n = Array(t > 1 ? t - 1 : 0), r = 1; r < t; r++) n[r - 1] = arguments[r];
                    this._deferSend.apply(this, [e].concat(n))
                }
            }, {
                key: "setWidth",
                value: function(e) {
                    (0, l.default)(e) && e >= 0 && this._iframe.setAttribute("width", e)
                }
            }, {
                key: "setHeight",
                value: function(e) {
                    (0, l.default)(e) && e >= 0 && this._iframe.setAttribute("height", e)
                }
            }]), e
        }()
    }, function(e, t, n) {
        var r = n(65),
            i = n(377),
            a = n(408),
            o = n(74),
            s = n(4),
            l = n(411),
            u = n(109),
            c = n(384),
            d = 1,
            f = 2,
            p = 4,
            _ = u(function(e, t) {
                var n = {};
                if (null == e) return n;
                var u = !1;
                t = r(t, function(t) {
                    return t = o(t, e), u || (u = t.length > 1), t
                }), s(e, c(e), n), u && (n = i(n, d | f | p, l));
                for (var _ = t.length; _--;) a(n, t[_]);
                return n
            });
        e.exports = _
    }, function(e, t, n) {
        function r(e, t) {
            return t = i(t, e), e = o(e, t), null == e || delete e[s(a(t))]
        }
        var i = n(74),
            a = n(409),
            o = n(410),
            s = n(104);
        e.exports = r
    }, function(e, t) {
        function n(e) {
            var t = null == e ? 0 : e.length;
            return t ? e[t - 1] : void 0
        }
        e.exports = n
    }, function(e, t, n) {
        function r(e, t) {
            return t.length < 2 ? e : i(e, a(t, 0, -1))
        }
        var i = n(73),
            a = n(232);
        e.exports = r
    }, function(e, t, n) {
        function r(e) {
            return i(e) ? void 0 : e
        }
        var i = n(212);
        e.exports = r
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            if (e && e.__esModule) return e;
            var t = {};
            if (null != e)
                for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
            return t.default = e, t
        }

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function a(e) {
            var t = e.which || e.keyCode || e.charCode;
            return e.key ? e.key : N[t]
        }

        function o(e, t, n, r) {
            function i(t) {
                var r = e.getChannel(),
                    i = n.getState().playback.duration,
                    a = e.getCurrentTime();
                if (!r && (0, l.default)(i) && !e.getPaused()) {
                    var s = o(a, t, C, i, e.getEnded());
                    s && e.setCurrentTime(s)
                }
            }

            function o(e, t, n, r, i) {
                var a = i ? r + t : e + t;
                return a < n ? n : a > r ? null : a
            }
            var s = !1;
            t.setAttribute("tabindex", r.tabindex || -1), t.addEventListener("keydown", function(t) {
                var r = t.target || t.srcElement,
                    o = "INPUT" === r.tagName && "text" === $(r).attr("type"),
                    l = "TEXTAREA" === r.tagName,
                    u = "true" === r.contentEditable;
                if (!(o || l || u)) {
                    var C = a(t),
                        N = void 0,
                        R = void 0;
                    switch (C) {
                        case h:
                            s = !0;
                            break;
                        case m:
                            n.getState().playback.paused ? n.dispatch((0, p.play)()) : n.dispatch((0, p.pause)());
                            break;
                        case v:
                            e.setMuted(!1);
                            break;
                        case y:
                            e.setMuted(!0);
                            break;
                        case E:
                        case O:
                            N = n.getState().playback.volume, R = Math.round(100 * Math.min(N + c.volumeStepAmount, 1)) / 100, n.dispatch((0, p.changeVolume)(R));
                            break;
                        case b:
                        case w:
                            N = Math.round(100 * n.getState().playback.volume) / 100, R = Math.round(100 * Math.max(N - c.volumeStepAmount, 0)) / 100, n.dispatch((0, p.changeVolume)(R));
                            break;
                        case g:
                        case P:
                            n.getState().collection.currentView === _.SIDEBAR_VIEW && n.dispatch((0, d.closeCollectionSidebar)());
                            break;
                        case A:
                            if (!s) return;
                            n.dispatch((0, f.toggleFullScreen)());
                            break;
                        case S:
                        case I:
                            i(c.hotkeySeekAmount);
                            break;
                        case T:
                        case k:
                            i(-c.hotkeySeekAmount);
                            break;
                        default:
                            return
                    }
                    t.preventDefault()
                }
            }), t.addEventListener("keyup", function(e) {
                var t = a(e);
                t === h && (s = !1)
            })
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.PlayerHotkeys = o;
        var s = n(320),
            l = i(s),
            u = n(168),
            c = r(u),
            d = n(333),
            f = n(182),
            p = n(363),
            _ = n(413),
            h = "Control",
            m = " ",
            v = "PageUp",
            y = "PageDown",
            g = "Escape",
            E = "ArrowUp",
            b = "ArrowDown",
            T = "ArrowLeft",
            S = "ArrowRight",
            A = "KeyF",
            C = .01,
            P = "Esc",
            O = "Up",
            w = "Down",
            k = "Left",
            I = "Right",
            N = Object.freeze({
                17: h,
                32: m,
                33: v,
                34: y,
                27: g,
                38: E,
                40: b,
                37: T,
                39: S,
                70: A
            })
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : p,
                t = arguments[1];
            switch (t.type) {
                case a.ACTION_REQUEST_COLLECTION:
                    return (0, l.default)({}, e, {
                        pendingRequest: t.request
                    });
                case a.ACTION_FETCHED_FEATURED_COLLECTION:
                    return (0, l.default)({}, e, {
                        featuredCollection: (0, l.default)({}, f, t.featuredCollection)
                    });
                case a.ACTION_SET_COLLECTION:
                    return (0, l.default)({}, e, t.collection, {
                        pendingRequest: {
                            collectionId: "",
                            videoId: ""
                        },
                        currentView: u
                    });
                case a.ACTION_CLEAR_COLLECTION:
                    return p;
                case a.ACTION_OPEN_COLLECTION_SIDEBAR:
                    return (0, l.default)({}, e, {
                        currentView: c
                    });
                case a.ACTION_CLOSE_COLLECTION_SIDEBAR:
                    return (0, l.default)({}, e, {
                        currentView: u
                    });
                case o.ACTION_SET_STREAM:
                    return (0, l.default)({}, e, {
                        pendingRequest: {
                            collectionId: "",
                            videoId: ""
                        },
                        featuredCollection: f
                    });
                default:
                    return e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.NO_COLLECTION_VIEW = t.SIDEBAR_VIEW = t.COLLAPSED_VIEW = void 0, t.collection = i;
        var a = n(333),
            o = n(334),
            s = n(201),
            l = r(s),
            u = t.COLLAPSED_VIEW = "collapsed",
            c = t.SIDEBAR_VIEW = "sidebar",
            d = t.NO_COLLECTION_VIEW = "none",
            f = {
                id: "",
                itemsCount: 0,
                owner: {
                    displayName: "",
                    id: "",
                    name: ""
                },
                thumbnails: {
                    large: "https://static-cdn.jtvnw.net/jtv_user_pictures/xarth/404_user_70x70.png",
                    medium: "https://static-cdn.jtvnw.net/jtv_user_pictures/xarth/404_user_70x70.png",
                    small: "https://static-cdn.jtvnw.net/jtv_user_pictures/xarth/404_user_70x70.png",
                    template: "https://static-cdn.jtvnw.net/jtv_user_pictures/xarth/404_user_70x70.png"
                },
                title: ""
            },
            p = {
                id: "",
                owner: {
                    displayName: "",
                    id: "",
                    name: ""
                },
                thumbnails: {
                    large: "https://static-cdn.jtvnw.net/jtv_user_pictures/xarth/404_user_70x70.png",
                    medium: "https://static-cdn.jtvnw.net/jtv_user_pictures/xarth/404_user_70x70.png",
                    small: "https://static-cdn.jtvnw.net/jtv_user_pictures/xarth/404_user_70x70.png",
                    template: "https://static-cdn.jtvnw.net/jtv_user_pictures/xarth/404_user_70x70.png"
                },
                title: "",
                totalDuration: 0,
                views: 0,
                items: [],
                currentView: d,
                pendingRequest: {
                    collectionId: "",
                    videoId: ""
                },
                featuredCollection: f
            }
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            if (e && e.__esModule) return e;
            var t = {};
            if (null != e)
                for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
            return t.default = e, t
        }

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function a(e, t, r, i, a, o, x) {
            function B() {
                var y = (0, s.default)(x, {
                    showInfo: x.channelInfo,
                    branding: !0,
                    devcaptions: !1
                }, {
                    showInfo: !0
                });
                $(t).addClass("player").addClass("theme--dark"), $(t).append(n(712));
                var S = a.getState().playback.muted;
                a.dispatch((0, I.initializeCaptionsSettings)(S)), a.dispatch((0, N.initializePlaybackSettings)()), a.dispatch((0, R.initializeSettings)()), H.default.render(F.default.createElement(G.Provider, {
                    store: a
                }, F.default.createElement(q.I18nextProvider, {
                    i18n: Y.I18N_INSTANCE
                }, F.default.createElement(T.StreamInfo, null))), document.getElementById("stream-info")), X(a), H.default.render(F.default.createElement(E.Seekbar, {
                    store: a,
                    seek: e.setCurrentTime.bind(e)
                }), document.getElementById("js-player-seek")), H.default.render(F.default.createElement(C.VolumeSlider, {
                    store: a
                }), document.getElementById("js-player-volume")), H.default.render(F.default.createElement(A.MutedSegmentsAlert, {
                    store: a
                }), document.getElementById("js-player-alert-container")), ee(a), Z(a), J(a), V(a), H.default.render(F.default.createElement(G.Provider, {
                    store: a
                }, F.default.createElement(q.I18nextProvider, {
                    i18n: Y.I18N_INSTANCE
                }, F.default.createElement(Q.InPlayerRecommendationsOverlay, null))), document.getElementById("js-player-recommendations-overlay")), H.default.render(F.default.createElement(G.Provider, {
                    store: a
                }, F.default.createElement(q.I18nextProvider, {
                    i18n: Y.I18N_INSTANCE
                }, F.default.createElement(b.Settings, null))), document.getElementById("js-settings")), o.hookUpForm(t), ne = new u.PlayerUIState(t, a), re = new d.PlayerUIInfo(e, t, a, y), ie = new f.PlayerUIStats(t, a), _e = new p.PlayerUIRecommendations(t, a), he = new w.PlayerUIError(t, a), ae = new _.PlayerUILeaveDialog(e, t, r, a, y), oe = new v.PlayerUILang(t, a), se = new h.PlayerUISubscribeOverlay(t, a), le = new m.PlayerUIResume(e, i, a, y), ce = new k.AgeRestrictionOverlay(t, e, a), de = new g.PlayerUIControlsDisplay(e, t, a), fe = new c.PlayerUIControls(e, t, a, de, y), me = new M.AdOverlay(t, a), ve = new D.CollectionOverlay(t, e, a), pe = new L.PlayerUIClipsEnabler(t, a, l.localStore, o), te(y), $(t).attr("data-initializing", !0), e.addEventListener(U.PLAYER_INIT, function() {
                    $(t).attr("data-initializing", !1)
                })
            }

            function V(e) {
                H.default.render(F.default.createElement(G.Provider, {
                    store: e
                }, F.default.createElement(q.I18nextProvider, {
                    i18n: Y.I18N_INSTANCE
                }, F.default.createElement(W.CollectionTopBar, null))), document.getElementById("collection-topbar"))
            }

            function X(e) {
                H.default.render(F.default.createElement(G.Provider, {
                    store: e
                }, F.default.createElement(S.StreamStatus, null)), document.getElementById("stream-status"))
            }

            function J(e) {
                H.default.render(F.default.createElement(G.Provider, {
                    store: e
                }, F.default.createElement(q.I18nextProvider, {
                    i18n: Y.I18N_INSTANCE
                }, F.default.createElement(z.Experiment, {
                    uuid: j.OFFLINE_EXPERIENCE,
                    renderValue: "show"
                }, F.default.createElement(K.FollowPanel, null)))), document.getElementById("js-follow-panel"))
            }

            function Z(e) {
                H.default.render(F.default.createElement(G.Provider, {
                    store: e
                }, F.default.createElement(q.I18nextProvider, {
                    i18n: Y.I18N_INSTANCE
                }, F.default.createElement(z.Experiment, {
                    uuid: j.AUTO_SUGGEST_NOTIFICATION,
                    renderValue: "show"
                }, F.default.createElement(O.NotificationPopUpsWrapper, null)))), document.getElementById("js-notification-popup-container"))
            }

            function ee(e) {
                e.getState().experiments.get(j.EXTENSIONS).then(function(t) {
                    var n = document.getElementById("js-player-extension-root");
                    return "yes" !== t ? void n.remove() : void H.default.render(F.default.createElement(G.Provider, {
                        store: e
                    }, F.default.createElement(q.I18nextProvider, {
                        i18n: Y.I18N_INSTANCE
                    }, F.default.createElement(P.ExtensionsContainer, {
                        store: e
                    }))), n)
                })
            }

            function te(e) {
                var n = void 0;
                n = e.devcaptions ? Promise.resolve("v2") : a.getState().experiments.get(j.CAPTIONS), n.then(function(e) {
                    "v2" === e && (ue = new y.PlayerUIClosedCaption(a, t)), $(t).attr("data-captions", e)
                })
            }
            var ne = void 0,
                re = void 0,
                ie = void 0,
                ae = void 0,
                oe = void 0,
                se = void 0,
                le = void 0,
                ue = void 0,
                ce = void 0,
                de = void 0,
                fe = void 0,
                pe = void 0,
                _e = void 0,
                he = void 0,
                me = void 0,
                ve = void 0;
            this.destroy = function() {
                ne.destroy(), re.destroy(), ie.destroy(), _e.destroy(), he.destroy(), ae.destroy(), oe.destroy(), se.destroy(), le.destroy(), de.destroy(), fe.destroy(), ce.destroy(), pe.destroy(), ue && ue.destroy(), _e.destroy(), me.destroy(), ve && ve.destroy()
            }, B()
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.PlayerUI = a;
        var o = n(1),
            s = i(o),
            l = n(250),
            u = n(415),
            c = n(417),
            d = n(419),
            f = n(421),
            p = n(422),
            _ = n(424),
            h = n(426),
            m = n(427),
            v = n(430),
            y = n(431),
            g = n(433),
            E = n(436),
            b = n(610),
            T = n(640),
            S = n(659),
            A = n(660),
            C = n(661),
            P = n(662),
            O = n(673),
            w = n(674),
            k = n(675),
            I = n(352),
            N = n(332),
            R = n(633),
            L = n(676),
            M = n(678),
            D = n(679),
            j = n(251),
            x = n(178),
            U = r(x),
            B = n(277),
            F = i(B),
            V = n(437),
            H = i(V),
            G = n(574),
            q = n(311),
            Y = n(681),
            K = n(650),
            W = n(700),
            z = n(634),
            Q = n(702)
    }, function(e, t, n) {
        "use strict";

        function r(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function i(e, t) {
            if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !t || "object" != typeof t && "function" != typeof t ? e : t
        }

        function a(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.PlayerUIState = void 0;
        var o = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            s = n(416),
            l = function(e) {
                function t(e, n) {
                    r(this, t);
                    var a = i(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this));
                    return a._root = e, a._store = n, a.subscribe(n, ["online", "playback"], a.handleEvent.bind(a)), a.subscribe(n, ["ui"], a.onUiUpdate.bind(a)), a.subscribe(n, ["playback.isLoading"], a.isLoading.bind(a)), a
                }
                return a(t, e), o(t, [{
                    key: "isLoading",
                    value: function(e) {
                        var t = e.playback.isLoading;
                        $(this._root).attr({
                            "data-loading": t
                        })
                    }
                }, {
                    key: "onUiUpdate",
                    value: function() {
                        var e = this._store.getState(),
                            t = e.ui;
                        $(this._root).attr({
                            "data-mini": t.isMini
                        })
                    }
                }, {
                    key: "handleEvent",
                    value: function() {
                        $(this._root).attr({
                            "data-paused": this._store.getState().playback.paused,
                            "data-ended": this._store.getState().playback.ended,
                            "data-online": this._store.getState().online
                        })
                    }
                }]), t
            }(s.UIStateSubscriber);
        t.PlayerUIState = l
    }, function(e, t, n) {
        "use strict";

        function r(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.UIStateSubscriber = void 0;
        var i = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            a = n(183),
            o = "unsub_" + Date.now();
        t.UIStateSubscriber = function() {
            function e() {
                r(this, e), this[o] = []
            }
            return i(e, [{
                key: "subscribe",
                value: function(e, t, n) {
                    this[o].push((0, a.subscribe)(e, t, n))
                }
            }, {
                key: "destroy",
                value: function() {
                    this[o].forEach(function(e) {
                        return e()
                    })
                }
            }]), e
        }()
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            if (e && e.__esModule) return e;
            var t = {};
            if (null != e)
                for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
            return t.default = e, t
        }

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function a(e, t, n, r, i) {
            function a() {
                var e = i;
                (0, c.isTwitchEmbed)() || (e = (0, s.default)(e, {
                    branding: !0
                })), l(), d(e), o(), r.showControls(_.initialControlsDelay), $(t).attr("data-branding", e.branding), $(t).attr("data-theatre", !1), $(t).attr("data-mini", !1), $(t).attr("data-showinfo", e.showInfo), w(), I.push(S()), I.push(A())
            }

            function o() {
                p(n.getState().screenMode)
            }

            function l() {
                e.addEventListener(y.CASTING_CHANGE, w), e.addEventListener(g.SEEKING, O)
            }

            function d(n) {
                n.player !== f.PLAYER_FRONTPAGE && $(t).on("dblclick", ".js-control-fullscreen-overlay", function(e) {
                    e.preventDefault(), T()
                }), $(t).on("click", ".js-control-playpause-button", b), $(t).on("click", ".js-control-play-button", b), $(t).on("click", ".js-control-fullscreen", T), $(t).on("click", ".js-control-theatre", C), $(t).on("click", ".js-chromecast-button", function() {
                    var t = e.getCasting();
                    "available" === t ? e.startCast() : e.stopCast()
                }), $(t).on("click", ".js-player-alert__close", function() {
                    $(this).closest(".js-player-alert").attr("data-active", !1)
                }), $(t).on("click", ".js-player-product-close", function(e) {
                    e.preventDefault(), k()
                })
            }

            function p(e) {
                var n = e.isFullScreen,
                    r = e.canFullScreen;
                $(t).attr("data-isfullscreen", n), $(t).attr("data-canfullscreen", r)
            }

            function b() {
                var e = n.getState(),
                    t = e.playback,
                    r = e.analyticsTracker;
                t.paused ? n.dispatch((0, v.play)()) : n.dispatch((0, v.pause)()), r.trackEvent("player_click_playpause")
            }

            function T() {
                var e = n.getState(),
                    t = e.analyticsTracker,
                    r = e.screenMode;
                t.trackEvent("player_click_fullscreen", {
                    action: !r.isFullScreen
                }), n.dispatch((0, E.toggleFullScreen)())
            }

            function S() {
                return (0, h.subscribe)(n, ["screenMode.isFullScreen", "screenMode.canFullScreen"], function(e) {
                    var t = e.screenMode;
                    p(t)
                })
            }

            function A() {
                return (0, h.subscribe)(n, ["screenMode.isTheatreMode", "screenMode.canTheatreMode"], function(e) {
                    var t = e.screenMode;
                    P(t)
                })
            }

            function C() {
                n.dispatch((0, E.toggleTheatreMode)()), n.getState().analyticsTracker.trackEvent("player_click_theater")
            }

            function P(e) {
                var n = e.canTheatreMode,
                    i = e.isTheatreMode;
                $(t).attr("data-showtheatre", n), $(t).attr("data-theatre", i), r.setHovering(!1), r.showControls(_.hoverControlsDelay)
            }

            function O() {
                r.showControls(_.hoverControlsDelay)
            }

            function w() {
                if (n.getState().env.playerType !== f.PLAYER_HIGHLIGHTER) {
                    var i = e.getCasting();
                    if ("error" === i && (i = "available"), $(t).attr("data-casting", i), "connected" === i) {
                        var a = e.getCastDevice();
                        a = (0, u.default)(a) ? a : "Chromecast", n.dispatch((0, m.setDeviceName)(a))
                    }
                    "connected" === i || "connecting" === i ? ($(t).attr("data-chromecast", "true"), r.showControls()) : ($(t).attr("data-chromecast", "false"), r.showControls(_.hoverControlsDelay))
                }
            }

            function k() {
                $(".js-player-product-overlay", t).attr("data-active", !1)
            }
            var I = [];
            this.destroy = function() {
                $(t).off("click"), $(t).off("dblclick"), I.forEach(function(e) {
                    return e()
                })
            }, a()
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.PlayerUIControls = a;
        var o = n(118),
            s = i(o),
            l = n(58),
            u = i(l),
            c = n(218),
            d = n(217),
            f = r(d),
            p = n(168),
            _ = r(p),
            h = n(183),
            m = n(418),
            v = n(363),
            y = n(178),
            g = n(179),
            E = n(182)
    }, function(e, t) {
        "use strict";

        function n(e) {
            return {
                type: r,
                deviceName: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.setDeviceName = n;
        var r = t.ACTION_SET_DEVICE_NAME = "set device name"
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            if (e && e.__esModule) return e;
            var t = {};
            if (null != e)
                for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
            return t.default = e, t
        }

        function i(e, t, n, r) {
            function i() {
                N.push((0, h.subscribe)(n, ["screenMode.isFullScreen", "screenMode.isTheatreMode"], a)), a();
                var i = r.player;
                $(t).attr("data-playertype", i), i === o.PLAYER_FRONTPAGE && $(t).on("click", ".js-control-fullscreen-overlay", function() {
                    n.dispatch((0, T.emitOpenStream)())
                }), $(t).on("click", ".js-watch-twitch", function(t) {
                    t.preventDefault(), I.then(function(t) {
                        var r = e.getCurrentTime(),
                            i = t;
                        e.video && r && (i += "?t=" + d.toURLString(Math.round(r))), window.open(i, "_blank"), n.dispatch((0, b.pause)())
                    })
                }), e.addEventListener(v.ENDED, y), e.addEventListener(v.PLAYING, l), e.addEventListener(g.AD_START, c), N.push((0, h.subscribe)(n, ["viewercount"], function(e) {
                    var n = e.viewercount;
                    $(t).attr("data-viewers", n)
                })), N.push((0, h.subscribe)(n, ["streamMetadata"], function(e) {
                    var t = e.streamMetadata,
                        r = n.getState(),
                        i = r.stream;
                    switch (i.contentType) {
                        case f.CONTENT_MODE_LIVE:
                            P(t), I = Promise.resolve((0, s.channelUrl)(i.channel));
                            break;
                        case p.CONTENT_MODE_VOD:
                            if (P(t), t.preview.template) {
                                var a = t.preview.template;
                                L = a.replace("320x240", C), w()
                            }
                            I = (0, s.videoUrl)(t.channel.name, t.videoId);
                            break;
                        case _.CONTENT_MODE_NONE:
                            t.streamType === A.TYPE_DEAD_LTV && (L = t.channel.videoBanner.replace("320x240", C), w())
                    }
                })), N.push((0, h.subscribe)(n, ["screen"], function(e) {
                    var n = e.screen;
                    $(t).attr("data-screen", n[0])
                })), N.push((0, h.subscribe)(n, ["onlineStatus"], m)), N.push((0, h.subscribe)(n, ["streamMetadata"], function(e) {
                    var t = e.streamMetadata;
                    if (t.preview.template) {
                        var n = "320x240",
                            r = "{width}x{height}";
                        L = t.preview.template.replace(new RegExp("(" + n + "|" + r + ")", "g"), C), w()
                    }
                }))
            }

            function a() {
                var e = n.getState(),
                    i = e.screenMode;
                r.showInfo || i.isTheatreMode || i.isFullScreen ? $(t).attr("data-showinfo", !0) : $(t).attr("data-showinfo", !1)
            }

            function l() {
                k()
            }

            function c() {
                k()
            }

            function m(e) {
                var n = e.onlineStatus;
                $(t).attr("data-online", n === S.ONLINE_STATUS)
            }

            function y() {
                var r = n.getState(),
                    i = r.onlineStatus,
                    a = e.getChannel();
                a && i === S.OFFLINE_STATUS && (O(), $(t).attr("data-loading", !1))
            }

            function P(n) {
                var r = n.channelName;
                R = n.channel.videoBanner;
                var i = e.getEnded();
                i && O(), $(t).attr({
                    "data-channel": r || null,
                    "data-video": e.getVideo() || null
                })
            }

            function O() {
                var r = e.getChannel();
                R && r && $(".js-offline-banner", t).css("background-image", "url('" + R + "')"), n.dispatch((0, E.contentIsShowing)())
            }

            function w() {
                var r = n.getState(),
                    i = r.streamMetadata,
                    a = e.getPaused() || e.getReadyState() === u.HAVE_NOTHING,
                    o = _.CONTENT_MODE_NONE === n.getState().stream.contentType;
                (o || !e.getAutoplay() && a) && ($(t).attr("data-background", !0), $(".js-video-background-banner", t).css("background-image", "url('" + L + "')")), e.getAutoplay() && i.streamType !== A.TYPE_DEAD_LTV || n.dispatch((0, E.contentIsShowing)())
            }

            function k() {
                $(t).attr("data-background", !1)
            }
            var I = Promise.reject();
            I.then(null, function() {
                return null
            });
            var N = [],
                R = void 0,
                L = void 0;
            this.destroy = function() {
                $(t).off("click"), N.forEach(function(e) {
                    return e()
                }), N = null
            }, i()
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.PlayerUIInfo = i;
        var a = n(217),
            o = r(a),
            s = n(200),
            l = n(329),
            u = r(l),
            c = n(317),
            d = r(c),
            f = n(167),
            p = n(220),
            _ = n(225),
            h = n(183),
            m = n(179),
            v = r(m),
            y = n(177),
            g = r(y),
            E = n(332),
            b = n(363),
            T = n(185),
            S = n(403),
            A = n(420),
            C = "1280x720"
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : p,
                t = arguments[1];
            switch (t.type) {
                case a.ACTION_SET_STREAMMETADATA:
                    return (0, c.default)({}, e, t.streamMetadata);
                case o.ACTION_SET_STREAM:
                    return (0, f.default)({}, p, {
                        channelName: t.stream.contentType === s.CONTENT_MODE_LIVE ? t.stream.channel : null,
                        videoId: t.stream.contentType === l.CONTENT_MODE_VOD ? t.stream.videoId : null
                    });
                default:
                    return e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.TYPE_DEAD_LTV = void 0, t.streamMetadata = i;
        var a = n(336),
            o = n(334),
            s = n(167),
            l = n(220),
            u = n(201),
            c = r(u),
            d = n(117),
            f = r(d),
            p = (t.TYPE_DEAD_LTV = "dead_ltv", Object.freeze({
                broadcastID: 0,
                channelName: null,
                videoId: null,
                channel: {
                    displayName: "",
                    name: "",
                    id: 0,
                    partner: !1,
                    status: "",
                    videoBanner: "",
                    logo: ""
                },
                createdAt: "",
                game: "",
                preview: {
                    template: ""
                },
                streamType: "",
                url: "",
                viewers: a.VIEWERS_NOT_SET
            }))
    }, function(e, t, n) {
        "use strict";

        function r(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function i(e, t) {
            if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !t || "object" != typeof t && "function" != typeof t ? e : t
        }

        function a(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.PlayerUIStats = void 0;
        var o = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            s = n(402),
            l = n(416);
        t.PlayerUIStats = function(e) {
            function t(e, n) {
                r(this, t);
                var a = i(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this));
                return a._store = n, a._root = e, $(a._root).on("click", ".js-stats-toggle", function(e) {
                    e.preventDefault(), a._toggleStatsPopup()
                }), $(a._root).on("click", ".js-stats-close", function(e) {
                    e.preventDefault(), a._toggleStatsPopup()
                }), a.subscribe(a._store, ["stream"], a.onStreamUpdate.bind(a)), a.subscribe(a._store, ["stats.videoStats"], a.updateStats.bind(a)), a.subscribe(a._store, ["stats.displayed"], a.displayStats.bind(a)), a
            }
            return a(t, e), o(t, [{
                key: "onStreamUpdate",
                value: function(e) {
                    var t = e.stream;
                    $(this._root).attr("data-content-stream", t.contentType)
                }
            }, {
                key: "displayStats",
                value: function(e) {
                    var t = e.stats.displayed,
                        n = this._store.getState(),
                        r = n.lang,
                        i = t ? "Hide Video Stats" : "Show Video Stats";
                    $(".js-playback-stats", this._root).attr("data-state", t ? "on" : "off"), $(".js-stats-toggle-text", this._root).text(r.translate(i))
                }
            }, {
                key: "updateStats",
                value: function(e) {
                    var t = e.stats.videoStats,
                        n = this._store.getState(),
                        r = n.stats.displayed;
                    r && ($(".js-stat-buffer-size", this._root).text(t.bufferSize), $(".js-stat-display-resolution", this._root).text(t.displayResolution), $(".js-stat-skipped-frames", this._root).text(t.skippedFrames), $(".js-stat-fps", this._root).text(t.fps), $(".js-stat-hls-latency-broadcaster", this._root).text(t.hlsLatencyBroadcaster), $(".js-stat-hls-latency-encoder", this._root).text(t.hlsLatencyEncoder), $(".js-stat-memory-usage", this._root).text(t.memoryUsage), $(".js-stat-playback-rate", this._root).text(t.playbackRate), $(".js-stat-video-resolution", this._root).text(t.videoResolution), $(".js-stat-video-backend-version", this._root).text(t.backendVersion))
                }
            }, {
                key: "_toggleStatsPopup",
                value: function() {
                    var e = this._store.getState().stats.displayed;
                    this._store.dispatch(e ? (0, s.requestStatsDisabled)(this) : (0, s.requestStatsEnabled)(this)), this._store.dispatch((0, s.displayStats)(!e))
                }
            }]), t
        }(l.UIStateSubscriber)
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function a(e, t) {
            if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !t || "object" != typeof t && "function" != typeof t ? e : t
        }

        function o(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.PlayerUIRecommendations = void 0;
        var s = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            l = function e(t, n, r) {
                null === t && (t = Function.prototype);
                var i = Object.getOwnPropertyDescriptor(t, n);
                if (void 0 === i) {
                    var a = Object.getPrototypeOf(t);
                    return null === a ? void 0 : e(a, n, r)
                }
                if ("value" in i) return i.value;
                var o = i.get;
                if (void 0 !== o) return o.call(r)
            },
            u = n(416),
            c = n(423),
            d = n(396),
            f = n(220),
            p = n(332),
            _ = n(120),
            h = r(_),
            m = "featured-vod",
            v = "featured-live",
            y = "other",
            g = 1e4,
            E = [{
                minWidth: 1600,
                columns: 6,
                columnWidth: 2
            }, {
                minWidth: 1024,
                columns: 4,
                columnWidth: 3
            }, {
                minWidth: 768,
                columns: 3,
                columnWidth: 4
            }, {
                minWidth: 480,
                columns: 2,
                columnWidth: 6
            }, {
                minWidth: 0,
                columns: 1,
                columnWidth: 8
            }],
            b = [{
                minHeight: 950,
                rows: 4
            }, {
                minHeight: 650,
                rows: 3
            }, {
                minHeight: 450,
                rows: 2
            }, {
                minHeight: 0,
                rows: 1
            }],
            T = "featured",
            S = "other";
        t.PlayerUIRecommendations = function(e) {
            function t(e, n) {
                i(this, t);
                var r = a(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this));
                return r.$root = e, r._store = n, r.subscribe(r._store, ["recommendations.videos"], r.onRecommendations.bind(r)),
                    r.subscribe(r._store, ["recommendations.numVideosVisible"], r.onVODVisibility.bind(r)), r.subscribe(r._store, ["screen"], r.onScreenChange.bind(r)), r.subscribe(r._store, ["ui.isMini"], r.onPersistentPlayerChange.bind(r)), r.$recommendationsOverlay = $(".js-recommendations-overlay", r.$root), r.$autoplayTemplate = $(".js-autoplay-timer", r.$root), r.$autoplayTemplate.detach(), r.$timeInfoTemplate = $(".js-recommendation-time-info", r.$root), r.$timeInfoTemplate.detach(), r.$template = $(".js-recommended-stream", r.$root), $(".js-video-recommendations", r.$root).empty(), $(".js-recommendations-overlay .js-player-tower", r.$root).on("click", ".js-recommended-stream", r.onSelect.bind(r)), $(".js-recommendations-overlay .js-player-tower", r.$root).on("click", ".js-featured-recommendations__more-videos", r.transitionToMoreVideos.bind(r)), r
            }
            return o(t, e), s(t, [{
                key: "onPersistentPlayerChange",
                value: function(e) {
                    var t = e.ui;
                    t.isMini && this.transitionToMoreVideos()
                }
            }, {
                key: "onRecommendations",
                value: function() {
                    var e = this,
                        t = this._store.getState(),
                        n = t.recommendations;
                    n.type === c.POST_VOD_RECOMMENDATIONS_TYPE && 0 !== n.videos.length && ($(".js-video-recommendations", this.$root).html(n.videos.map(function(t, n) {
                        var r = e.$template.clone();
                        0 === n && (e.$autoplayTemplate.clone().appendTo(r.find(".js-recommendations-card")), e.updateAutoplayProgress(100, Math.round(g / 1e3))), e.$timeInfoTemplate.clone().appendTo(r.find(".js-recommendations-card")), r.attr("data-index", n), r.find(".js-recommended-stream__thumbnail").attr("src", t.thumbnailURL), r.find(".js-recommended-stream__channel").text(t.channelName), r.find(".js-recommended-stream__title").text(t.title);
                        var i = e._store.getState().lang.langCode,
                            a = {
                                year: "numeric",
                                month: "short",
                                day: "numeric"
                            },
                            o = new Date(t.creationDate).toLocaleDateString(i, a);
                        r.find(".js-recommended-stream__date").text(o);
                        var s = Math.floor(t.duration / 3600),
                            l = ("0" + Math.floor(t.duration % 3600 / 60)).slice(-2),
                            u = ("0" + Math.floor(t.duration % 60)).slice(-2),
                            c = s + ":" + l + ":" + u;
                        return r.find(".js-recommended-stream__length").text(c), r
                    })), this.calculateNumVODsVisible())
                }
            }, {
                key: "onSelect",
                value: function(e) {
                    var t = this._store.getState(),
                        n = t.recommendations,
                        r = parseInt($(e.currentTarget).attr("data-index"), 10);
                    this.trackSelect(n.videos[r]), this.selectVOD(r)
                }
            }, {
                key: "selectVOD",
                value: function(e) {
                    var t = this._store.getState(),
                        n = t.recommendations,
                        r = n.videos[e];
                    this.stopAutoplayCountdown(), this._store.dispatch((0, p.selectRecommendedVideo)(r.id)), this._store.dispatch((0, d.popScreen)()), this._store.dispatch((0, c.clearRecommendedVODs)())
                }
            }, {
                key: "onScreenChange",
                value: function(e) {
                    var t = e.screen,
                        n = this._store.getState(),
                        r = n.stream,
                        i = n.recommendations,
                        a = n.resumeWatch;
                    return t[0] !== d.VOD_RECOMMENDATION_SCREEN || i.type !== c.POST_VOD_RECOMMENDATIONS_TYPE ? (this.$recommendationsOverlay.addClass("hidden"), this.stopAutoplayCountdown(), void this.stopCheckingForResize()) : (this.$recommendationsOverlay.removeClass("hidden"), this.trackShowRecs(), (0, c.isWatched)(i.videos[0], a.times) ? (this.showView(y), this.trackShowOtherVODs()) : r.contentType === f.CONTENT_MODE_VOD ? (this.showView(m), this.showAutoplay(), this.startAutoplayCountdown(), this.trackShowFeatured()) : (this.showView(v), this.trackShowFeatured()), void this.startCheckingForResize())
                }
            }, {
                key: "startCheckingForResize",
                value: function() {
                    var e = this,
                        t = this._store.getState(),
                        n = t.window;
                    n.clearInterval(this.resizeCheckInterval);
                    var r = 0,
                        i = 0;
                    this.resizeCheckInterval = n.setInterval(function() {
                        var t = $(e.$root).width(),
                            n = $(e.$root).height();
                        t === r && n === i || e.calculateNumVODsVisible(), r = t, i = n
                    }, 100)
                }
            }, {
                key: "stopCheckingForResize",
                value: function() {
                    var e = this._store.getState(),
                        t = e.window;
                    t.clearInterval(this.resizeCheckInterval)
                }
            }, {
                key: "calculateNumVODsVisible",
                value: function() {
                    var e = $(this.$root).width(),
                        t = $(this.$root).height(),
                        n = this._store.getState().recommendations.numVideosVisible,
                        r = (0, h.default)(E, function(t) {
                            return e >= t.minWidth
                        }),
                        i = (0, h.default)(b, function(e) {
                            return t >= e.minHeight
                        }),
                        a = r.columns * i.rows;
                    a !== n && this._store.dispatch((0, c.setVODVisibility)(a)), $(".js-recommended-stream").attr("data-columns", r.columnWidth), $(".js-featured-rec-header").attr("data-columns", r.columnWidth)
                }
            }, {
                key: "onVODVisibility",
                value: function(e) {
                    var t = e.recommendations;
                    $(".js-recommended-stream", this.$root).each(function(e, n) {
                        var r = parseInt($(n).attr("data-index"), 10) < t.numVideosVisible;
                        $(n).attr("data-visible", r)
                    }), 1 === t.numVideosVisible ? $(".js-featured-recommendations__more-videos").attr("data-hide", !0) : $(".js-featured-recommendations__more-videos").attr("data-hide", !1)
                }
            }, {
                key: "transitionToMoreVideos",
                value: function() {
                    this.stopAutoplayCountdown(), this.hideAutoplay(), this.showView(y), this.trackShowOtherVODs()
                }
            }, {
                key: "destroy",
                value: function() {
                    l(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "destroy", this).call(this), $(".js-recommendations-overlay .js-player-tower", this.$root).off("click")
                }
            }, {
                key: "updateAutoplayProgress",
                value: function(e, t) {
                    var n = this._store.getState(),
                        r = n.lang;
                    $(".js-autoplay-progress").css("width", 100 - e + "%"), $(".js-autoplay-text").text(r.translate("Playing in {{timeRemaining}} second", {
                        timeRemaining: t,
                        count: t
                    }))
                }
            }, {
                key: "startAutoplayCountdown",
                value: function() {
                    var e = this;
                    clearInterval(this.autoplayInterval);
                    var t = new Date,
                        n = Math.floor(g / 100);
                    this.autoplayHandler = setTimeout(function() {
                        e.trackAutoplay(), e.selectVOD(0)
                    }, g), this.autoplayInterval = setInterval(function() {
                        var n = new Date,
                            r = n.getTime() - t.getTime(),
                            i = Math.round(r / g * 100);
                        i <= 100 && e.updateAutoplayProgress(i, Math.round((g - r) / 1e3))
                    }, n)
                }
            }, {
                key: "stopAutoplayCountdown",
                value: function() {
                    clearInterval(this.autoplayInterval), clearTimeout(this.autoplayHandler)
                }
            }, {
                key: "showView",
                value: function(e) {
                    $(".js-recommendations-overlay", this.$root).attr("data-display-which-vods", e)
                }
            }, {
                key: "showAutoplay",
                value: function() {
                    $(".js-recommendations-overlay", this.$root).attr("data-display-show-autoplay", "true")
                }
            }, {
                key: "hideAutoplay",
                value: function() {
                    $(".js-recommendations-overlay", this.$root).attr("data-display-show-autoplay", "")
                }
            }, {
                key: "trackSelect",
                value: function(e) {
                    var t = this._store.getState(),
                        n = t.analyticsTracker,
                        r = $(".js-recommendations-overlay", this.$root).attr("data-display-which-vods");
                    n.trackEvent("player_rec_select", {
                        recommended_vod_id: e.id,
                        recommended_vod_content: e.recommendationType,
                        recommended_vod_view: r === y ? S : T
                    })
                }
            }, {
                key: "trackShowRecs",
                value: function() {
                    var e = this._store.getState(),
                        t = e.stream,
                        n = e.analyticsTracker;
                    n.trackEvent("player_rec_show", {
                        type: t.contentType === f.CONTENT_MODE_VOD ? "postVOD" : "postLive"
                    })
                }
            }, {
                key: "trackAutoplay",
                value: function() {
                    var e = this._store.getState(),
                        t = e.recommendations,
                        n = e.analyticsTracker;
                    n.trackEvent("player_rec_autoplay", {
                        recommended_vod_id: t.videos[0].id,
                        recommended_vod_content: t.videos[0].recommendationType
                    })
                }
            }, {
                key: "trackShowFeatured",
                value: function() {
                    var e = this._store.getState(),
                        t = e.recommendations,
                        n = e.analyticsTracker;
                    n.trackEvent("player_rec_show_featured", {
                        recommended_vod_id: t.videos[0].id,
                        recommended_vod_content: t.videos[0].recommendationType
                    })
                }
            }, {
                key: "trackShowOtherVODs",
                value: function() {
                    var e = this._store.getState(),
                        t = e.recommendations,
                        n = e.analyticsTracker,
                        r = t.videos,
                        i = t.numVideosVisible,
                        a = r.slice(0, i).map(function(e) {
                            return e.id
                        }).join(",");
                    n.trackEvent("player_rec_show_others", {
                        recommended_vod_content: t.videos[0].recommendationType,
                        recommended_vod_ids: a
                    })
                }
            }]), t
        }(u.UIStateSubscriber)
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : w;
            return function(t, n) {
                var r = n().streamMetadata.channel.name;
                if (n().recommendations.status !== E || "" === r) return Promise.resolve();
                var i = Math.floor(Math.random() * C);
                return t({
                    type: g,
                    status: b
                }), new Promise(function(e) {
                    n().window.setTimeout(e, i)
                }).then(function() {
                    return n().experiments.get(p.PINEAPPLE)
                }).then(function(e) {
                    return "yes" === e ? o(n().stream.videoId) : Promise.reject()
                }).catch(function() {
                    return a(r, T + 1)
                }).then(function(r) {
                    var i = n(),
                        a = i.resumeWatch,
                        o = i.streamMetadata,
                        c = r.filter(function(e) {
                            return e.broadcast_id !== o.broadcastID
                        }).sort(function(e, t) {
                            var n = l(e, a.times),
                                r = l(t, a.times);
                            return !n && r ? -1 : n && !r ? 1 : new Date(t.created_at).getTime() - new Date(e.created_at).getTime()
                        }).map(s);
                    t(u(c, e))
                })
            }
        }

        function a(e, t) {
            var n = {
                limit: t,
                broadcast_type: "archive"
            };
            return (0, f.krakenRequest)("channels/" + e + "/videos?" + $.param(n)).then(function(e) {
                var t = e.videos;
                return t.map(function(e) {
                    return (0, h.default)(e, {
                        recommendationType: O
                    })
                })
            })
        }

        function o(e) {
            return (0, f.krakenRequest)("videos/similar/" + e).then(function(e) {
                var t = e.similar_videos;
                return 0 === t.length ? Promise.reject() : t.map(function(e) {
                    return (0, h.default)(e, {
                        recommendationType: P
                    })
                })
            })
        }

        function s(e) {
            return {
                recommendationType: e.recommendationType,
                creationDate: e.created_at,
                thumbnailURL: e.thumbnails.length > 0 ? e.thumbnails[0].url : "",
                title: e.title,
                channelName: e.channel.display_name,
                duration: e.length,
                id: e._id,
                game: e.game
            }
        }

        function l(e, t) {
            if (!t.hasOwnProperty(e._id)) return !1;
            var n = t[e._id];
            if (0 === n) return !0;
            var r = Math.max(S, A * e.length);
            return e.length > S && n > r
        }

        function u(e, t) {
            return {
                type: m,
                recommendationsType: t,
                videos: e
            }
        }

        function c() {
            return {
                type: v
            }
        }

        function d(e) {
            return {
                type: y,
                numVids: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.OFFLINE_RECOMMENDATIONS_TYPE = t.POST_VOD_RECOMMENDATIONS_TYPE = t.CHANNEL_VODS = t.SIMILAR_VODS = t.MAX_JITTER_DELAY = t.TEN_PERCENT = t.FETCH_VODS_THRESHOLD = t.MINIMUM_WATCHED_LENGTH = t.MAX_RECOMMENDED_VODS_VISIBLE = t.FETCHED = t.FETCHING = t.UNFETCHED = t.ACTION_SET_FETCHING_STATUS = t.ACTION_SET_NUM_VODS_VISIBLE = t.ACTION_SET_RECOMMENDED_VODS_WATCHED = t.ACTION_CLEAR_RECOMMENDED_VODS = t.ACTION_SET_RECOMMENDED_VODS = void 0, t.fetchRecommendedVODs = i, t.isWatched = l, t.setRecommendedVODs = u, t.clearRecommendedVODs = c, t.setVODVisibility = d;
        var f = n(200),
            p = n(251),
            _ = n(117),
            h = r(_),
            m = t.ACTION_SET_RECOMMENDED_VODS = "set VOD recommendations",
            v = t.ACTION_CLEAR_RECOMMENDED_VODS = "clear VOD recommendations",
            y = (t.ACTION_SET_RECOMMENDED_VODS_WATCHED = "set VOD recommendations watched", t.ACTION_SET_NUM_VODS_VISIBLE = "set number of VOD recommendations visible"),
            g = t.ACTION_SET_FETCHING_STATUS = "set fetching recommendations status",
            E = t.UNFETCHED = "unfetched",
            b = t.FETCHING = "fetching",
            T = (t.FETCHED = "fetched", t.MAX_RECOMMENDED_VODS_VISIBLE = 32),
            S = t.MINIMUM_WATCHED_LENGTH = 300,
            A = (t.FETCH_VODS_THRESHOLD = 12e3, t.TEN_PERCENT = .1),
            C = t.MAX_JITTER_DELAY = 5e3,
            P = t.SIMILAR_VODS = "similar",
            O = t.CHANNEL_VODS = "channel",
            w = t.POST_VOD_RECOMMENDATIONS_TYPE = "post vod recommendations";
        t.OFFLINE_RECOMMENDATIONS_TYPE = "offline recommendations"
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            if (e && e.__esModule) return e;
            var t = {};
            if (null != e)
                for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
            return t.default = e, t
        }

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function a(e, t, n, r, i) {
            function a() {
                e.addEventListener(f.LOADSTART, _), e.addEventListener(f.ENDED, h), window.addEventListener("beforeunload", m), e.getChannel() && _()
            }

            function o(e) {
                var t = s.default.getItem("leaveData");
                if (t) return t[e]
            }

            function l(e, t) {
                var n = s.default.getItem("leaveData");
                n || (n = {}), n[e] = t, s.default.setItem("leaveData", n)
            }

            function d() {
                if (g) {
                    var e = o(g);
                    if (e) {
                        var t = (new Date).getTime() / 1e3;
                        e.time + u.leaveDialog.refreshTimeout < t || n.trackEvent("page_reload", {
                            storm_detected: e.stormDetected,
                            leave_dialog: e.stormDialog,
                            refresh_warning: e.stormWarning
                        })
                    }
                }
            }

            function p() {
                if (!g) return !1;
                if (!e.getEnded()) return !1;
                if (!E || E < i.leaveDialogViewerThreshold) return !1;
                var t = (new Date).getTime() / 1e3;
                return !(!b || b + u.leaveDialog.sinceEnded < t)
            }

            function _() {
                g = e.getChannel(), E = null, b = null, d()
            }

            function h() {
                E = r.getState().viewercount, b = (new Date).getTime() / 1e3;
                var e = p();
                e && i.refreshWarningEnabled && v()
            }

            function m(e) {
                var t = p(),
                    n = t && i.leaveDialogEnabled;
                if (l(g, {
                        time: (new Date).getTime() / 1e3,
                        stormDetected: t,
                        stormDialog: n,
                        stormWarning: r.getState().screen === c.STORM_WARNING_SCREEN
                    }), n) return y(e)
            }

            function v() {
                r.dispatch((0, c.pushScreen)(c.STORM_WARNING_SCREEN)), setTimeout(function() {
                    r.dispatch((0, c.popScreen)())
                }, 1e3 * u.leaveDialog.warningDuration)
            }

            function y(e) {
                return n.trackEvent("page_leave_attempt", {
                    viewers: E
                }), setTimeout(function() {
                    setTimeout(function() {
                        n.trackEvent("page_leave_cancel", {
                            viewers: E
                        })
                    }, 1e3)
                }, 1), e.returnValue = u.leaveDialog.text, u.leaveDialog.text
            }
            var g, E, b;
            this.destroy = function() {
                window.removeEventListener("beforeunload", m)
            }, a()
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.PlayerUILeaveDialog = a;
        var o = n(425),
            s = i(o),
            l = n(168),
            u = r(l),
            c = n(396),
            d = n(179),
            f = r(d)
    }, function(e, t) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var n = {};
        t.default = n,
            function() {
                var e = n;
                e.key = function(e) {
                    return sessionStorage.key(e)
                }, e.getItem = function(e) {
                    var t = sessionStorage.getItem(e);
                    if (t) return JSON.parse(t)
                }, e.setItem = function(e, t) {
                    var n = JSON.stringify(t);
                    sessionStorage.setItem(e, n)
                }, e.removeItem = function(e) {
                    sessionStorage.removeItem(e)
                }, e.clear = function() {
                    sessionStorage.clear()
                }, Object.defineProperty(e, "length", {
                    get: function() {
                        return sessionStorage.length
                    }
                })
            }()
    }, function(e, t, n) {
        "use strict";

        function r(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function i(e, t) {
            if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !t || "object" != typeof t && "function" != typeof t ? e : t
        }

        function a(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.PlayerUISubscribeOverlay = void 0;
        var o = function() {
                function e(e, t) {
                    var n = [],
                        r = !0,
                        i = !1,
                        a = void 0;
                    try {
                        for (var o, s = e[Symbol.iterator](); !(r = (o = s.next()).done) && (n.push(o.value), !t || n.length !== t); r = !0);
                    } catch (e) {
                        i = !0, a = e
                    } finally {
                        try {
                            !r && s.return && s.return()
                        } finally {
                            if (i) throw a
                        }
                    }
                    return n
                }
                return function(t, n) {
                    if (Array.isArray(t)) return t;
                    if (Symbol.iterator in Object(t)) return e(t, n);
                    throw new TypeError("Invalid attempt to destructure non-iterable instance")
                }
            }(),
            s = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            l = n(416),
            u = n(220),
            c = n(200),
            d = n(168),
            f = n(396),
            p = n(332),
            _ = "This video is only available to subscribers. Subscribe now to watch and support %s.";
        t.PlayerUISubscribeOverlay = function(e) {
            function t(e, n) {
                r(this, t);
                var a = i(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this));
                return a._root = e, a._store = n, a.subscribe(a._store, ["stream"], a.onStream.bind(a)), a.subscribe(a._store, ["screen"], a.onScreenChange.bind(a)), a
            }
            return a(t, e), s(t, [{
                key: "subscribeUrl",
                value: function(e) {
                    return d.twitchHost + "/" + e + "/subscribe?ref=chansub_overlay_subscribe"
                }
            }, {
                key: "_showVODOverlay",
                value: function() {
                    var e = this;
                    $(".js-player-product-overlay", this._root).attr("data-active", !0), (0, c.videoInfo)(this._store.getState().stream.videoId).then(function(t) {
                        var n = e._store.getState().lang.translate(_, {
                            replacements: {
                                "%s": t.channel.name
                            }
                        });
                        $(".js-player-product p", e._root).text(n), $(".js-player-product .purchase_button", e._root).attr("href", e.subscribeUrl(t.channel.name)), e._store.dispatch((0, p.contentIsShowing)())
                    })
                }
            }, {
                key: "_hideVODOverlay",
                value: function() {
                    $(".js-player-product-overlay", this._root).attr("data-active", !1)
                }
            }, {
                key: "onStream",
                value: function() {
                    var e = this,
                        t = this._store.getState(),
                        n = t.stream;
                    if (n.contentType === u.CONTENT_MODE_VOD) {
                        var r = (0, c.videoInfo)(n.videoId),
                            i = r.then(function(e) {
                                return (0, c.channelViewerInfo)(e.channel.name)
                            });
                        Promise.all([r, i]).then(function(t) {
                            var n = o(t, 2),
                                r = n[0],
                                i = n[1];
                            (0, c.isVODRestricted)(i, r) && e._store.dispatch((0, f.pushScreen)(f.VOD_RESTRICTED_SCREEN))
                        })
                    }
                }
            }, {
                key: "onScreenChange",
                value: function(e) {
                    var t = e.screen;
                    t[0] === f.VOD_RESTRICTED_SCREEN ? this._showVODOverlay() : this._hideVODOverlay()
                }
            }, {
                key: "destroy",
                value: function() {}
            }]), t
        }(l.UIStateSubscriber)
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            if (e && e.__esModule) return e;
            var t = {};
            if (null != e)
                for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
            return t.default = e, t
        }

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function a(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function o(e, t) {
            if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !t || "object" != typeof t && "function" != typeof t ? e : t
        }

        function s(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.PlayerUIResume = void 0;
        var l = function() {
                function e(e, t) {
                    var n = [],
                        r = !0,
                        i = !1,
                        a = void 0;
                    try {
                        for (var o, s = e[Symbol.iterator](); !(r = (o = s.next()).done) && (n.push(o.value), !t || n.length !== t); r = !0);
                    } catch (e) {
                        i = !0, a = e
                    } finally {
                        try {
                            !r && s.return && s.return()
                        } finally {
                            if (i) throw a
                        }
                    }
                    return n
                }
                return function(t, n) {
                    if (Array.isArray(t)) return t;
                    if (Symbol.iterator in Object(t)) return e(t, n);
                    throw new TypeError("Invalid attempt to destructure non-iterable instance")
                }
            }(),
            u = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            c = n(428),
            d = i(c),
            f = n(168),
            p = n(186),
            _ = n(179),
            h = r(_),
            m = n(429),
            v = n(403),
            y = n(200),
            g = n(167),
            E = n(220),
            b = n(416);
        t.PlayerUIResume = function(e) {
            function t(e, n, r, i) {
                a(this, t);
                var s = o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this));
                return s._state = n, s._store = r, s._player = e, s._options = i, s._streamTimeOffset = 0, s._state.addEventListener(p.EVENT_PLAYER_UPDATE, s.handleEvent.bind(s)), s.subscribe(s._store, ["playback.currentTime"], s._onTimeUpdate.bind(s)), s
            }
            return s(t, e), u(t, [{
                key: "handleEvent",
                value: function(e) {
                    switch (e) {
                        case h.LOADED_METADATA:
                            this._onLoadedMetadata()
                    }
                }
            }, {
                key: "_seekToResumeTime",
                value: function(e, t) {
                    var n = this._store.getState(),
                        r = n.stream,
                        i = n.playback,
                        a = t.filter(function(t) {
                            return t.video_id === r.videoId || t.video_id === "" + e.broadcast_id
                        });
                    if (this._store.dispatch((0, m.setIsSeeked)(!0)), 0 !== a.length) {
                        var o = a[0],
                            s = o.position,
                            l = o.type,
                            u = i.duration;
                        if (s < u - f.cancelResumeAmount)
                            if (l === g.CONTENT_MODE_LIVE) {
                                var c = Math.max(0, s - f.livestreamResumePushback);
                                this._player.setCurrentTime(c)
                            } else this._player.setCurrentTime(s);
                        a.filter(function(e) {
                            return e.type === g.CONTENT_MODE_LIVE
                        }).length > 0 && this._store.dispatch((0, m.cancelLivestreamResumeTime)(e.broadcast_id))
                    }
                }
            }, {
                key: "_seekToResumeTimeLocal",
                value: function(e) {
                    var t = this._store.getState(),
                        n = t.resumeWatch,
                        r = t.stream,
                        i = t.playback,
                        a = n.times[r.videoId],
                        o = n.streamTimes[e.broadcast_id],
                        s = i.duration;
                    if (this._store.dispatch((0, m.setIsSeeked)(!0)), (0, d.default)(a) && a < s - f.cancelResumeAmount) this._player.setCurrentTime(a);
                    else if ((0, d.default)(o) && o < s - f.cancelResumeAmount) {
                        var l = Math.max(0, o - f.livestreamResumePushback);
                        this._player.setCurrentTime(l)
                    }
                    this._store.dispatch((0, m.cancelLivestreamResumeTime)(e.broadcast_id))
                }
            }, {
                key: "_onLoadedMetadata",
                value: function() {
                    var e = this,
                        t = this._store.getState(),
                        n = t.stream,
                        r = t.resumeWatch,
                        i = t.collection;
                    if (n.contentType === g.CONTENT_MODE_LIVE) return void(this._streamTimeOffset = this._player.getVideoInfo().stream_time_offset);
                    if (!(this._options.time || i.id || n.contentType !== E.CONTENT_MODE_VOD || r.isSeeked)) {
                        var a = (0, y.videoInfo)(n.videoId);
                        if (!r.userId) return a.then(function(t) {
                            e._seekToResumeTimeLocal(t)
                        });
                        var o = (0, m.getResumeTimes)(r.userId);
                        return Promise.all([a, o]).then(function(t) {
                            var n = l(t, 2),
                                r = n[0],
                                i = n[1],
                                a = i.videos;
                            e._store.dispatch((0, m.setResumeTimes)(a)), e._seekToResumeTime(r, a)
                        })
                    }
                }
            }, {
                key: "_onTimeUpdate",
                value: function() {
                    var e = void 0,
                        t = this._store.getState(),
                        n = t.stream,
                        r = t.streamMetadata,
                        i = t.onlineStatus,
                        a = t.playback;
                    if (!a.isLoading) {
                        var o = r.channel.id;
                        if (n.contentType === g.CONTENT_MODE_LIVE) {
                            var s = r.broadcastID;
                            e = i === v.ONLINE_STATUS ? (0, m.setLivestreamResumeTime)(s, o, this._streamTimeOffset + a.currentTime) : (0, m.cancelLivestreamResumeTime)(s, o)
                        } else if (n.contentType === E.CONTENT_MODE_VOD) {
                            if (0 === a.duration) return;
                            e = a.duration - a.currentTime > f.cancelResumeAmount ? (0, m.setVodResumeTime)(n.videoId, o, a.currentTime) : (0, m.cancelVodResumeTime)(n.videoId, o)
                        }
                        this._store.dispatch(e)
                    }
                }
            }]), t
        }(b.UIStateSubscriber)
    }, function(e, t, n) {
        function r(e) {
            return "number" == typeof e || a(e) && i(e) == o
        }
        var i = n(11),
            a = n(40),
            o = "[object Number]";
        e.exports = r
    }, function(e, t, n) {
        "use strict";

        function r() {
            return {
                type: S,
                times: y.localStore.get(N, {}),
                watch: y.localStore.get(R, {}),
                streamTimes: y.localStore.get(L, {}),
                lastTimeStamp: 0,
                userId: null,
                isSeeked: !1
            }
        }

        function i(e) {
            return {
                type: k,
                userId: e
            }
        }

        function a(e) {
            return {
                type: I,
                isSeeked: e
            }
        }

        function o(e, t, n, r, i) {
            var a = $.ajax({
                method: "PUT",
                url: g.resumewatchingHost + "user-video?id=" + e,
                xhrFields: {
                    withCredentials: !0
                },
                data: {
                    video_id: t,
                    channel_user_id: n,
                    position: Math.floor(r),
                    type: i
                },
                timeout: g.apiTimeout
            });
            return Promise.resolve(a)
        }

        function s(e) {
            if (!e) return Promise.reject();
            var t = $.ajax({
                method: "GET",
                url: g.resumewatchingHost + "user?id=" + e,
                xhrFields: {
                    withCredentials: !0
                },
                dataType: "json",
                timeout: g.apiTimeout
            });
            return Promise.resolve(t)
        }

        function l(e) {
            return {
                type: T,
                resumeTimes: e
            }
        }

        function u(e, t, n) {
            return t - e > n
        }

        function c(e, t, n) {
            return 0 === t && 0 !== e || Math.abs(e - t) > n
        }

        function d(e, t, n) {
            return function(r, i) {
                var a = i(),
                    s = a.resumeWatch,
                    l = a.window,
                    d = a.analytics;
                s.userId && u(d.playSessionStartTime, l.Date.now(), s.initUpdateOffset) && c(n, s.lastTimeStamp, s.updateInterval) && (o(s.userId, e, t, n, E.CONTENT_MODE_VOD), r({
                    type: w,
                    lastTimeStamp: Math.floor(n)
                }))
            }
        }

        function f(e, t, n) {
            return function(r, i) {
                var a = i(),
                    s = a.resumeWatch,
                    l = a.window,
                    d = a.analytics;
                s.userId && u(d.playSessionStartTime, l.Date.now(), s.initUpdateOffset) && c(n, s.lastTimeStamp, s.updateInterval) && (o(s.userId, e, t, n, b.CONTENT_MODE_LIVE), r({
                    type: w,
                    lastTimeStamp: Math.floor(n)
                }))
            }
        }

        function p(e, t, n) {
            return function(r, i) {
                var a = i(),
                    o = a.resumeWatch;
                o.userId ? r(d(e, t, n)) : (r({
                    type: C,
                    videoID: e,
                    time: n
                }), v(i()))
            }
        }

        function _(e, t) {
            return function(n, r) {
                var i = r(),
                    a = i.resumeWatch;
                a.userId ? n(d(e, t, 0)) : (n({
                    type: A,
                    videoID: e
                }), v(r()))
            }
        }

        function h(e, t, n) {
            return function(r, i) {
                var a = i(),
                    o = a.resumeWatch;
                o.userId ? r(f(e, t, n)) : (r({
                    type: O,
                    broadcastID: e,
                    time: n
                }), v(i()))
            }
        }

        function m(e, t) {
            return function(n, r) {
                var i = r(),
                    a = i.resumeWatch;
                a.userId ? n(f(e, t, 0)) : (n({
                    type: P,
                    broadcastID: e
                }), v(r()))
            }
        }

        function v(e) {
            y.localStore.set(N, e.resumeWatch.times), y.localStore.set(R, e.resumeWatch.watch), y.localStore.set(L, e.resumeWatch.streamTimes)
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.ACTION_VOD_SET_IS_SEEKED = t.ACTION_VOD_SET_USER = t.ACTION_VOD_POST_BACKEND_TIME = t.ACTION_LIVESTREAM_SET_RESUME_TIME = t.ACTION_LIVESTREAM_CANCEL_RESUME = t.ACTION_VOD_SET_RESUME_TIME = t.ACTION_VOD_CANCEL_RESUME = t.ACTION_VOD_INIT_RESUME = t.ACTION_SET_RESUME_TIMES = void 0, t.initVodResume = r, t.setUser = i, t.setIsSeeked = a, t.getResumeTimes = s, t.setResumeTimes = l, t.setVodResumeTime = p, t.cancelVodResumeTime = _, t.setLivestreamResumeTime = h, t.cancelLivestreamResumeTime = m;
        var y = n(250),
            g = n(168),
            E = n(220),
            b = n(167),
            T = t.ACTION_SET_RESUME_TIMES = "set resume times",
            S = t.ACTION_VOD_INIT_RESUME = "initialize vod resume",
            A = t.ACTION_VOD_CANCEL_RESUME = "cancel vod resume",
            C = t.ACTION_VOD_SET_RESUME_TIME = "set vod resume time",
            P = t.ACTION_LIVESTREAM_CANCEL_RESUME = "cancel livestream resume",
            O = t.ACTION_LIVESTREAM_SET_RESUME_TIME = "set livestream resume time",
            w = t.ACTION_VOD_POST_BACKEND_TIME = "post vod backend time",
            k = t.ACTION_VOD_SET_USER = "set user",
            I = t.ACTION_VOD_SET_IS_SEEKED = "set isSeeked",
            N = "vodResumeTimes",
            R = "vodResumeWatcheds",
            L = "livestreamResumeTimes"
    }, function(e, t, n) {
        "use strict";

        function r(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function i(e, t) {
            if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !t || "object" != typeof t && "function" != typeof t ? e : t
        }

        function a(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.PlayerUILang = void 0;
        var o = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            s = n(168),
            l = n(416),
            u = n(217),
            c = $('<span class="player-chromecast-overlay-device js-chromecast-device"></span>');
        t.PlayerUILang = function(e) {
            function t(e, n) {
                r(this, t);
                var a = i(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this));
                return a.$root = e, a.subscribe(n, ["lang", "env"], a.localizeUI.bind(a)), a.subscribe(n, ["lang", "chromecast"], a.localizeCastOverlay.bind(a)), a.subscribe(n, ["lang", "streamMetadata"], a.localizeAdvertisement.bind(a)), a.localizeUI(n.getState()), a
            }
            return a(t, e), o(t, [{
                key: "localizeUI",
                value: function(e) {
                    var t = this,
                        n = e.env,
                        r = e.lang,
                        i = function(e, n) {
                            var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
                            $(e, t.$root).html(r.translate(n, i))
                        };
                    i(".js-mature-accept-label", "Start Watching"), i(".js-close-label", "Close"), i(".js-subscribe-label", "Subscribe"), i(".js-broadcast-down-label", "The broadcast is down."), i(".js-player-options-label", "Player Options"), i(".js-video-quality-label", "Video Quality"), i(".js-popout-player", "Popout Player"), i(".js-stats-toggle", "Show Video Stats"), i(".js-copy-url", "Copy Video URL at Current Time"), i(".js-report-issue-label", "Report Playback Issue"), i(".js-select-label", "Select"), i(".js-audio-video-stutter-label", "Audio and video stutter"), i(".js-video-stutter-label", "Video stutters, but audio is fine"), i(".js-video-black-label", "Video is completely black or doesn't load"), i(".js-audio-video-desync-label", "Audio and video aren't synced"), i(".js-fullscreen-not-working-label", "Fullscreen playback doesn't work"), i(".js-ad-too-loud-label", "Advertisement can't be muted or is too loud"), i(".js-ad-too-often-label", "Advertisement has played too many times"), i(".js-submit-label", "Submit"), i(".js-leave-feedback-label", "Leave feedback?"), i(".js-report-thanks-label", "Thanks for your report"), i(".js-coming-up-label", "Coming Up"), i(".js-now-playing-label", "Now playing: "), i(".js-broadcast-reload-label", "The player will automatically reload when the broadcast is back."), i(".js-menu-miniplayer .js-menu-header", "Mini Player"), i(".js-menu-html5 .js-menu-header", "HTML5 Player"), i(".js-menu-html5 .js-html5-feedback-link", "Give Feedback"), i(".js-html5-beta-popup-title", "HTML5 Player"), i(".js-html5-beta-popup-text", "You are now using our new HTML5 video player! Click the gear icon to adjust your settings and share feedback."), i(".js-mature-warning-label", "The broadcaster indicated that the channel is intended for mature audiences."), i(".js-age-gate-warning-label", "You must be 21 to view this content. Please enter your date of birth."), i(".js-age-gate-failed-once-label", "Sorry, you must be over the age of 21 to view this content."), i(".js-age-gate-locked-out-label", "Sorry, you must be over the age of 21 to view this content."), i(".js-age-gate-submit", "Submit"), i(".js-empty-collection-label", "This collection is empty."), i(".js-cc-label", "Closed Captioning"), i(".js-cc-modal-header", "Closed Caption Settings"), i(".js-cc-presets-tab", "Presets"), i(".js-cc-text-tab", "Text"), i(".js-cc-effects-tab", "Effects"), i(".js-cc-background-tab", "Background"), i(".js-cc-window-tab", "Window"), i(".js-cc-aa", "Aa"), i(".js-cc-font-label", "Font"), i('.js-cc-font-dropdown option[value="mono-serif"]', "Mono Serif"), i('.js-cc-font-dropdown option[value="prop-serif"]', "Serif"), i('.js-cc-font-dropdown option[value="mono-sans-serif"]', "Mono Sans-Serif"), i('.js-cc-font-dropdown option[value="prop-sans-serif"]', "Sans-Serif"), i('.js-cc-font-dropdown option[value="casual"]', "Casual"), i('.js-cc-font-dropdown option[value="cursive"]', "Cursive"), i('.js-cc-font-dropdown option[value="small-capitals"]', "Small Capitals"), i(".js-cc-position-label", "Position"), i('.js-cc-verticalPosition-dropdown option[value="bottom"]', "Bottom"), i('.js-cc-verticalPosition-dropdown option[value="top"]', "Top"), i(".js-cc-justification-label", "Alignment"), i('.js-cc-textAlign-dropdown option[value="center"]', "Center"), i('.js-cc-textAlign-dropdown option[value="left"]', "Left"), i('.js-cc-textAlign-dropdown option[value="right"]', "Right"), i(".js-cc-style-label", "Style"), i(".js-cc-edge-label", "Effect"), i(".js-cc-color-label", "Color"), i(".js-cc-size-label", "Size"), i(".js-cc-font-size", "A"), i(".js-cc-opacity-label", "Opacity"), i(".js-cc-opacity-solid", "Solid"), i(".js-cc-opacity-translucent", "Translucent"), i(".js-cc-opacity-semitransparent", "Semi-Transparent"), i(".js-cc-opacity-transparent", "Transparent"), i(".js-cc-opacity-flashing", "Flashing"), i(".js-upnext-label", "Up Next"), i(".js-cancelautoplay-label", "Cancel");
                    var a = function(e, n, i) {
                        $(e, t.$root).attr(n, r.translate(i))
                    };
                    a(".js-control-playpause-button .js-pause-button .js-tip", "data-tip", "Pause"), a(".js-control-playpause-button .js-play-button .js-tip", "data-tip", "Play"), a(".js-menu-button .js-tip", "data-tip", "Options"), a(".js-theatre-button .js-control-tip", "data-tip", "Theater Mode"), a(".js-exit-theatre-button .js-control-tip", "data-tip", "Exit Theater Mode"), a(".js-control-cc .js-tip", "data-tip", "Captions"), a(".js-control-fullscreen .js-fullscreen .js-control-tip", "data-tip", "Fullscreen"), n.playerType === u.PLAYER_SITE ? a(".js-control-clips .js-tip", "data-tip", "Clip (Alt+X)") : a(".js-control-clips .js-tip", "data-tip", "Clip"), a(".js-control-fullscreen .js-exit-fullscreen .js-control-tip", "data-tip", "Exit Fullscreen"), a(".js-chromecast-btuton .js-tip", "data-tip", "Chromecast"), a(".js-watch-twitch .js-tip", "data-tip", "Watch on Twitch"), a(".js-font-increment-tip", "data-tip", "Increase Size"), a(".js-font-decrement-tip", "data-tip", "Decrease Size"), $(".js-quality", this.$root).children("option").each(function(e, t) {
                        var n = s.qualityText[$(t).val()];
                        $(t).text(r.translate(n))
                    })
                }
            }, {
                key: "localizeCastOverlay",
                value: function(e) {
                    var t = e.lang,
                        n = e.chromecast;
                    $(".js-playing-on-label").html(t.translate("Playing on {{device}}", {
                        device: c.clone().text(n.deviceName)[0].outerHTML,
                        interpolation: {
                            escapeValue: !1
                        }
                    }))
                }
            }, {
                key: "localizeAdvertisement",
                value: function(e) {
                    var t = e.lang,
                        n = e.streamMetadata;
                    n.channel.partner ? $(".js-advertisement-label").html(t.translate("This Ad supports {{channelName}}", {
                        channelName: n.channel.displayName
                    })) : $(".js-advertisement-label").html(t.translate("Advertisement"))
                }
            }]), t
        }(l.UIStateSubscriber)
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            if (e && e.__esModule) return e;
            var t = {};
            if (null != e)
                for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
            return t.default = e, t
        }

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function a(e, t, n) {
            return t in e ? Object.defineProperty(e, t, {
                value: n,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : e[t] = n, e
        }

        function o(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.PlayerUIClosedCaption = void 0;
        var s = function() {
                function e(e, t) {
                    var n = [],
                        r = !0,
                        i = !1,
                        a = void 0;
                    try {
                        for (var o, s = e[Symbol.iterator](); !(r = (o = s.next()).done) && (n.push(o.value), !t || n.length !== t); r = !0);
                    } catch (e) {
                        i = !0, a = e
                    } finally {
                        try {
                            !r && s.return && s.return()
                        } finally {
                            if (i) throw a
                        }
                    }
                    return n
                }
                return function(t, n) {
                    if (Array.isArray(t)) return t;
                    if (Symbol.iterator in Object(t)) return e(t, n);
                    throw new TypeError("Invalid attempt to destructure non-iterable instance")
                }
            }(),
            l = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            u = n(118),
            c = i(u),
            d = n(407),
            f = i(d),
            p = n(70),
            _ = i(p),
            h = n(352),
            m = n(356),
            v = r(m),
            y = n(183),
            g = n(432),
            E = ["top", "bottom", "textAlign", "fontSize", "lineHeight"],
            b = "player-captions-row",
            T = /\r?\n|\r/g,
            S = "custom",
            A = ["font", "fontOpacity", "alignment", "verticalPosition", "backgroundOpacity", "windowOpacity"],
            C = ["fontColorName", "edge", "backgroundColorName", "windowColorName"],
            P = ["fontUnderline", "fontBold", "fontItalic"];
        t.PlayerUIClosedCaption = function() {
            function e(t, n) {
                o(this, e), this._store = t, this._root = n, this._initDefaults(), this._initHandlers(), this.unsubscribe = this._subscribe(), this._initCustomCaptionsForm()
            }
            return l(e, [{
                key: "_initDefaults",
                value: function() {
                    var e = this._captionsState();
                    this.showCCAvailability(e.available), this.applyCCStyle(), this.setCCIconStatus(e.enabled)
                }
            }, {
                key: "_initHandlers",
                value: function() {
                    $(".js-control-cc", this._root).on("click", this.toggleCCStatus.bind(this)), $(".js-cc-preset", this._root).on("click", this.selectPreset.bind(this)), $(".js-cc-open-modal", this._root).on("click", this.openCCModal.bind(this)), $(".js-cc-modal-container", this._root).on("click", function(e) {
                        e.target === this && $(this).attr("data-state", "closed")
                    }), $(".js-cc-custom-modal-dismiss", this._root).on("click", function() {
                        $(this).closest(".js-cc-modal-container").attr("data-state", "closed")
                    }), $(".player-tabs__item", this._root).on("click", function(e) {
                        $(".player-tabs__item--active").removeClass("player-tabs__item--active");
                        var t = $(e.target).closest(".player-tabs__item");
                        t.addClass("player-tabs__item--active");
                        var n = t.attr("data-tab");
                        t.closest(".js-cc-modal").attr("data-tab-selected", n)
                    }), this.setCurrentPreset()
                }
            }, {
                key: "_subscribe",
                value: function() {
                    var e = this;
                    return (0, y.subscribe)(this._store, ["captions"], function(t, n) {
                        var r = t.captions,
                            i = n.captions;
                        r.available !== i.available && e.showCCAvailability(r.available), r.enabled !== i.enabled && (e.setCCIconStatus(r.enabled), e.showCaption(r)), r.data !== i.data && e.showCaption(r), r.preset !== i.preset && (e.setCurrentPreset(), e.setCurrentStyles()), r.preset === i.preset && r.style === i.style || e.applyCCStyle()
                    })
                }
            }, {
                key: "_captionsState",
                value: function() {
                    return this._store.getState().captions
                }
            }, {
                key: "_initCustomCaptionsForm",
                value: function() {
                    var e = this,
                        t = this._store.getState().captions.style;
                    C.forEach(function(n) {
                        e._setRadioAttribute(n, t)
                    }), A.forEach(function(n) {
                        e._setDropdownAttribute(n, t)
                    }), P.forEach(function(n) {
                        e._setCheckboxAttribute(n, t)
                    }), $(".js-cc-modal", this._root).on("change", ".js-cc-dropdown", function(t) {
                        var n = $(t.target);
                        e._store.dispatch((0, h.setCaptionsPreset)(S, a({}, n.attr("name"), n.val())))
                    }), $(".js-cc-modal", this._root).on("click", ".js-cc-radio", function(t) {
                        var n = $(t.target);
                        e._store.dispatch((0, h.setCaptionsPreset)(S, a({}, n.attr("name"), n.val())))
                    }), $(".js-cc-modal", this._root).on("click", ".js-cc-checkbox", function(t) {
                        var n = $(t.target),
                            r = v.presetMap["white-on-black"];
                        e._store.dispatch((0, h.setCaptionsPreset)(S, a({}, n.attr("name"), n.prop("checked") ? n.val() : r[n.attr("name")])))
                    }), $(".js-cc-font-size", this._root).on("click", function(t) {
                        var n = v.fontSizeMap[$(t.target).val()],
                            r = e._store.getState().captions.style.fontSize,
                            i = r + parseInt(n, 10);
                        e._store.dispatch((0, h.setCaptionsPreset)(S, {
                            fontSize: i
                        }))
                    })
                }
            }, {
                key: "_setDropdownAttribute",
                value: function(e, t) {
                    $(".js-cc-dropdown", this._root).filter('[name="' + e + '"]').val(t[e])
                }
            }, {
                key: "_setRadioAttribute",
                value: function(e, t) {
                    $(".js-cc-radio", this._root).filter('[name="' + e + '"][value="' + t[e] + '"]').prop("checked", !0)
                }
            }, {
                key: "_setCheckboxAttribute",
                value: function(e, t) {
                    var n = $(".js-cc-checkbox", this._root).filter('[name="' + e + '"]'),
                        r = t[e] === n.val();
                    n.prop("checked", r)
                }
            }, {
                key: "selectPreset",
                value: function(e) {
                    var t = $(e.target).closest(".js-cc-preset").attr("data-preset");
                    this._store.dispatch((0, h.setCaptionsPreset)(t, v.presetMap[t]))
                }
            }, {
                key: "setCurrentPreset",
                value: function() {
                    var e = this._store.getState().captions.preset;
                    $(".js-cc-preset", this._root).each(function(t, n) {
                        var r = $(n).attr("data-preset") === e;
                        $(n).toggleClass("js-cc-preset-selected", r)
                    })
                }
            }, {
                key: "openCCModal",
                value: function() {
                    $(".js-cc-modal-container", this._root).attr("data-state", "open"), this.hideMenu()
                }
            }, {
                key: "hideMenu",
                value: function() {
                    this._store.dispatch((0, g.showSettingsMenu)(!1))
                }
            }, {
                key: "setCurrentStyles",
                value: function() {
                    var e = this,
                        t = this._store.getState().captions.style;
                    A.forEach(function(n) {
                        e._setDropdownAttribute(n, t)
                    }), C.forEach(function(n) {
                        e._setRadioAttribute(n, t)
                    }), P.forEach(function(n) {
                        e._setCheckboxAttribute(n, t)
                    })
                }
            }, {
                key: "appendToDocumentFragment",
                value: function(e, t) {
                    if (t && !(t.length < 1)) {
                        var n = document.createElement("div");
                        return n.innerText = t, n.className = b, e.appendChild(n), e
                    }
                }
            }, {
                key: "applyCCStyle",
                value: function() {
                    var e = this._store.getState().captions.style,
                        t = v.calculateRGBA(v.fontColorMap[e.fontColorName].fontColorValue, v.opacityMap[e.fontOpacity].opacityValue),
                        n = {
                            color: t,
                            animation: v.opacityMap[e.fontOpacity].animation
                        },
                        r = v.calculateRGBA(v.backgroundColorMap[e.backgroundColorName].backgroundColorValue, v.opacityMap[e.backgroundOpacity].opacityValue),
                        i = (0, c.default)({}, e, n, v.fontMap[e.font], v.edgeMap[e.edge], v.verticalPositionMap[e.verticalPosition], v.fontUnderlineMap[e.fontUnderline], v.fontItalicMap[e.fontItalic], v.fontBoldMap[e.fontBold], v.alignmentMap[e.alignment], {
                            backgroundColor: r
                        }),
                        a = (0, f.default)(i, E);
                    $(".js-player-captions", this._root).css(a);
                    var o = (0, _.default)(i, E);
                    $(".js-player-captions-container").css(o);
                    var s = v.calculateRGBA(v.backgroundColorMap[e.windowColorName].backgroundColorValue, v.opacityMap[e.windowOpacity].opacityValue);
                    $(".js-player-captions-window").css({
                        backgroundColor: s
                    }), this.setFontSizeStatus(e.fontSize)
                }
            }, {
                key: "clearCaptions",
                value: function() {
                    $(".js-player-captions", this._root).empty()
                }
            }, {
                key: "findCaptions",
                value: function(e) {
                    var t = e.data,
                        n = e.text,
                        r = n && n.length > 0 ? n.trim() : null;
                    return r ? r : Array.isArray(t) && t.length > 0 ? t : null
                }
            }, {
                key: "getCaptionsFromData",
                value: function() {
                    var e = this,
                        t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [],
                        n = document.createDocumentFragment(),
                        r = function(e, t) {
                            var n = t.char,
                                r = t.col;
                            0 === r && e.push("");
                            var i = s(n, 1),
                                a = i[0];
                            return e[e.length - 1] += a ? a : "", e
                        };
                    return t.reduce(r, []).forEach(function(t) {
                        return e.appendToDocumentFragment(n, t)
                    }), n
                }
            }, {
                key: "getCaptionsFromText",
                value: function(e) {
                    var t = this,
                        n = document.createDocumentFragment();
                    return String(e).split(T).forEach(function(e) {
                        return t.appendToDocumentFragment(n, e)
                    }), n
                }
            }, {
                key: "setFontSizeStatus",
                value: function(e) {
                    var t = $(".js-cc-font-size", this._root);
                    t.filter('[value="increment"]').prop("disabled", e === v.fontSizeMap.max), t.filter('[value="decrement"]').prop("disabled", e === v.fontSizeMap.min)
                }
            }, {
                key: "setCCIconStatus",
                value: function(e) {
                    $(".js-player-icon-cc", this._root).toggle(e), $(".js-player-icon-cc-deactivated", this._root).toggle(!e)
                }
            }, {
                key: "showCaption",
                value: function(e) {
                    var t = e.available,
                        n = e.enabled,
                        r = e.data,
                        i = r ? this.findCaptions(r) : null,
                        a = t && n && i && i.length > 0;
                    if (this.clearCaptions(), a) {
                        var o = $(".js-player-captions", this._root),
                            s = Array.isArray(i) ? this.getCaptionsFromData(i) : this.getCaptionsFromText(i);
                        o.append(s)
                    }
                }
            }, {
                key: "showCCAvailability",
                value: function(e) {
                    $(".js-control-cc", this._root).toggle(e), $(".js-cc-open-modal", this._root).toggle(e)
                }
            }, {
                key: "toggleCCStatus",
                value: function() {
                    var e = this._captionsState().enabled;
                    this._store.getState().analyticsTracker.trackEvent("player_click_cc"), this._store.dispatch((0, h.setCaptionsEnabled)(!e))
                }
            }, {
                key: "destroy",
                value: function() {
                    $(this._root).off("click"), this.unsubscribe()
                }
            }]), e
        }()
    }, function(e, t) {
        "use strict";

        function n(e) {
            return {
                type: a,
                value: e
            }
        }

        function r() {
            var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
            return {
                type: s,
                value: e
            }
        }

        function i() {
            var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
            return {
                type: o,
                value: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.setMiniPlayerMode = n, t.showSettingsMenu = r, t.showClipsButton = i;
        var a = t.ACTION_SET_MINIPLAYER_MODE = "set miniplayer",
            o = t.ACTION_SHOW_CLIPS_BUTTON = "show clips button",
            s = t.ACTION_SHOW_SETTINGS_MENU = "show settings menu"
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            if (e && e.__esModule) return e;
            var t = {};
            if (null != e)
                for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
            return t.default = e, t
        }

        function i(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.PlayerUIControlsDisplay = void 0;
        var a = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            o = n(168),
            s = r(o),
            l = n(413),
            u = n(434),
            c = n(435),
            d = n(217),
            f = n(183);
        t.PlayerUIControlsDisplay = function() {
            function e(t, n, r) {
                var a = this;
                i(this, e), this._player = t, this._root = n, this._store = r, this.unsubs = [], this.unsubs.push((0, f.subscribe)(this._store, ["collection.currentView"], this.onCollectionViewChange.bind(this))), this._hovering = !1, this._hideControlsTimeout = null, this._mouseX = 0, this._mouseY = 0, $(this._root).on("mouseenter", ".js-controls-top, .js-controls-bottom", function() {
                    a.setHovering(!0)
                }), $(this._root).on("mouseleave", this.hideControls.bind(this)), $(this._root).on("mouseleave", ".js-controls-top, .js-controls-bottom", function() {
                    a.setHovering(!1)
                }), $(this._root).on("mousemove", function(e) {
                    a._store.getState().collection.currentView !== l.SIDEBAR_VIEW && (a._mouseX === e.screenX && a._mouseY === e.screenY || (a._mouseX = e.screenX, a._mouseY = e.screenY, a.showControls(s.hoverControlsDelay)))
                })
            }
            return a(e, [{
                key: "onCollectionViewChange",
                value: function(e) {
                    var t = e.collection;
                    t.currentView === l.SIDEBAR_VIEW ? this.hideControls() : this.showControls(s.hoverControlsDelay)
                }
            }, {
                key: "setHovering",
                value: function(e) {
                    (0, c.isTouchDevice)() || (this._hovering = e)
                }
            }, {
                key: "showControls",
                value: function(e) {
                    $(this._root).attr("data-controls", !0), e && (this._hideControlsTimeout = (0, u.extendTimeout)(this._hideControlsTimeout, this.hideControls.bind(this), e))
                }
            }, {
                key: "hideControls",
                value: function() {
                    if (!this._hovering && "open" !== $(".js-menu", this._root).attr("data-state")) {
                        var e = this._player.getCasting();
                        "connected" !== e && "connecting" !== e && this._store.getState().env.playerType !== d.PLAYER_HIGHLIGHTER && $(this._root).attr("data-controls", !1)
                    }
                }
            }, {
                key: "destroy",
                value: function() {
                    $(this._root).off("mouseleave"), $(this._root).off("mouseenter"), $(this._root).off("mousemove"), this.unsubs.forEach(function(e) {
                        return e()
                    })
                }
            }]), e
        }()
    }, function(e, t) {
        "use strict";

        function n(e, t, n) {
            this._estimate = n, this._handle = setTimeout(e, t)
        }

        function r(e, t, r) {
            var i;
            i = Date.now ? Date.now() : (new Date).getTime();
            var a = i + r;
            return e && e._estimate > a ? e : (e && clearTimeout(e._handle), new n(t, r, a))
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.extendTimeout = r
    }, function(e, t) {
        "use strict";

        function n() {
            return "ontouchstart" in window || navigator.maxTouchPoints > 0 || navigator.msMaxTouchPoints > 0
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.isTouchDevice = n
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function a(e, t) {
            if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !t || "object" != typeof t && "function" != typeof t ? e : t
        }

        function o(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.Seekbar = t.SeekbarComponent = t.ANIMATION_SKIP_THRESHOLD = t.classNames = void 0;
        var s = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            l = n(277),
            u = r(l),
            c = n(307),
            d = r(c),
            f = n(261),
            p = r(f),
            _ = n(437),
            h = r(_),
            m = n(574),
            v = n(592),
            y = n(594),
            g = n(595),
            E = n(596),
            b = n(220),
            T = n(332),
            S = n(600),
            A = n(602),
            C = n(603),
            P = {
                bufferLength: d.default.number,
                currentTime: d.default.number,
                duration: d.default.number,
                isLoading: d.default.bool,
                isPaused: d.default.bool,
                isSeekableStream: d.default.bool.isRequired,
                mutedSegments: d.default.arrayOf(d.default.shape({
                    duration: d.default.number,
                    offset: d.default.number
                })),
                onSeeking: d.default.func,
                seek: d.default.func.isRequired,
                seekbarMarkers: d.default.array,
                thumbnailPreviews: d.default.object,
                windowObj: d.default.object,
                trackEvent: d.default.func.isRequired
            },
            O = function(e) {
                var t = e.playback,
                    n = e.stream,
                    r = e.timelineMetadata,
                    i = e.window,
                    a = e.analyticsTracker;
                return {
                    bufferLength: t.buffer.end - t.buffer.start,
                    currentTime: t.currentTime,
                    duration: t.duration,
                    isLoading: t.isLoading,
                    isPaused: t.paused,
                    isSeekableStream: n.contentType === b.CONTENT_MODE_VOD,
                    mutedSegments: r.mutedSegments,
                    seekbarMarkers: r.markers,
                    thumbnailPreviews: r.previews,
                    windowObj: i,
                    trackEvent: a.trackEvent
                }
            },
            w = function(e) {
                return {
                    onSeeking: function() {
                        e((0, T.setLoading)(!0))
                    }
                }
            },
            k = t.classNames = {
                slider: "player-slider player-slider--roundhandle js-player-slider",
                sliderLeft: "ui-slider-range",
                sliderThumb: "ui-slider-handle"
            },
            I = t.ANIMATION_SKIP_THRESHOLD = .05,
            N = t.SeekbarComponent = function(e) {
                function t() {
                    i(this, t);
                    var e = a(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments));
                    return e.state = {
                        isDragging: !1,
                        isSeeking: !1,
                        isShowingMarkerPreview: !1,
                        mouseMoveClientX: 0,
                        mouseMoveOnSeekbar: !1,
                        seekedValue: 0,
                        skipAnimationForFrame: !1
                    }, e.$seekbar = null, e.handleDragStart = e.handleDragStart.bind(e), e.handleDragStop = e.handleDragStop.bind(e), e.handleClick = e.handleClick.bind(e), e.handleMouseMove = e.handleMouseMove.bind(e), e.handleMouseOut = e.handleMouseOut.bind(e), e.seekbarRefHandler = e.seekbarRefHandler.bind(e), e.seekToPosition = e.seekToPosition.bind(e), e.handleShowingMarkerPreview = e.handleShowingMarkerPreview.bind(e), e.handleHidingMarkerPreview = e.handleHidingMarkerPreview.bind(e), e
                }
                return o(t, e), s(t, [{
                    key: "componentWillReceiveProps",
                    value: function(e) {
                        if (e.currentTime !== this.props.currentTime && this.props.duration > 0) {
                            var t = Math.abs(this.props.currentTime - e.currentTime),
                                n = t / this.props.duration;
                            n > I && this.setState({
                                skipAnimationForFrame: !0
                            })
                        }!e.isLoading && this.state.isSeeking && this.setState({
                            isSeeking: !1
                        })
                    }
                }, {
                    key: "render",
                    value: function() {
                        var e = this.props,
                            t = e.currentTime,
                            n = e.duration,
                            r = e.isSeekableStream;
                        if (!r) return null;
                        var i = this.createSliderComponent(),
                            a = u.default.createElement(g.SeekbarTimeDisplay, {
                                currentTime: t,
                                duration: n
                            });
                        return u.default.createElement("div", null, a, i)
                    }
                }, {
                    key: "createSliderComponent",
                    value: function() {
                        var e = this.state,
                            t = e.isDragging,
                            n = e.isSeeking,
                            r = e.isShowingMarkerPreview,
                            i = e.mouseMoveOnSeekbar,
                            a = e.seekedValue,
                            o = e.skipAnimationForFrame,
                            s = this.props,
                            l = s.bufferLength,
                            c = s.currentTime,
                            d = s.duration,
                            f = s.isPaused,
                            p = s.mutedSegments,
                            _ = s.seekbarMarkers,
                            h = n ? a : c,
                            m = !t && !f && !o,
                            g = this.getSeekbarDimensions(),
                            b = g.seekbarWidth,
                            T = t ? null : u.default.createElement(y.SeekbarBuffer, {
                                animate: m,
                                bufferLength: l,
                                max: d,
                                min: 0,
                                value: h
                            }),
                            S = u.default.createElement(v.MutedSegments, {
                                duration: d,
                                mutedSegments: p
                            }),
                            A = null;
                        i && !r && d > 0 && (A = this.createSeekbarPreviews());
                        var P = u.default.createElement(C.SeekbarMarkers, {
                            currentTime: c,
                            duration: d,
                            markers: _,
                            onHidingMarkerPreview: this.handleHidingMarkerPreview,
                            onMarkerSeek: this.seekToPosition,
                            onShowingMarkerPreview: this.handleShowingMarkerPreview,
                            seekbarWidth: b
                        });
                        return u.default.createElement(E.Slider, {
                            animate: m,
                            classNames: k,
                            max: d,
                            min: 0,
                            value: h,
                            onClick: this.handleClick,
                            onMouseMove: this.handleMouseMove,
                            onMouseOut: this.handleMouseOut,
                            onBlur: this.handleMouseOut,
                            ref: this.seekbarRefHandler,
                            dragHandlers: {
                                onStart: this.handleDragStart,
                                onStop: this.handleDragStop
                            }
                        }, T, S, A, P)
                    }
                }, {
                    key: "getSeekbarDimensions",
                    value: function() {
                        var e = 0,
                            t = 0;
                        if (this.$seekbar) {
                            var n = this.$seekbar.getBoundingClientRect();
                            e = n.width, t = n.left
                        }
                        return {
                            seekbarWidth: e,
                            seekbarLeftOffset: t
                        }
                    }
                }, {
                    key: "createSeekbarPreviews",
                    value: function() {
                        var e = this.state.mouseMoveClientX,
                            t = this.props,
                            n = t.duration,
                            r = t.thumbnailPreviews,
                            i = this.getSeekbarDimensions(),
                            a = i.seekbarWidth,
                            o = i.seekbarLeftOffset,
                            s = p.default.msedge || p.default.msie,
                            l = r.count > 0 && !s;
                        return l ? u.default.createElement(S.ThumbnailPreviews, {
                            duration: n,
                            previews: r,
                            mouseMoveClientX: e,
                            seekbarLeftOffset: o,
                            seekbarWidth: a
                        }) : u.default.createElement(A.TimestampPreview, {
                            duration: n,
                            mouseMoveClientX: e,
                            seekbarLeftOffset: o,
                            seekbarWidth: a
                        })
                    }
                }, {
                    key: "componentDidUpdate",
                    value: function() {
                        var e = this;
                        if (this.state.skipAnimationForFrame) var t = this.props.windowObj.requestAnimationFrame(function() {
                            var n = e.props.windowObj.requestAnimationFrame(function() {
                                e.setState({
                                    skipAnimationForFrame: !1
                                }), e.props.windowObj.cancelAnimationFrame(n)
                            });
                            e.props.windowObj.cancelAnimationFrame(t)
                        })
                    }
                }, {
                    key: "seekbarRefHandler",
                    value: function(e) {
                        this.$seekbar = h.default.findDOMNode(e)
                    }
                }, {
                    key: "handleClick",
                    value: function(e) {
                        this.seekToPosition(e)
                    }
                }, {
                    key: "handleMouseMove",
                    value: function(e) {
                        this.setState({
                            mouseMoveOnSeekbar: !0,
                            mouseMoveClientX: e.clientX
                        })
                    }
                }, {
                    key: "handleMouseOut",
                    value: function() {
                        this.setState({
                            mouseMoveOnSeekbar: !1,
                            mouseMoveClientX: 0
                        })
                    }
                }, {
                    key: "handleDragStart",
                    value: function() {
                        this.setState({
                            isDragging: !0
                        })
                    }
                }, {
                    key: "handleDragStop",
                    value: function(e) {
                        this.setState({
                            isDragging: !1
                        }), this.props.trackEvent("player_click_vod_seek"), this.seekToPosition(e)
                    }
                }, {
                    key: "handleShowingMarkerPreview",
                    value: function() {
                        this.setState({
                            isShowingMarkerPreview: !0
                        })
                    }
                }, {
                    key: "handleHidingMarkerPreview",
                    value: function() {
                        this.setState({
                            isShowingMarkerPreview: !1
                        })
                    }
                }, {
                    key: "seekToPosition",
                    value: function(e) {
                        this.setState({
                            isSeeking: !0,
                            seekedValue: e,
                            skipAnimationForFrame: !0
                        }), this.props.seek(e), this.props.onSeeking()
                    }
                }]), t
            }(u.default.Component);
        N.propTypes = P;
        t.Seekbar = (0, m.connect)(O, w)(N)
    }, , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.MutedSegments = void 0;
        var i = n(320),
            a = r(i),
            o = n(277),
            s = r(o),
            l = n(307),
            u = r(l),
            c = n(593),
            d = {
                duration: u.default.number,
                mutedSegments: u.default.arrayOf(u.default.shape({
                    duration: u.default.number,
                    offset: u.default.number
                }))
            },
            f = t.MutedSegments = function(e) {
                var t = e.duration,
                    n = e.mutedSegments;
                if (!(0, a.default)(t) || t <= 0) return null;
                if (!Array.isArray(n) || n.length <= 0) return null;
                var r = n.map(function(e) {
                    return s.default.createElement("span", {
                        className: "player-slider__muted",
                        style: {
                            width: (0, c.getPercentage)(e.duration, t) + "%",
                            left: (0, c.getPercentage)(e.offset, t) + "%"
                        },
                        key: e.offset + "_" + e.duration + "_" + t
                    })
                });
                return s.default.createElement("div", {
                    className: "player-slider__muted-segments js-muted-segments-container"
                }, r)
            };
        f.propTypes = d
    }, function(e, t) {
        "use strict";

        function n(e, t) {
            return 0 === t ? 0 : 100 * e / t
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.getPercentage = n
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.SeekbarBuffer = void 0;
        var i = n(277),
            a = r(i),
            o = n(307),
            s = r(o),
            l = n(593),
            u = {
                animate: s.default.bool,
                bufferLength: s.default.number.isRequired,
                max: s.default.number.isRequired,
                min: s.default.number.isRequired,
                value: s.default.number.isRequired
            },
            c = t.SeekbarBuffer = function(e) {
                var t = e.animate,
                    n = e.bufferLength,
                    r = e.min,
                    i = e.max,
                    o = e.value,
                    s = o - r,
                    u = i - r;
                return a.default.createElement("div", {
                    style: {
                        width: (0, l.getPercentage)(n, u) + "%",
                        left: (0, l.getPercentage)(s, u) + "%",
                        transition: t ? "left 1s linear" : null
                    },
                    className: "player-slider__buffer"
                })
            };
        c.propTypes = u
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            if (e && e.__esModule) return e;
            var t = {};
            if (null != e)
                for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
            return t.default = e, t
        }

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.SeekbarTimeDisplay = void 0;
        var a = n(277),
            o = i(a),
            s = n(307),
            l = i(s),
            u = n(317),
            c = r(u),
            d = {
                currentTime: l.default.number,
                duration: l.default.number
            },
            f = t.SeekbarTimeDisplay = function(e) {
                var t = e.currentTime,
                    n = e.duration,
                    r = c.toString(t),
                    i = c.toString(n);
                return o.default.createElement("div", {
                    className: "player-seek__time-container"
                }, o.default.createElement("span", {
                    className: "player-seek__time"
                }, r), o.default.createElement("span", {
                    className: "player-seek__time player-seek__time--total"
                }, i))
            };
        f.propTypes = d
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function a(e, t) {
            if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !t || "object" != typeof t && "function" != typeof t ? e : t
        }

        function o(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.Slider = void 0;
        var s = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            l = n(277),
            u = r(l),
            c = n(307),
            d = r(c),
            f = n(597),
            p = r(f),
            _ = n(598),
            h = n(599),
            m = n(120),
            v = r(m),
            y = {
                animate: d.default.bool,
                classNames: d.default.shape({
                    slider: d.default.string,
                    sliderLeft: d.default.string,
                    sliderThumb: d.default.string
                }),
                children: d.default.oneOfType([d.default.arrayOf(d.default.element), d.default.element]),
                dragHandlers: d.default.shape({
                    onStart: d.default.func,
                    onDrag: d.default.func,
                    onStop: d.default.func
                }),
                max: d.default.number.isRequired,
                min: d.default.number.isRequired,
                onBlur: d.default.func,
                onClick: d.default.func,
                onKeyDown: d.default.func,
                onMouseMove: d.default.func,
                onMouseOut: d.default.func,
                sliderTabIndex: d.default.number,
                value: d.default.number.isRequired
            },
            g = {
                classNames: {},
                sliderTabIndex: 0
            },
            E = t.Slider = function(e) {
                function t() {
                    i(this, t);
                    var e = a(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments));
                    return e.state = {
                        isDragging: !1,
                        "data-whatInput": "",
                        currentDragValue: 0,
                        touchIdentifier: -1
                    }, e.handleTouchStart = e.handleTouchStart.bind(e), e.handleTouchEnd = e.handleTouchEnd.bind(e), e.handleMouseDown = e.handleMouseDown.bind(e), e.handleMouseUp = e.handleMouseUp.bind(e), e.handleClick = e.handleClick.bind(e), e.handleFocus = e.handleFocus.bind(e), e._sliderRefHandler = e._sliderRefHandler.bind(e), e
                }
                return o(t, e), s(t, [{
                    key: "render",
                    value: function() {
                        var e = this.props,
                            t = e.animate,
                            n = e.children,
                            r = e.classNames,
                            i = e.max,
                            a = e.min,
                            o = e.onBlur,
                            s = e.onKeyDown,
                            l = e.onMouseMove,
                            c = e.onMouseOut,
                            d = e.sliderTabIndex,
                            f = e.value,
                            p = this.state.isDragging ? this.state.currentDragValue : f,
                            m = u.default.createElement(_.SliderLeft, {
                                animate: t,
                                className: r.sliderLeft,
                                max: i,
                                min: a,
                                value: p
                            }),
                            v = u.default.createElement(h.SliderThumb, {
                                animate: t,
                                className: r.sliderThumb,
                                max: i,
                                min: a,
                                onTouchStart: this.handleTouchStart,
                                onTouchEnd: this.handleTouchEnd,
                                onMouseDown: this.handleMouseDown,
                                onMouseUp: this.handleMouseUp,
                                value: p
                            });
                        return u.default.createElement("div", {
                            "aria-valuemax": i,
                            "aria-valuemin": a,
                            "aria-valuenow": f,
                            className: r.slider,
                            "data-isDragging": this.state.isDragging,
                            "data-whatInput": this.state["data-whatInput"],
                            onBlur: o,
                            onClick: this.handleClick,
                            onFocus: this.handleFocus,
                            onKeyDown: s,
                            onMouseMove: l,
                            onMouseOut: c,
                            onMouseDown: this.handleMouseDown,
                            onMouseUp: this.handleMouseUp,
                            onTouchStart: this.handleTouchStart,
                            onTouchEnd: this.handleTouchEnd,
                            ref: this._sliderRefHandler,
                            role: "slider",
                            tabIndex: d
                        }, m, n, v)
                    }
                }, {
                    key: "_sliderRefHandler",
                    value: function(e) {
                        this.$slider = e
                    }
                }, {
                    key: "calculateValueAtPosition",
                    value: function() {
                        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
                            t = this.props,
                            n = t.max,
                            r = t.min,
                            i = this.$slider.getBoundingClientRect(),
                            a = i.left,
                            o = i.width;
                        if (0 === o) return 0;
                        var s = Math.min(1, Math.max(0, (e - a) / o));
                        return s * (n - r) + r
                    }
                }, {
                    key: "handleClick",
                    value: function(e) {
                        var t = this.calculateValueAtPosition(e.pageX),
                            n = this.props.onClick;
                        n && n(t, e)
                    }
                }, {
                    key: "onDragStart",
                    value: function(e) {
                        var t = this.calculateValueAtPosition(e.pageX);
                        this.setState({
                            isDragging: !0,
                            currentDragValue: t
                        });
                        var n = this.props.dragHandlers.onStart;
                        n && n(t, e)
                    }
                }, {
                    key: "onDragEvent",
                    value: function(e) {
                        var t = this.calculateValueAtPosition(e.pageX);
                        this.setState({
                            currentDragValue: t
                        });
                        var n = this.props.dragHandlers.onDrag;
                        n && n(t, e)
                    }
                }, {
                    key: "onDragEnd",
                    value: function(e) {
                        this.setState({
                            isDragging: !1,
                            currentDragValue: 0
                        });
                        var t = this.calculateValueAtPosition(e.pageX),
                            n = this.props.dragHandlers.onStop;
                        n && n(t, e)
                    }
                }, {
                    key: "handleFocus",
                    value: function() {
                        this.setState({
                            "data-whatInput": p.default.ask()
                        })
                    }
                }, {
                    key: "addMoveHandlers",
                    value: function() {
                        var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                        if (this.$slider) {
                            var t = this.$slider.ownerDocument;
                            e ? (t.addEventListener("touchmove", this), t.addEventListener("touchend", this), t.addEventListener("touchcancel", this)) : (t.addEventListener("mousemove", this), t.addEventListener("mouseup", this))
                        }
                    }
                }, {
                    key: "removeMoveHandlers",
                    value: function() {
                        var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                        if (this.$slider) {
                            var t = this.$slider.ownerDocument;
                            e ? (t.removeEventListener("touchmove", this), t.removeEventListener("touchend", this), t.removeEventListener("touchcancel", this)) : (t.removeEventListener("mousemove", this), t.removeEventListener("mouseup", this))
                        }
                    }
                }, {
                    key: "handleTouchStart",
                    value: function(e) {
                        var t = e.touches[0];
                        this.setState({
                            touchIdentifier: t.identifier
                        }), this.onDragStart(t), this.addMoveHandlers(!0)
                    }
                }, {
                    key: "handleTouchMove",
                    value: function(e) {
                        var t = this,
                            n = (0, v.default)(e.touches, function(e) {
                                return e.identifier === t.state.touchIdentifier
                            });
                        n && this.onDragEvent(n)
                    }
                }, {
                    key: "handleTouchEnd",
                    value: function(e) {
                        var t = this,
                            n = (0, v.default)(e.changedTouches, function(e) {
                                return e.identifier === t.state.touchIdentifier
                            });
                        n && (this.onDragEnd(n), this.removeMoveHandlers(!0), this.setState({
                            touchIdentifier: -1
                        }))
                    }
                }, {
                    key: "handleMouseDown",
                    value: function(e) {
                        this.onDragStart(e), this.addMoveHandlers(!1)
                    }
                }, {
                    key: "handleMouseMove",
                    value: function(e) {
                        this.onDragEvent(e)
                    }
                }, {
                    key: "handleMouseUp",
                    value: function(e) {
                        this.onDragEnd(e), this.removeMoveHandlers(!1)
                    }
                }, {
                    key: "handleEvent",
                    value: function(e) {
                        switch (e.type) {
                            case "touchmove":
                                return this.handleTouchMove(e);
                            case "touchend":
                            case "touchcancel":
                                return this.handleTouchEnd(e);
                            case "mousemove":
                                return this.handleMouseMove(e);
                            case "mouseup":
                                return this.handleMouseUp(e);
                            default:
                                throw Error("unexpected Slider event type: " + e.type)
                        }
                    }
                }]), t
            }(u.default.Component);
        E.propTypes = y, E.defaultProps = g
    }, , function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.SliderLeft = void 0;
        var i = n(277),
            a = r(i),
            o = n(307),
            s = r(o),
            l = {
                animate: s.default.bool,
                className: s.default.string,
                max: s.default.number.isRequired,
                min: s.default.number.isRequired,
                value: s.default.number.isRequired
            },
            u = {
                className: "",
                animate: !1
            },
            c = t.SliderLeft = function(e) {
                var t = e.animate,
                    n = e.className,
                    r = e.max,
                    i = e.min,
                    o = e.value,
                    s = {
                        width: (o - i) / (r - i) * 100 + "%",
                        transition: t ? "width 1s linear" : null
                    };
                return a.default.createElement("div", {
                    style: s,
                    className: n
                })
            };
        c.propTypes = l, c.defaultProps = u
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.SliderThumb = void 0;
        var i = n(277),
            a = r(i),
            o = n(307),
            s = r(o),
            l = n(593),
            u = {
                animate: s.default.bool,
                className: s.default.string,
                max: s.default.number.isRequired,
                min: s.default.number.isRequired,
                value: s.default.number.isRequired
            },
            c = {
                animate: !1,
                className: ""
            },
            d = t.SliderThumb = function(e) {
                var t = e.animate,
                    n = e.className,
                    r = e.max,
                    i = e.min,
                    o = e.value,
                    s = o - i,
                    u = r - i,
                    c = {
                        left: (0, l.getPercentage)(s, u) + "%",
                        transition: t ? "left 1s linear" : null
                    };
                return a.default.createElement("div", {
                    style: c,
                    className: n
                })
            };
        d.propTypes = u, d.defaultProps = c
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            if (e && e.__esModule) return e;
            var t = {};
            if (null != e)
                for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
            return t.default = e, t
        }

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function a(e) {
            var t = e.duration,
                n = e.seekbarWidth,
                r = e.seekbarLeftOffset,
                i = e.previews,
                a = e.mouseMoveClientX,
                s = a - r,
                u = t * (s / n),
                c = o(i, u, t);
            return l.default.createElement(p.SeekbarPopup, {
                popupLeftOffset: s,
                popupObject: c,
                popupWidth: _,
                seekbarWidth: n
            })
        }

        function o(e, t, n) {
            var r = Math.floor(e.count * (t / n)),
                i = r % (e.hq.cols * e.hq.rows),
                a = _ / e.hq.width;
            return {
                thumbOver: {
                    url: e.hq.URLs[Math.floor(r / (e.hq.cols * e.hq.rows))],
                    height: e.hq.height * a,
                    width: e.hq.width * a,
                    sheetWidth: e.hq.width * e.hq.cols * a,
                    x: i % e.hq.cols * e.hq.width * a,
                    y: Math.floor(i / e.hq.cols) * e.hq.height * a
                },
                thumbUnder: {
                    url: e.lq.URLs[0],
                    height: e.hq.height * a,
                    width: e.hq.width * a,
                    sheetWidth: e.hq.width * e.lq.cols * a,
                    x: r % e.lq.cols * e.hq.width * a,
                    y: Math.floor(r / e.lq.cols) * e.hq.height * a
                },
                title: "",
                info: "",
                timestamp: f.toString(t, !1),
                width: _
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.ThumbnailPreviews = a;
        var s = n(277),
            l = i(s),
            u = n(307),
            c = i(u),
            d = n(317),
            f = r(d),
            p = n(601),
            _ = 148,
            h = {
                duration: c.default.number,
                previews: c.default.object,
                mouseMoveClientX: c.default.number,
                seekbarLeftOffset: c.default.number,
                seekbarWidth: c.default.number
            },
            m = {
                duration: 0,
                seekbarLeftOffset: 0,
                seekbarWidth: 0
            };
        a.propTypes = h, a.defaultProps = m
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e, t, n) {
            var r = e - .5 * t,
                i = Math.max(0, Math.min(r, n - t));
            return isNaN(i) ? 0 : i
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.SeekbarPopup = t.ARROW_WIDTH = void 0;
        var a = n(277),
            o = r(a),
            s = n(307),
            l = r(s),
            u = t.ARROW_WIDTH = 20,
            c = {
                popupLeftOffset: l.default.number,
                popupObject: l.default.object,
                popupWidth: l.default.number,
                seekbarWidth: l.default.number
            },
            d = t.SeekbarPopup = function(e) {
                var t = e.popupLeftOffset,
                    n = e.popupObject,
                    r = e.popupWidth,
                    a = e.seekbarWidth;
                return o.default.createElement("div", null, o.default.createElement("div", {
                    className: "player-slider__popup-container",
                    style: {
                        width: n.width,
                        left: i(t, r, a)
                    }
                }, o.default.createElement("div", {
                    className: "popup-thumb-wrapper",
                    style: {
                        width: n.thumbOver.width,
                        height: n.thumbOver.height,
                        maxHeight: n.thumbOver.height
                    }
                }, o.default.createElement("div", {
                    className: "popup-marker-thumbunder",
                    style: {
                        height: n.thumbUnder.height,
                        width: n.thumbUnder.width,
                        backgroundSize: n.thumbUnder.sheetWidth + "px",
                        backgroundImage: "url(" + n.thumbUnder.url + ")",
                        backgroundPosition: "-" + n.thumbUnder.x + "px -" + n.thumbUnder.y + "px"
                    }
                }), o.default.createElement("div", {
                    className: "popup-marker-thumbover",
                    style: {
                        height: n.thumbOver.height,
                        width: n.thumbOver.width,
                        backgroundSize: n.thumbOver.sheetWidth + "px",
                        backgroundImage: "url(" + n.thumbOver.url + ")",
                        backgroundPosition: "-" + n.thumbOver.x + "px -" + n.thumbOver.y + "px"
                    }
                })), o.default.createElement("div", {
                    className: "popup-info-wrapper"
                }, o.default.createElement("span", {
                    className: "popup-title"
                }, n.title), o.default.createElement("span", {
                    className: "popup-info",
                    dangerouslySetInnerHTML: {
                        __html: n.info
                    }
                })), o.default.createElement("span", {
                    className: "popup-timestamp"
                }, n.timestamp)), o.default.createElement("div", {
                    className: "popup-arrow",
                    style: {
                        left: i(t, u, a)
                    }
                }))
            };
        d.propTypes = c
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            if (e && e.__esModule) return e;
            var t = {};
            if (null != e)
                for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
            return t.default = e, t
        }

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function a(e, t, n) {
            var r = e - .5 * t;
            return Math.max(0, Math.min(r, n - t))
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.TimestampPreview = void 0;
        var o = n(277),
            s = i(o),
            l = n(307),
            u = i(l),
            c = n(317),
            d = r(c),
            f = 20,
            p = 92,
            _ = {
                duration: u.default.number,
                mouseMoveClientX: u.default.number,
                seekbarLeftOffset: u.default.number,
                seekbarWidth: u.default.number
            },
            h = {
                duration: 0,
                seekbarLeftOffset: 0,
                seekbarWidth: 0
            },
            m = t.TimestampPreview = function(e) {
                var t = e.duration,
                    n = e.mouseMoveClientX,
                    r = e.seekbarLeftOffset,
                    i = e.seekbarWidth,
                    o = n - r,
                    l = t * (o / i);
                return s.default.createElement("div", null, s.default.createElement("div", {
                    className: "player-slider__popup-container",
                    style: {
                        width: p,
                        left: a(o, p, i)
                    }
                }, s.default.createElement("span", {
                    className: "popup-timestamp"
                }, d.toString(l, !1))), s.default.createElement("div", {
                    className: "popup-arrow",
                    style: {
                        left: a(o, f, i)
                    }
                }))
            };
        m.propTypes = _, m.defaultProps = h
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            if (e && e.__esModule) return e;
            var t = {};
            if (null != e)
                for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
            return t.default = e, t
        }

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function a(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function o(e, t) {
            if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !t || "object" != typeof t && "function" != typeof t ? e : t
        }

        function s(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }

        function l(e, t, n) {
            return t in e ? Object.defineProperty(e, t, {
                value: n,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : e[t] = n, e
        }

        function u(e) {
            var t = A[e.type] / e.thumbnail.width;
            return {
                thumbOver: {
                    url: e.thumbnail.imageURL,
                    height: e.thumbnail.height * t,
                    width: e.thumbnail.width * t,
                    sheetWidth: e.thumbnail.width * e.thumbnail.cols * t,
                    x: e.thumbnail.x * t,
                    y: e.thumbnail.y * t
                },
                thumbUnder: {
                    url: "",
                    height: 0,
                    width: 0,
                    sheetWidth: 0,
                    x: 0,
                    y: 0
                },
                title: e.title,
                info: e.info,
                timestamp: y.toString(e.startTime, !1),
                width: A[e.type]
            }
        }

        function c(e, t) {
            var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0;
            return isNaN(parseFloat(e[t])) ? n : parseFloat(e[t])
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.SeekbarMarkers = void 0;
        var d, f = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            p = n(277),
            _ = i(p),
            h = n(307),
            m = i(h),
            v = n(317),
            y = r(v),
            g = n(601),
            E = n(593),
            b = n(604),
            T = {
                currentTime: m.default.number,
                duration: m.default.number,
                markers: m.default.array,
                onHidingMarkerPreview: m.default.func,
                onShowingMarkerPreview: m.default.func,
                onMarkerSeek: m.default.func,
                seekbarWidth: m.default.number
            },
            S = {
                currentTime: 0,
                duration: 0,
                markers: []
            },
            A = (d = {}, l(d, b.MARKER_TYPE_GAME_METADATA, 148), l(d, b.MARKER_TYPE_GAME_CHANGE, 78), d),
            C = t.SeekbarMarkers = function(e) {
                function t() {
                    a(this, t);
                    var e = o(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments));
                    return e.state = {
                        showMarkerPopup: !1,
                        targetDot: null
                    }, e.handleMouseEnter = e.handleMouseEnter.bind(e), e.handleMouseLeave = e.handleMouseLeave.bind(e), e.handleClick = e.handleClick.bind(e), e
                }
                return s(t, e), f(t, [{
                    key: "componentDidMount",
                    value: function() {
                        this.preloadMarkerSprites()
                    }
                }, {
                    key: "render",
                    value: function() {
                        var e = this,
                            t = this.props,
                            n = t.currentTime,
                            r = t.duration,
                            i = t.markers,
                            a = this.state,
                            o = a.showMarkerPopup,
                            s = a.targetDot;
                        if (!this.shouldDisplayMarkers()) return null;
                        var l = i.map(function(t, i) {
                                return _.default.createElement("button", {
                                    className: "player-slider__marker-dot",
                                    key: t.title + "_" + t.startTime + "_" + t.type,
                                    "data-time": t.startTime,
                                    "data-marker-index": i,
                                    "data-passed": t.startTime <= n,
                                    onMouseEnter: e.handleMouseEnter,
                                    onMouseLeave: e.handleMouseLeave,
                                    onClick: e.handleClick,
                                    onKeyDown: e.handleClick,
                                    role: "button",
                                    style: {
                                        left: (0, E.getPercentage)(t.startTime, r) + "%"
                                    },
                                    tabIndex: 0
                                })
                            }),
                            u = null;
                        return o && s && (u = this.getSeekbarPopupForMarker(s)), _.default.createElement("div", null, u, _.default.createElement("div", {
                            className: "player-slider__marker-dots"
                        }, l))
                    }
                }, {
                    key: "handleMouseEnter",
                    value: function(e) {
                        this.setState({
                            showMarkerPopup: !0,
                            targetDot: e.target
                        }), this.props.onShowingMarkerPreview()
                    }
                }, {
                    key: "handleMouseLeave",
                    value: function() {
                        this.setState({
                            showMarkerPopup: !1,
                            targetDot: null
                        }), this.props.onHidingMarkerPreview()
                    }
                }, {
                    key: "handleClick",
                    value: function(e) {
                        var t = e.target,
                            n = Number(t.getAttribute("data-time"));
                        this.props.onMarkerSeek(n), e.stopPropagation()
                    }
                }, {
                    key: "shouldDisplayMarkers",
                    value: function() {
                        var e = this.props,
                            t = e.duration,
                            n = e.markers;
                        return t > 0 && n.length > 0
                    }
                }, {
                    key: "preloadMarkerSprites",
                    value: function() {
                        this.props.markers.forEach(function(e) {
                            var t = new Image;
                            t.src = e.thumbnail.imageUrl
                        })
                    }
                }, {
                    key: "getSeekbarPopupForMarker",
                    value: function(e) {
                        var t = getComputedStyle(e),
                            n = c(t, "left"),
                            r = c(t, "width"),
                            i = c(t, "margin-left"),
                            a = n + .5 * r + i,
                            o = Number(e.getAttribute("data-marker-index")),
                            s = this.props.markers[o],
                            l = u(s);
                        return _.default.createElement(g.SeekbarPopup, {
                            popupLeftOffset: a,
                            popupWidth: A[s.type],
                            popupObject: l,
                            seekbarWidth: this.props.seekbarWidth
                        })
                    }
                }]), t
            }(_.default.Component);
        C.propTypes = T, C.defaultProps = S
    }, function(e, t, n) {
        "use strict";

        function r(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.TimelineMetadataManager = t.MARKER_TYPE_GAME_METADATA = t.MARKER_TYPE_GAME_CHANGE = void 0;
        var i = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            a = n(183),
            o = n(220),
            s = n(605),
            l = n(606),
            u = n(607),
            c = n(608),
            d = n(609),
            f = n(251);
        t.MARKER_TYPE_GAME_CHANGE = c.TYPE_GAME_CHANGE, t.MARKER_TYPE_GAME_METADATA = d.TYPE_GAME_METADATA, t.TimelineMetadataManager = function() {
            function e(t) {
                r(this, e), this._store = t, this._subscribeStream(this._store.getState()), this.unsub = (0, a.subscribe)(this._store, ["stream"], this._subscribeStream.bind(this))
            }
            return i(e, [{
                key: "_subscribeStream",
                value: function(e) {
                    var t = this,
                        n = e.stream,
                        r = this._store.getState(),
                        i = r.experiments;
                    n.contentType === o.CONTENT_MODE_VOD && ((0, l.getMutedSegments)(n.videoId).then(function(e) {
                        t._store.dispatch((0, s.setMutedSegments)(e))
                    }), (0, u.getPreviews)(n.videoId).then(function(e) {
                        t._store.dispatch((0, s.setPreviews)(e))
                    }), i.get(f.MARKERS).then(function(e) {
                        switch (e) {
                            case "vca":
                                return (0, d.getVCAMarkers)(n.videoId);
                            case "vod":
                                return (0, c.getVODMarkers)(n.videoId)
                        }
                        return []
                    }).then(function(e) {
                        t._store.dispatch((0, s.setMarkers)(e))
                    }))
                }
            }, {
                key: "destroy",
                value: function() {
                    this.unsub()
                }
            }]), e
        }()
    }, function(e, t) {
        "use strict";

        function n(e) {
            return {
                type: a,
                mutedSegments: e
            }
        }

        function r(e) {
            return {
                type: o,
                previews: e
            }
        }

        function i(e) {
            return {
                type: s,
                markers: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.setMutedSegments = n, t.setPreviews = r, t.setMarkers = i;
        var a = t.ACTION_SET_MUTED_SEGMENTS = "set muted segments",
            o = t.ACTION_SET_PREVIEWS = "set previews",
            s = t.ACTION_SET_MARKERS = "set markers"
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e) {
            return (0, c.videoInfo)(e).then(function(e) {
                return a(e.muted_segments)
            })
        }

        function a() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];
            if (null === e) return [];
            if (e.length <= 1) return e;
            if (!o(e)) return Promise.reject(new Error("Muted segments not formatted correctly"));
            var t = e.slice(0).sort(function(e, t) {
                return e.offset - t.offset
            });
            return s(t)
        }

        function o(e) {
            var t = !0;
            return e.forEach(function(e) {
                e.hasOwnProperty("offset") && e.hasOwnProperty("duration") && (0, u.default)(e.offset) && (0, u.default)(e.duration) || (t = !1)
            }), t
        }

        function s(e) {
            return e.reduce(function(e, t) {
                var n = e[e.length - 1],
                    r = n.offset + n.duration,
                    i = t.offset + t.duration;
                return r < t.offset ? e.push(t) : r < i && (n.duration = i - n.offset), e
            }, [e[0]])
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.getMutedSegments = i;
        var l = n(320),
            u = r(l),
            c = n(200)
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return (0, s.videoInfo)(e).then(function(e) {
                return (0, o.fetch)({
                    url: e.seek_previews_url,
                    dataType: "json"
                }).then(function(t) {
                    return i(t, e.seek_previews_url)
                })
            })
        }

        function i(e, t) {
            if (null === e) return Promise.reject(new Error("Raw preview data not available"));
            var n = (0, a.parseUri)(t),
                r = n.protocol + "://" + n.host + n.directory,
                i = {};
            e.forEach(function(e, t) {
                i[e.quality] = t
            });
            var o = i[l],
                s = i[u];
            return {
                count: e[o].count,
                lq: {
                    width: e[o].width,
                    height: e[o].height,
                    rows: e[o].rows,
                    cols: e[o].cols,
                    URLs: e[o].images.map(function(e) {
                        return "" + r + e
                    })
                },
                hq: {
                    width: e[s].width,
                    height: e[s].height,
                    rows: e[s].rows,
                    cols: e[s].cols,
                    URLs: e[s].images.map(function(e) {
                        return "" + r + e
                    })
                }
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.getPreviews = r;
        var a = n(176),
            o = n(199),
            s = n(200),
            l = "low",
            u = "high"
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e, t, n) {
            return t in e ? Object.defineProperty(e, t, {
                value: n,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : e[t] = n, e
        }

        function a(e) {
            var t = e.substring(e.indexOf("v") + 1);
            return (0, l.krakenRequestv5)("videos/" + t + "/markers").then(function(e) {
                return o(e)
            })
        }

        function o() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {
                markers: []
            };
            if (null === e) return Promise.reject(new Error("Raw VOD marker data not available"));
            if (void 0 === e.markers || null === e.markers) return Promise.reject(new Error("Raw VOD marker data is misformed"));
            var t = (0, c.default)((0, f.default)(e.markers, function(e, t) {
                var n = h[t] || m;
                return e.map(n)
            }));
            return t.filter(function(e) {
                return null !== e
            }).sort(function(e, t) {
                return e.startTime - t.startTime
            })
        }

        function s(e) {
            return {
                imageURL: "" + e.thumbnail.sheet_url,
                x: e.thumbnail.column * e.thumbnail.width,
                y: e.thumbnail.row * e.thumbnail.height,
                width: e.thumbnail.width,
                height: e.thumbnail.height,
                cols: e.thumbnail.sheet_cols
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.TYPE_GAME_CHANGE = void 0, t.getVODMarkers = a;
        var l = n(200),
            u = n(110),
            c = r(u),
            d = n(197),
            f = r(d),
            p = t.TYPE_GAME_CHANGE = "game change",
            _ = "game_changes",
            h = i({}, _, function(e) {
                return {
                    title: "",
                    info: "",
                    startTime: e.time,
                    thumbnail: s(e),
                    type: p
                }
            }),
            m = function() {
                return null
            }
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e, t, n) {
            return t in e ? Object.defineProperty(e, t, {
                value: n,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : e[t] = n, e
        }

        function a(e) {
            var t = (0, f.fetch)({
                url: S + "ids.json",
                dataType: "json"
            });
            return Promise.all([t, (0, p.videoInfo)(e)]).then(function(t) {
                var n = d(t, 2),
                    r = n[0],
                    i = n[1];
                return r.indexOf(i.channel._id) === -1 ? Promise.reject(new Error("Current channel does not have VCA markers")) : (0, f.fetch)({
                    url: "" + S + e + ".json",
                    dataType: "json"
                })
            }).then(o).catch(function() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : new Error("Could not retrieve and/or normalize VCA markers");
                return console.warn(e.message), []
            })
        }

        function o(e) {
            if (null === e) return Promise.reject(new Error("Raw VCA marker data not available"));
            var t = (0, h.default)(e.data.tags, s),
                n = (0, b.default)((0, g.default)(t, function(t, n) {
                    return t.sort(function(e, t) {
                        return e.start_sec - t.start_sec
                    }).map(function(t, r) {
                        var i = L[n];
                        return i(t, r, e.data)
                    })
                }));
            return n.filter(function(e) {
                return null !== e
            }).sort(function(e, t) {
                return e.startTime - t.startTime
            })
        }

        function s(e) {
            switch (e.game_type) {
                case A:
                    if (0 === e.game_data.type) return w;
                    break;
                case O:
                    if (0 === e.game_data.type) return N;
                    break;
                case P:
                    if (0 === e.game_data.type) return I;
                    break;
                case C:
                    if (0 === e.game_data.type) return k
            }
            return R
        }

        function l(e, t, n) {
            var r = {
                title: "Match " + (t + 1),
                info: "",
                startTime: e.start_sec,
                thumbnail: u(e, n),
                type: T
            };
            return r
        }

        function u(e, t) {
            return null === e.thumbnail_index ? M : {
                imageURL: "" + S + t.thumbnail_sheet,
                x: e.thumbnail_index[1] * t.thumbnail_size[0],
                y: e.thumbnail_index[0] * t.thumbnail_size[1],
                width: t.thumbnail_size[0],
                height: t.thumbnail_size[1],
                cols: t.sheet_dimensions[1]
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.TYPE_GAME_METADATA = void 0;
        var c, d = function() {
            function e(e, t) {
                var n = [],
                    r = !0,
                    i = !1,
                    a = void 0;
                try {
                    for (var o, s = e[Symbol.iterator](); !(r = (o = s.next()).done) && (n.push(o.value), !t || n.length !== t); r = !0);
                } catch (e) {
                    i = !0, a = e
                } finally {
                    try {
                        !r && s.return && s.return()
                    } finally {
                        if (i) throw a
                    }
                }
                return n
            }
            return function(t, n) {
                if (Array.isArray(t)) return t;
                if (Symbol.iterator in Object(t)) return e(t, n);
                throw new TypeError("Invalid attempt to destructure non-iterable instance")
            }
        }();
        t.getVCAMarkers = a;
        var f = n(199),
            p = n(200),
            _ = n(188),
            h = r(_),
            m = n(117),
            v = r(m),
            y = n(197),
            g = r(y),
            E = n(110),
            b = r(E),
            T = t.TYPE_GAME_METADATA = "game metadata",
            S = "https://clipmn.twitch.tv/prod/",
            A = "lol",
            C = "hs",
            P = "csgo",
            O = "rl",
            w = "leagueOfLegendTags",
            k = "hearthStoneMatchTags",
            I = "counterStrikeMatchTags",
            N = "rocketLeagueMatchTags",
            R = "nonTypedTags",
            L = (c = {}, i(c, w, l), i(c, N, l), i(c, I, l), i(c, k, function(e, t, n) {
                return (0, v.default)(l(e, t, n), {
                    info: "<strong>" + e.game_data.characters[0] + "</strong> vs " + e.game_data.characters[1]
                })
            }), i(c, R, function() {
                return null
            }), c),
            M = {
                imageURL: "",
                x: 0,
                y: 0,
                width: 0,
                height: 0,
                cols: 0
            }
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function a(e, t) {
            if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !t || "object" != typeof t && "function" != typeof t ? e : t
        }

        function o(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.Settings = t.SettingsContainer = t.mapStateToProps = void 0;
        var s = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            l = n(277),
            u = r(l),
            c = n(307),
            d = r(c),
            f = n(611),
            p = r(f),
            _ = n(574),
            h = n(612),
            m = n(614),
            v = n(617),
            y = n(432),
            g = n(331),
            E = {
                isAutoQuality: d.default.bool.isRequired,
                isEnded: d.default.bool.isRequired,
                isPaused: d.default.bool.isRequired,
                isSettingsShown: d.default.bool.isRequired,
                onShowSettings: d.default.func,
                playerHeight: d.default.number.isRequired,
                qualitiesAvailable: d.default.bool.isRequired,
                qualityIsChanging: d.default.bool.isRequired,
                trackEvent: d.default.func.isRequired,
                windowObj: d.default.object.isRequired
            },
            b = {
                showSettings: function() {}
            },
            T = t.mapStateToProps = function(e) {
                var t = e.analyticsTracker,
                    n = e.quality,
                    r = e.playback,
                    i = e.playerDimensions,
                    a = e.ui,
                    o = e.window;
                return {
                    isAutoQuality: n.selected === g.QUALITY_AUTO,
                    isEnded: r.ended,
                    isPaused: r.paused,
                    isSettingsShown: a.showSettings,
                    playerHeight: i.height,
                    qualitiesAvailable: n.available.length > 0,
                    qualityIsChanging: n.selected !== n.current,
                    trackEvent: t.trackEvent,
                    windowObj: o
                }
            },
            S = function(e) {
                return {
                    onShowSettings: function() {
                        var t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                        e((0, y.showSettingsMenu)(t))
                    }
                }
            },
            A = t.SettingsContainer = function(e) {
                function t() {
                    i(this, t);
                    var e = a(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments));
                    return e.handleSettingsButtonClick = e.handleSettingsButtonClick.bind(e), e.handleWindowBlur = e.handleWindowBlur.bind(e), e
                }
                return o(t, e), s(t, [{
                    key: "componentDidMount",
                    value: function() {
                        var e = this.props.windowObj;
                        e.addEventListener("blur", this.handleWindowBlur)
                    }
                }, {
                    key: "componentWillUnmount",
                    value: function() {
                        var e = this.props.windowObj;
                        e.removeEventListener("blur", this.handleWindowBlur)
                    }
                }, {
                    key: "handleWindowBlur",
                    value: function() {
                        this.props.onShowSettings(!1)
                    }
                }, {
                    key: "handleClickOutside",
                    value: function() {
                        this.props.onShowSettings(!1)
                    }
                }, {
                    key: "handleSettingsButtonClick",
                    value: function() {
                        this.props.onShowSettings(!this.props.isSettingsShown), this.props.trackEvent("player_click_options")
                    }
                }, {
                    key: "render",
                    value: function() {
                        var e = this.props,
                            t = e.isAutoQuality,
                            n = e.isEnded,
                            r = e.isPaused,
                            i = e.isSettingsShown,
                            a = e.playerHeight,
                            o = e.qualitiesAvailable,
                            s = e.qualityIsChanging,
                            l = i ? u.default.createElement(v.MenuManager, {
                                playerHeight: a
                            }) : null,
                            c = !t && o && s,
                            d = !n && !r,
                            f = c && d;
                        return u.default.createElement("div", {
                            className: "pl-flex"
                        }, u.default.createElement(h.SettingsBanner, null), u.default.createElement(m.SettingsButton, {
                            onClick: this.handleSettingsButtonClick,
                            showSpinningAnimation: f
                        }), l)
                    }
                }]), t
            }(u.default.Component);
        A.propTypes = E, A.defaultProps = b;
        t.Settings = (0, _.connect)(T, S)((0, p.default)(A))
    }, , function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function a(e, t) {
            if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !t || "object" != typeof t && "function" != typeof t ? e : t
        }

        function o(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.SettingsBanner = t.SettingsBannerContainer = t.QUALITY_CHANGE_DURATION = void 0;
        var s = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            l = n(277),
            u = r(l),
            c = n(307),
            d = r(c),
            f = n(120),
            p = r(f),
            _ = n(574),
            h = n(311),
            m = n(613),
            v = t.QUALITY_CHANGE_DURATION = 5e3,
            y = {
                availableQualities: d.default.array.isRequired,
                currentQuality: d.default.string.isRequired,
                playbackRate: d.default.number.isRequired,
                t: d.default.func.isRequired,
                windowObj: d.default.object.isRequired
            },
            g = function(e) {
                var t = e.playback,
                    n = e.quality,
                    r = e.window;
                return {
                    availableQualities: n.available,
                    currentQuality: n.current,
                    playbackRate: t.playbackRate,
                    windowObj: r
                }
            },
            E = t.SettingsBannerContainer = function(e) {
                function t() {
                    i(this, t);
                    var e = a(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments));
                    return e.state = {
                        canRenderBanner: !1,
                        lastQuality: "",
                        hasChangedQuality: !1
                    }, e.bannerHideTimeout = 0, e
                }
                return o(t, e), s(t, [{
                    key: "componentWillReceiveProps",
                    value: function(e) {
                        var t = this;
                        e.currentQuality !== this.state.lastQuality && (0 !== this.bannerHideTimeout && this.clearBannerHideTimeout(), this.showBannerForQuality(e.currentQuality), this.bannerHideTimeout = e.windowObj.setTimeout(function() {
                            t.hideBannerForQuality()
                        }, v)), e.currentQuality === this.state.lastQuality && 1 === e.playbackRate || this.setState({
                            canRenderBanner: !0
                        })
                    }
                }, {
                    key: "componentWillUnmount",
                    value: function() {
                        0 !== this.bannerHideTimeout && this.props.windowObj.clearTimeout(this.bannerHideTimeout)
                    }
                }, {
                    key: "clearBannerHideTimeout",
                    value: function() {
                        this.props.windowObj.clearTimeout(this.bannerHideTimeout), this.bannerHideTimeout = 0
                    }
                }, {
                    key: "showBannerForQuality",
                    value: function(e) {
                        this.setState({
                            lastQuality: e,
                            hasChangedQuality: !0
                        })
                    }
                }, {
                    key: "hideBannerForQuality",
                    value: function() {
                        this.setState({
                            hasChangedQuality: !1
                        }), this.bannerHideTimeout = 0
                    }
                }, {
                    key: "render",
                    value: function() {
                        var e = this.props.playbackRate,
                            t = this.state,
                            n = t.canRenderBanner,
                            r = t.hasChangedQuality,
                            i = r || 1 !== e,
                            a = this._getBannerLabel();
                        return n ? u.default.createElement(m.SettingsBanner, {
                            bannerLabel: a,
                            showBanner: i
                        }) : null
                    }
                }, {
                    key: "_getBannerLabel",
                    value: function() {
                        var e = this.props.playbackRate;
                        return this.state.hasChangedQuality ? this._getQualityName() : 1 !== e ? e + "x" : ""
                    }
                }, {
                    key: "_getQualityName",
                    value: function() {
                        var e = this.props,
                            t = e.availableQualities,
                            n = e.currentQuality,
                            r = e.t,
                            i = (0, p.default)(t, function(e) {
                                return e.group === n
                            }),
                            a = i ? i.name : "";
                        return r(a)
                    }
                }]), t
            }(u.default.Component);
        E.propTypes = y;
        t.SettingsBanner = (0, h.translate)()((0, _.connect)(g)(E))
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.SettingsBanner = void 0;
        var i = n(277),
            a = r(i),
            o = n(307),
            s = r(o),
            l = n(310),
            u = r(l),
            c = {
                bannerLabel: s.default.string.isRequired,
                showBanner: s.default.bool.isRequired
            },
            d = (0, u.default)({
                "pl-settings-container": !0,
                "pl-flex": !0,
                "pl-flex--verticalCenter": !0
            }),
            f = t.SettingsBanner = function(e) {
                var t = e.bannerLabel,
                    n = e.showBanner,
                    r = (0, u.default)({
                        "pl-pill": !0,
                        "pl-settings-banner--animateIn": n,
                        "pl-settings-banner--animateOut": !n,
                        "qa-settings-banner-span": !0
                    });
                return a.default.createElement("div", {
                    className: d
                }, a.default.createElement("span", {
                    className: r
                }, t))
            };
        f.propTypes = c
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.SettingsButton = void 0;
        var i = n(277),
            a = r(i),
            o = n(307),
            s = r(o),
            l = n(615),
            u = n(616),
            c = n(310),
            d = r(c),
            f = {
                onClick: s.default.func,
                showSpinningAnimation: s.default.bool.isRequired
            },
            p = {
                onClick: function() {}
            },
            _ = t.SettingsButton = function(e) {
                var t = e.onClick,
                    n = e.showSpinningAnimation,
                    r = (0, d.default)({
                        "qa-settings-button": !0,
                        "player-button--settings": !0,
                        "player-button": !0
                    }),
                    i = (0, d.default)({
                        "pl-settings-icon": !0,
                        "pl-settings-icon--spin": n
                    });
                return a.default.createElement(l.Button, {
                    onClick: t,
                    className: r
                }, a.default.createElement(u.Icon, {
                    label: "Settings",
                    iconId: "#icon_settings",
                    iconClass: i
                }))
            };
        _.propTypes = f, _.defaultProps = p
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e) {
            return function(t) {
                var n = t.key;
                "Enter" === n && e()
            }
        }

        function a(e) {
            var t = e.onBlur,
                n = e.onClick,
                r = e.onFocus,
                a = e.onMouseOut,
                o = e.onMouseOver,
                l = e.children,
                u = e.className,
                c = e.disabled;
            return s.default.createElement("button", {
                type: "button",
                onClick: n,
                onKeyUp: i(n),
                onMouseOver: o,
                onMouseOut: a,
                onFocus: r,
                onBlur: t,
                className: u,
                disabled: c
            }, l)
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.Button = a;
        var o = n(277),
            s = r(o),
            l = n(307),
            u = r(l),
            c = {
                className: u.default.string,
                children: u.default.oneOfType([u.default.arrayOf(u.default.element), u.default.element, u.default.node]),
                disabled: u.default.bool,
                onClick: u.default.func,
                onMouseOver: u.default.func,
                onMouseOut: u.default.func,
                onFocus: u.default.func,
                onBlur: u.default.func
            },
            d = {
                className: "",
                disabled: !1,
                onClick: function() {}
            };
        a.propTypes = c, a.defaultProps = d
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e, t, n) {
            return t in e ? Object.defineProperty(e, t, {
                value: n,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : e[t] = n, e
        }

        function a(e) {
            var t = e.labelClass,
                n = e.label,
                r = e.iconId,
                a = e.translate,
                o = e.iconClass,
                l = e.svgClass,
                u = (0, f.default)(i({
                    "player-tip": !0
                }, t, "" !== t));
            return s.default.createElement("span", null, s.default.createElement("span", {
                className: u,
                "data-tip": a(n)
            }), s.default.createElement("span", {
                className: o
            }, s.default.createElement("svg", {
                className: l
            }, s.default.createElement("use", {
                xlinkHref: r
            }))))
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.Icon = void 0, t.IconComponent = a;
        var o = n(277),
            s = r(o),
            l = n(307),
            u = r(l),
            c = n(311),
            d = n(310),
            f = r(d),
            p = {
                labelClass: u.default.string,
                label: u.default.string.isRequired,
                iconId: u.default.string.isRequired,
                translate: u.default.func,
                iconClass: u.default.string,
                svgClass: u.default.string
            },
            _ = {
                labelClass: "",
                translate: function(e) {
                    return e
                },
                iconClass: "",
                svgClass: ""
            };
        a.propTypes = p, a.defaultProps = _;
        t.Icon = (0, c.translate)(null, {
            translateFuncName: "translate"
        })(a)
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function a(e, t) {
            if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !t || "object" != typeof t && "function" != typeof t ? e : t
        }

        function o(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.MenuManager = t.SETTINGS_INNER_PADDING = t.IDENTIFIER_STAFF_MENU = t.IDENTIFIER_PLAYBACK_SPEED_MENU = t.IDENTIFIER_REPORT_ISSUES_MENU = t.IDENTIFIER_ADVANCED_MENU = t.IDENTIFIER_QUALITY_MENU = t.IDENTIFIER_MAIN_MENU = void 0;
        var s = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            l = n(277),
            u = r(l),
            c = n(307),
            d = r(c),
            f = n(53),
            p = r(f),
            _ = n(618),
            h = n(627),
            m = n(630),
            v = n(635),
            y = n(637),
            g = n(638),
            E = t.IDENTIFIER_MAIN_MENU = "main menu",
            b = t.IDENTIFIER_QUALITY_MENU = "quality menu",
            T = t.IDENTIFIER_ADVANCED_MENU = "advanced menu",
            S = t.IDENTIFIER_REPORT_ISSUES_MENU = "report issues menu",
            A = t.IDENTIFIER_PLAYBACK_SPEED_MENU = "playback speed menu",
            C = t.IDENTIFIER_STAFF_MENU = "staff menu",
            P = t.SETTINGS_INNER_PADDING = 85,
            O = [E, b, T, S, A, C],
            w = {
                playerHeight: d.default.number.isRequired
            },
            k = t.MenuManager = function(e) {
                function t() {
                    i(this, t);
                    var e = a(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments));
                    return e.state = {
                        currentMenu: E
                    }, e.handleMenuTransition = e.handleMenuTransition.bind(e), e
                }
                return o(t, e), s(t, [{
                    key: "handleMenuTransition",
                    value: function(e) {
                        (0, p.default)(O, e) && this.setState({
                            currentMenu: e
                        })
                    }
                }, {
                    key: "render",
                    value: function() {
                        var e = this.props.playerHeight,
                            t = this._renderCurrentMenu(),
                            n = {
                                maxHeight: e - P + "px"
                            };
                        return u.default.createElement("div", {
                            className: "pl-menu",
                            style: n
                        }, t)
                    }
                }, {
                    key: "_renderCurrentMenu",
                    value: function() {
                        switch (this.state.currentMenu) {
                            case b:
                                return u.default.createElement(h.QualityMenu, {
                                    onMenuTransition: this.handleMenuTransition
                                });
                            case T:
                                return u.default.createElement(m.AdvancedMenu, {
                                    onMenuTransition: this.handleMenuTransition
                                });
                            case S:
                                return u.default.createElement(v.ReportIssuesMenu, {
                                    onMenuTransition: this.handleMenuTransition
                                });
                            case A:
                                return u.default.createElement(y.PlaybackSpeedMenu, {
                                    onMenuTransition: this.handleMenuTransition
                                });
                            case C:
                                return u.default.createElement(g.StaffMenu, {
                                    onMenuTransition: this.handleMenuTransition
                                });
                            case E:
                            default:
                                return u.default.createElement(_.MainMenu, {
                                    onMenuTransition: this.handleMenuTransition
                                })
                        }
                    }
                }]), t
            }(u.default.Component);
        k.propTypes = w
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function a(e, t) {
            if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !t || "object" != typeof t && "function" != typeof t ? e : t
        }

        function o(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.MainMenu = t.MainMenuContainer = t.mapDispatchToProps = void 0;
        var s = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            l = n(277),
            u = r(l),
            c = n(307),
            d = r(c),
            f = n(120),
            p = r(f),
            _ = n(574),
            h = n(619),
            m = n(626),
            v = n(363),
            y = n(317),
            g = n(220),
            E = n(339),
            b = n(432),
            T = {
                availableQualities: d.default.array.isRequired,
                backendType: d.default.string.isRequired,
                captionsAvailable: d.default.bool.isRequired,
                collection: d.default.object.isRequired,
                currentSpeed: d.default.number.isRequired,
                currentTime: d.default.number,
                hideSettingsMenu: d.default.func,
                isStaffUser: d.default.bool,
                isVod: d.default.bool.isRequired,
                onMenuTransition: d.default.func,
                pausePlayback: d.default.func,
                playback: d.default.object.isRequired,
                selectedQuality: d.default.string.isRequired,
                stream: d.default.object.isRequired,
                streamUrl: d.default.string,
                windowObj: d.default.object.isRequired
            },
            S = {
                currentTime: 0,
                isStaffUser: !1,
                hideSettingsMenu: function() {},
                onMenuTransition: function() {},
                pausePlayback: function() {},
                streamUrl: ""
            },
            A = function(e) {
                var t = e.backendInfo,
                    n = e.captions,
                    r = e.collection,
                    i = e.playback,
                    a = e.quality,
                    o = e.stream,
                    s = e.streamMetadata,
                    l = e.user,
                    u = e.window;
                return {
                    availableQualities: a.available,
                    backendType: t.playerBackendType,
                    captionsAvailable: n.available,
                    collection: r,
                    currentSpeed: i.playbackRate,
                    currentTime: i.currentTime,
                    isStaffUser: l.isStaff,
                    isVod: o.contentType === g.CONTENT_MODE_VOD,
                    playback: i,
                    selectedQuality: a.selected,
                    stream: o,
                    streamUrl: s.url,
                    windowObj: u
                }
            },
            C = t.mapDispatchToProps = function(e) {
                return {
                    pausePlayback: function() {
                        e((0, v.pause)())
                    },
                    hideSettingsMenu: function() {
                        e((0, b.showSettingsMenu)(!1))
                    }
                }
            },
            P = t.MainMenuContainer = function(e) {
                function t() {
                    i(this, t);
                    var e = a(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments));
                    return e.showCaptionsOptions = e.showCaptionsOptions.bind(e), e.popoutPlayer = e.popoutPlayer.bind(e), e
                }
                return o(t, e), s(t, [{
                    key: "showCaptionsOptions",
                    value: function() {
                        var e = this.props.windowObj.document.getElementById("js-cc-options-modal");
                        e.setAttribute("data-state", "open")
                    }
                }, {
                    key: "popoutPlayer",
                    value: function() {
                        this.props.pausePlayback(), this.props.hideSettingsMenu(), (0, m.popoutPlayer)({
                            collection: this.props.collection,
                            playback: this.props.playback,
                            stream: this.props.stream,
                            window: this.props.windowObj
                        })
                    }
                }, {
                    key: "render",
                    value: function() {
                        var e = this.props,
                            t = e.availableQualities,
                            n = e.backendType,
                            r = e.captionsAvailable,
                            i = e.currentTime,
                            a = e.currentSpeed,
                            o = e.isStaffUser,
                            s = e.isVod,
                            l = e.onMenuTransition,
                            c = e.selectedQuality,
                            d = e.streamUrl,
                            f = e.windowObj,
                            _ = n === E.BACKEND_PLAYER_CORE,
                            m = (0, p.default)(t, function(e) {
                                return e.group === c
                            }),
                            v = m ? m.name : "",
                            g = d + "?t=" + (0, y.toURLString)(i),
                            b = t.length > 0;
                        return u.default.createElement(h.MainMenu, {
                            canChangePlaybackSpeed: _,
                            captionsAvailable: r,
                            currentTime: i,
                            currentSpeed: a,
                            isStaffUser: o,
                            isVod: s,
                            onMenuTransition: l,
                            onPopoutPlayer: this.popoutPlayer,
                            onShowCaptionsOptions: this.showCaptionsOptions,
                            selectedQualityName: v,
                            shouldShowQualityMenu: b,
                            vodUrlWithTimestamp: g,
                            windowObj: f
                        })
                    }
                }]), t
            }(u.default.Component);
        P.propTypes = T, P.defaultProps = S;
        t.MainMenu = (0, _.connect)(A, C)(P)
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e, t, n) {
            return t in e ? Object.defineProperty(e, t, {
                value: n,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : e[t] = n, e
        }

        function a(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function o(e, t) {
            if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !t || "object" != typeof t && "function" != typeof t ? e : t
        }

        function s(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.MainMenu = t.MainMenuComponent = t.COPY_URL_FEEDBACK_DELAY = void 0;
        var l = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            u = n(277),
            c = r(u),
            d = n(307),
            f = r(d),
            p = n(620),
            _ = r(p),
            h = n(317),
            m = n(310),
            v = r(m),
            y = n(311),
            g = n(617),
            E = n(615),
            b = n(624),
            T = t.COPY_URL_FEEDBACK_DELAY = 2e3,
            S = {
                canChangePlaybackSpeed: f.default.bool,
                captionsAvailable: f.default.bool,
                currentSpeed: f.default.number,
                currentTime: f.default.number,
                isStaffUser: f.default.bool,
                isVod: f.default.bool.isRequired,
                onMenuTransition: f.default.func,
                onPopoutPlayer: f.default.func,
                onShowCaptionsOptions: f.default.func,
                selectedQualityName: f.default.string.isRequired,
                shouldShowQualityMenu: f.default.bool,
                t: f.default.func.isRequired,
                vodUrlWithTimestamp: f.default.string,
                windowObj: f.default.object.isRequired
            },
            A = {
                canChangePlaybackSpeed: !1,
                captionsAvailable: !1,
                currentSpeed: 1,
                currentTime: 0,
                isStaffUser: !1,
                onMenuTransition: function() {},
                onPopoutPlayer: function() {},
                onShowCaptionsOptions: function() {},
                shouldShowQualityMenu: !0,
                vodUrlWithTimestamp: ""
            },
            C = "Advanced",
            P = "Closed Captions Options",
            O = "Popout Player",
            w = "Quality",
            k = "Report Playback Issue",
            I = "Copy Video URL at {{time}}",
            N = "Copied!",
            R = "Staff",
            L = (0, v.default)({
                "pl-menu__item": !0,
                "pl-menu__item--block": !0
            }),
            M = (0, v.default)({
                "pl-menu__item": !0,
                "pl-menu__item--block": !0,
                "pl-menu__item--with-caret": !0
            }),
            D = (0, v.default)({
                ellipsis: !0,
                "qa-advanced-button": !0
            }),
            j = (0, v.default)({
                ellipsis: !0,
                "qa-report-issue-button": !0
            }),
            x = (0, v.default)({
                ellipsis: !0,
                "qa-popout-player-button": !0
            }),
            U = (0, v.default)({
                ellipsis: !0,
                "qa-captions-options-button": !0
            }),
            B = t.MainMenuComponent = function(e) {
                function t() {
                    a(this, t);
                    var e = o(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments));
                    return e.state = {
                        hasRecentlyCopied: !1
                    }, e.copyUrlTimeoutId = 0, e.handleAdvancedClick = e.handleAdvancedClick.bind(e), e.handlePlaybackSpeedClick = e.handlePlaybackSpeedClick.bind(e), e.handleQualityClick = e.handleQualityClick.bind(e), e.handleReportIssueClick = e.handleReportIssueClick.bind(e), e.handleStaffClick = e.handleStaffClick.bind(e), e.handleUrlCopied = e.handleUrlCopied.bind(e), e
                }
                return s(t, e), l(t, [{
                    key: "componentWillUnmount",
                    value: function() {
                        0 !== this.copyUrlTimeoutId && this.props.windowObj.clearTimeout(this.copyUrlTimeoutId)
                    }
                }, {
                    key: "handleQualityClick",
                    value: function() {
                        this.props.onMenuTransition(g.IDENTIFIER_QUALITY_MENU)
                    }
                }, {
                    key: "handlePlaybackSpeedClick",
                    value: function() {
                        this.props.onMenuTransition(g.IDENTIFIER_PLAYBACK_SPEED_MENU)
                    }
                }, {
                    key: "handleAdvancedClick",
                    value: function() {
                        this.props.onMenuTransition(g.IDENTIFIER_ADVANCED_MENU)
                    }
                }, {
                    key: "handleReportIssueClick",
                    value: function() {
                        this.props.onMenuTransition(g.IDENTIFIER_REPORT_ISSUES_MENU)
                    }
                }, {
                    key: "handleStaffClick",
                    value: function() {
                        this.props.onMenuTransition(g.IDENTIFIER_STAFF_MENU)
                    }
                }, {
                    key: "handleUrlCopied",
                    value: function() {
                        var e = this;
                        this.setState({
                            hasRecentlyCopied: !0
                        }), this.copyUrlTimeoutId = this.props.windowObj.setTimeout(function() {
                            e.setState({
                                hasRecentlyCopied: !1
                            }), e.copyUrlTimeoutId = 0
                        }, T)
                    }
                }, {
                    key: "render",
                    value: function() {
                        var e = this.props.shouldShowQualityMenu,
                            t = this._renderQualityButton(),
                            n = this._renderPlaybackSpeedButton(),
                            r = this._renderCaptionsOptionsButton(),
                            i = this._renderAdvancedMenuButton(),
                            a = this._renderReportIssuesMenuButton(),
                            o = this._renderStaffMenuButton(),
                            s = this._renderPopoutPlayerButton(),
                            l = this._renderCopyVideoUrlButton(),
                            u = (0, v.default)({
                                "pl-menu__section": !0,
                                "pl-menu__section--with-sep": e
                            });
                        return c.default.createElement("div", {
                            className: "pl-menu__inner"
                        }, t, c.default.createElement("div", {
                            className: u
                        }, n, r, i, a, o, s, l))
                    }
                }, {
                    key: "_renderQualityButton",
                    value: function() {
                        var e = this.props,
                            t = e.selectedQualityName,
                            n = e.shouldShowQualityMenu,
                            r = e.t;
                        return n ? c.default.createElement("div", {
                            className: M
                        }, c.default.createElement(E.Button, {
                            onClick: this.handleQualityClick,
                            className: "qa-quality-button"
                        }, c.default.createElement("span", null, r(w)), c.default.createElement("span", {
                            className: "pl-pill mg-l-05 qa-quality-pill"
                        }, t))) : null
                    }
                }, {
                    key: "_renderPlaybackSpeedButton",
                    value: function() {
                        var e = this.props,
                            t = e.currentSpeed,
                            n = e.isVod,
                            r = e.canChangePlaybackSpeed,
                            i = e.t,
                            a = t + "x";
                        return n && r ? c.default.createElement("div", {
                            className: M
                        }, c.default.createElement(E.Button, {
                            onClick: this.handlePlaybackSpeedClick,
                            className: "qa-playback-speed-button"
                        }, c.default.createElement("span", null, i(b.TEXT_SPEED)), c.default.createElement("span", {
                            className: "pl-pill mg-l-05 qa-playback-speed-pill"
                        }, a))) : null
                    }
                }, {
                    key: "_renderCaptionsOptionsButton",
                    value: function() {
                        var e = this.props,
                            t = e.captionsAvailable,
                            n = e.onShowCaptionsOptions,
                            r = e.t;
                        return t ? c.default.createElement("div", {
                            className: L
                        }, c.default.createElement(E.Button, {
                            className: U,
                            onClick: n
                        }, c.default.createElement("span", null, r(P)))) : null
                    }
                }, {
                    key: "_renderAdvancedMenuButton",
                    value: function() {
                        var e = this.props.t;
                        return c.default.createElement("div", {
                            className: M
                        }, c.default.createElement(E.Button, {
                            className: D,
                            onClick: this.handleAdvancedClick
                        }, c.default.createElement("span", null, e(C))))
                    }
                }, {
                    key: "_renderReportIssuesMenuButton",
                    value: function() {
                        var e = this.props.t;
                        return c.default.createElement("div", {
                            className: M
                        }, c.default.createElement(E.Button, {
                            className: j,
                            onClick: this.handleReportIssueClick
                        }, c.default.createElement("span", null, e(k))))
                    }
                }, {
                    key: "_renderStaffMenuButton",
                    value: function() {
                        var e = this.props,
                            t = e.isStaffUser,
                            n = e.t;
                        return t ? c.default.createElement("div", {
                            className: M
                        }, c.default.createElement(E.Button, {
                            className: "ellipsis qa-staff-button",
                            onClick: this.handleStaffClick
                        }, c.default.createElement("span", null, n(R)))) : null
                    }
                }, {
                    key: "_renderPopoutPlayerButton",
                    value: function() {
                        var e = this.props,
                            t = e.onPopoutPlayer,
                            n = e.t;
                        return c.default.createElement("div", {
                            className: L
                        }, c.default.createElement(E.Button, {
                            className: x,
                            onClick: t
                        }, c.default.createElement("span", null, n(O))))
                    }
                }, {
                    key: "_renderCopyVideoUrlButton",
                    value: function() {
                        var e, t = this.props,
                            n = t.currentTime,
                            r = t.vodUrlWithTimestamp,
                            a = t.isVod,
                            o = t.t,
                            s = o(I, {
                                time: (0, h.toString)(n)
                            }),
                            l = this.state.hasRecentlyCopied ? c.default.createElement(E.Button, null, c.default.createElement("span", null, o(N))) : c.default.createElement(_.default, {
                                text: r,
                                onCopy: this.handleUrlCopied,
                                className: "qa-copy-to-clipboard-button"
                            }, c.default.createElement(E.Button, null, c.default.createElement("span", null, s))),
                            u = (0, v.default)((e = {}, i(e, L, !0), i(e, "pl-menu__item--active", this.state.hasRecentlyCopied), e));
                        return a ? c.default.createElement("div", {
                            className: u
                        }, l) : null
                    }
                }]), t
            }(c.default.Component);
        B.propTypes = S, B.defaultProps = A;
        t.MainMenu = (0, y.translate)()(B)
    }, , , , , function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function a(e, t) {
            if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !t || "object" != typeof t && "function" != typeof t ? e : t
        }

        function o(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.PlaybackSpeedMenu = t.PlaybackSpeedMenuComponent = t.TEXT_NORMAL = t.TEXT_SPEED = t.PLAYBACK_SPEEDS = void 0;
        var s = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            l = n(277),
            u = r(l),
            c = n(307),
            d = r(c),
            f = n(310),
            p = r(f),
            _ = n(311),
            h = n(617),
            m = n(625),
            v = {
                currentSpeed: d.default.number.isRequired,
                onMenuTransition: d.default.func,
                onSelectPlaybackSpeed: d.default.func,
                t: d.default.func.isRequired
            },
            y = {
                onMenuTransition: function() {},
                onSelectPlaybackSpeed: function() {}
            },
            g = t.PLAYBACK_SPEEDS = Object.freeze([.25, .5, .75, 1, 1.25, 1.5, 2]),
            E = t.TEXT_SPEED = "Speed",
            b = t.TEXT_NORMAL = "Normal",
            T = (0, p.default)({
                "pl-menu__item": !0,
                "pl-menu__item--block": !0,
                "pl-menu__item--with-caret-left": !0
            }),
            S = (0, p.default)({
                "pl-menu__section": !0,
                "pl-menu__section--with-sep": !0
            }),
            A = t.PlaybackSpeedMenuComponent = function(e) {
                function t() {
                    i(this, t);
                    var e = a(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments));
                    return e.handleMenuTransition = e.handleMenuTransition.bind(e), e
                }
                return o(t, e), s(t, [{
                    key: "handleMenuTransition",
                    value: function() {
                        this.props.onMenuTransition(h.IDENTIFIER_MAIN_MENU)
                    }
                }, {
                    key: "render",
                    value: function() {
                        var e = this.props.t,
                            t = this._getSpeedSelectionButtons();
                        return u.default.createElement("div", {
                            className: "pl-menu__inner"
                        }, u.default.createElement("div", {
                            className: T
                        }, u.default.createElement("button", {
                            className: "qa-header-button",
                            onClick: this.handleMenuTransition
                        }, e(E))), u.default.createElement("div", {
                            className: S
                        }, t))
                    }
                }, {
                    key: "_getSpeedSelectionButtons",
                    value: function() {
                        var e = this.props,
                            t = e.currentSpeed,
                            n = e.onSelectPlaybackSpeed,
                            r = e.t;
                        return g.map(function(e) {
                            var i = t === e,
                                a = 1 === e ? "1x (" + r(b) + ")" : e + "x";
                            return u.default.createElement(m.PlaybackSpeedButton, {
                                isActive: i,
                                key: e,
                                label: a,
                                onClick: n,
                                speedValue: e
                            })
                        })
                    }
                }]), t
            }(u.default.Component);
        A.propTypes = v, A.defaultProps = y;
        t.PlaybackSpeedMenu = (0, _.translate)()(A)
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function a(e, t) {
            if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !t || "object" != typeof t && "function" != typeof t ? e : t
        }

        function o(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.PlaybackSpeedButton = void 0;
        var s = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            l = n(277),
            u = r(l),
            c = n(307),
            d = r(c),
            f = n(615),
            p = n(310),
            _ = r(p),
            h = {
                isActive: d.default.bool.isRequired,
                label: d.default.string.isRequired,
                onClick: d.default.func,
                speedValue: d.default.number.isRequired
            },
            m = {
                onClick: function() {}
            },
            v = t.PlaybackSpeedButton = function(e) {
                function t() {
                    i(this, t);
                    var e = a(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments));
                    return e.handleClick = e.handleClick.bind(e), e
                }
                return o(t, e), s(t, [{
                    key: "handleClick",
                    value: function() {
                        this.props.onClick(this.props.speedValue)
                    }
                }, {
                    key: "render",
                    value: function() {
                        var e = this.props,
                            t = e.isActive,
                            n = e.label,
                            r = (0, _.default)({
                                "pl-menu__item": !0,
                                "pl-menu__item--block": !0,
                                "pl-menu__item--active": t
                            });
                        return u.default.createElement("div", {
                            className: r
                        }, u.default.createElement(f.Button, {
                            className: "ellipsis",
                            onClick: this.handleClick
                        }, u.default.createElement("span", null, n)))
                    }
                }]), t
            }(u.default.Component);
        v.propTypes = h, v.defaultProps = m
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            if (e && e.__esModule) return e;
            var t = {};
            if (null != e)
                for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
            return t.default = e, t
        }

        function i(e) {
            var t = e.collection,
                n = e.playback,
                r = e.stream,
                i = e.window,
                l = {
                    volume: n.volume,
                    muted: n.muted
                };
            r.contentType === o.CONTENT_MODE_VOD ? (l.video = r.videoId, l.collection = t ? t.id : void 0, l.time = d.toURLString(n.currentTime)) : r.contentType === a.CONTENT_MODE_LIVE && (l.channel = r.channel);
            var c = s.playerHost + "/?" + u.toString(l),
                f = s.popoutSize.height,
                p = s.popoutSize.width,
                _ = "width=" + p + ",height=" + f + ",toolbar=no,menubar=no,scrollbars=no,location=no,status=no";
            i.open(c, "_blank", _)
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.popoutPlayer = i;
        var a = n(167),
            o = n(220),
            s = n(168),
            l = n(247),
            u = r(l),
            c = n(317),
            d = r(c)
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.QualityMenu = t.QualityMenuContainer = t.mapDispatchToProps = void 0;
        var i = n(277),
            a = r(i),
            o = n(307),
            s = r(o),
            l = n(574),
            u = n(628),
            c = n(331),
            d = n(432),
            f = n(374),
            p = {
                availableQualities: s.default.array.isRequired,
                selectedQuality: s.default.string.isRequired,
                onMenuTransition: s.default.func,
                handleSelectQuality: s.default.func
            },
            _ = {
                onMenuTransition: function() {},
                handleSelectQuality: function() {}
            },
            h = function(e) {
                var t = e.quality;
                return {
                    availableQualities: t.available,
                    selectedQuality: t.selected
                }
            },
            m = t.mapDispatchToProps = function(e) {
                return {
                    handleSelectQuality: function(t) {
                        e((0, c.selectQuality)(t.group)), e((0, c.setPreferredQuality)(t)), e((0, d.showSettingsMenu)(!1)), e((0, f.trackEvent)("player_click_quality_change"))
                    }
                }
            },
            v = t.QualityMenuContainer = function(e) {
                var t = e.availableQualities,
                    n = e.selectedQuality,
                    r = e.handleSelectQuality,
                    i = e.onMenuTransition;
                return a.default.createElement(u.QualityMenu, {
                    availableQualities: t,
                    selectedQuality: n,
                    onMenuTransition: i,
                    onQualitySelect: r
                })
            };
        v.propTypes = p, v.defaultProps = _;
        t.QualityMenu = (0, l.connect)(h, m)(v)
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function a(e, t) {
            if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !t || "object" != typeof t && "function" != typeof t ? e : t
        }

        function o(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.QualityMenu = t.QualityMenuComponent = t.CLASSES_MENU_HEADER = void 0;
        var s = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            l = n(277),
            u = r(l),
            c = n(307),
            d = r(c),
            f = n(310),
            p = r(f),
            _ = n(311),
            h = n(617),
            m = n(629),
            v = {
                availableQualities: d.default.arrayOf(d.default.shape({
                    group: d.default.string
                })).isRequired,
                selectedQuality: d.default.string.isRequired,
                onMenuTransition: d.default.func,
                onQualitySelect: d.default.func,
                t: d.default.func.isRequired
            },
            y = {
                onMenuTransition: function() {},
                onQualitySelect: function() {}
            },
            g = t.CLASSES_MENU_HEADER = (0, p.default)({
                "pl-menu__item": !0,
                "pl-menu__item--block": !0,
                "pl-menu__item--with-caret-left": !0
            }),
            E = (0, p.default)({
                "pl-menu__section": !0,
                "pl-menu__section--with-sep": !0
            }),
            b = t.QualityMenuComponent = function(e) {
                function t() {
                    i(this, t);
                    var e = a(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments));
                    return e.handleMenuTransition = e.handleMenuTransition.bind(e), e
                }
                return o(t, e), s(t, [{
                    key: "handleMenuTransition",
                    value: function() {
                        this.props.onMenuTransition(h.IDENTIFIER_MAIN_MENU)
                    }
                }, {
                    key: "render",
                    value: function() {
                        var e = this.props.t,
                            t = this._getQualityItems();
                        return u.default.createElement("div", {
                            className: "pl-menu__inner"
                        }, u.default.createElement("div", {
                            className: g
                        }, u.default.createElement("button", {
                            className: "qa-header-button",
                            onClick: this.handleMenuTransition
                        }, e("Video Quality"))), u.default.createElement("div", {
                            className: E
                        }, t))
                    }
                }, {
                    key: "_getQualityItems",
                    value: function() {
                        var e = this.props,
                            t = e.selectedQuality,
                            n = e.onQualitySelect;
                        return this.props.availableQualities.map(function(e) {
                            var r = e.group === t;
                            return u.default.createElement(m.QualityButton, {
                                isActive: r,
                                key: e.group,
                                onQualitySelect: n,
                                qualityObj: e
                            })
                        })
                    }
                }]), t
            }(u.default.Component);
        b.propTypes = v, b.defaultProps = y;
        t.QualityMenu = (0, _.translate)()(b)
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function a(e, t) {
            if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !t || "object" != typeof t && "function" != typeof t ? e : t
        }

        function o(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.QualityButton = void 0;
        var s = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            l = n(277),
            u = r(l),
            c = n(307),
            d = r(c),
            f = n(310),
            p = r(f),
            _ = n(615),
            h = {
                isActive: d.default.bool,
                qualityObj: d.default.shape({
                    name: d.default.string
                }).isRequired,
                onQualitySelect: d.default.func
            },
            m = {
                isActive: !1,
                onQualitySelect: function() {}
            },
            v = (0, p.default)({
                ellipsis: !0,
                "pl-quality-option-button": !0
            }),
            y = t.QualityButton = function(e) {
                function t() {
                    i(this, t);
                    var e = a(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments));
                    return e.handleSelectQuality = e.handleSelectQuality.bind(e), e
                }
                return o(t, e), s(t, [{
                    key: "handleSelectQuality",
                    value: function() {
                        this.props.onQualitySelect(this.props.qualityObj)
                    }
                }, {
                    key: "render",
                    value: function() {
                        var e = this.props,
                            t = e.isActive,
                            n = e.qualityObj,
                            r = (0, p.default)({
                                "pl-menu__item": !0,
                                "pl-menu__item--block": !0,
                                "pl-menu__item--active": t
                            });
                        return u.default.createElement("div", {
                            className: r
                        }, u.default.createElement(_.Button, {
                            className: v,
                            onClick: this.handleSelectQuality
                        }, u.default.createElement("span", null, n.name)))
                    }
                }]), t
            }(u.default.Component);
        y.propTypes = h, y.defaultProps = m
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function a(e, t) {
            if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !t || "object" != typeof t && "function" != typeof t ? e : t
        }

        function o(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.AdvancedMenu = t.AdvancedMenuContainer = t.mapDispatchToProps = t.UNIQUE_MODULE_IDENTIFIER = void 0;
        var s = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            l = n(277),
            u = r(l),
            c = n(307),
            d = r(c),
            f = n(574),
            p = n(631),
            _ = n(339),
            h = n(217),
            m = n(402),
            v = n(633),
            y = n(363),
            g = n(319),
            E = n(634),
            b = n(251),
            T = {
                isCursePlayer: d.default.bool.isRequired,
                isHTML5Player: d.default.bool.isRequired,
                isMiniPlayerEnabled: d.default.bool.isRequired,
                isSitePlayer: d.default.bool.isRequired,
                onMenuTransition: d.default.func,
                statsDisplayed: d.default.bool.isRequired,
                toggleHTML5Player: d.default.func.isRequired,
                toggleMiniPlayer: d.default.func.isRequired,
                toggleVideoStats: d.default.func.isRequired
            },
            S = {
                onMenuTransition: function() {}
            },
            A = function(e) {
                var t = e.backendInfo,
                    n = e.env,
                    r = e.settings,
                    i = e.stats;
                return {
                    isCursePlayer: n.playerType === h.PLAYER_CURSE,
                    isHTML5Player: t.playerBackendType === _.BACKEND_PLAYER_CORE,
                    isMiniPlayerEnabled: r.persistenceEnabled,
                    isSitePlayer: n.playerType === h.PLAYER_SITE,
                    statsDisplayed: i.displayed
                }
            },
            C = t.UNIQUE_MODULE_IDENTIFIER = "settings-advanced-menu",
            P = t.mapDispatchToProps = function(e) {
                return {
                    toggleVideoStats: function() {
                        var t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                        t ? (e((0, m.requestStatsEnabled)(C)), e((0, m.displayStats)(!0))) : (e((0, m.requestStatsDisabled)(C)), e((0, m.displayStats)(!1)))
                    },
                    toggleMiniPlayer: function() {
                        var t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                        e(t ? (0, v.enablePlayerPersistence)() : (0, v.disablePlayerPersistence)())
                    },
                    toggleHTML5Player: function() {
                        var t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                        e(t ? (0, y.changeBackend)(_.BACKEND_PLAYER_CORE) : (0, y.changeBackend)(g.BACKEND_FLASH))
                    }
                }
            },
            O = t.AdvancedMenuContainer = function(e) {
                function t() {
                    i(this, t);
                    var e = a(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments));
                    return e.toggleVideoStats = e.toggleVideoStats.bind(e), e.toggleMiniPlayer = e.toggleMiniPlayer.bind(e), e.toggleHTML5Player = e.toggleHTML5Player.bind(e), e
                }
                return o(t, e), s(t, [{
                    key: "toggleVideoStats",
                    value: function() {
                        this.props.toggleVideoStats(!this.props.statsDisplayed)
                    }
                }, {
                    key: "toggleMiniPlayer",
                    value: function() {
                        this.props.toggleMiniPlayer(!this.props.isMiniPlayerEnabled)
                    }
                }, {
                    key: "toggleHTML5Player",
                    value: function() {
                        this.props.toggleHTML5Player(!this.props.isHTML5Player)
                    }
                }, {
                    key: "render",
                    value: function() {
                        var e = this.props,
                            t = e.statsDisplayed,
                            n = e.isCursePlayer,
                            r = e.isHTML5Player,
                            i = e.isMiniPlayerEnabled,
                            a = e.isSitePlayer,
                            o = e.onMenuTransition,
                            s = !n && _.BackendPlayerCore.canPlay();
                        return u.default.createElement("div", null, u.default.createElement(E.Experiment, {
                            uuid: b.HTML5_TOGGLE_REMOVAL,
                            renderValue: "keep"
                        }, u.default.createElement(p.AdvancedMenu, {
                            html5PlayerEnabled: r,
                            html5ToggleEnabled: s,
                            isShowingVideoStats: t,
                            miniPlayerEnabled: i,
                            miniPlayerToggleEnabled: a,
                            onMenuTransition: o,
                            onMiniPlayerToggle: this.toggleMiniPlayer,
                            onStatsToggle: this.toggleVideoStats,
                            onHTML5Toggle: this.toggleHTML5Player
                        })), u.default.createElement(E.Experiment, {
                            uuid: b.HTML5_TOGGLE_REMOVAL,
                            renderValue: "remove"
                        }, u.default.createElement(p.AdvancedMenu, {
                            html5PlayerEnabled: r,
                            html5ToggleEnabled: !1,
                            isShowingVideoStats: t,
                            miniPlayerEnabled: i,
                            miniPlayerToggleEnabled: a,
                            onMenuTransition: o,
                            onMiniPlayerToggle: this.toggleMiniPlayer,
                            onStatsToggle: this.toggleVideoStats,
                            onHTML5Toggle: this.toggleHTML5Player
                        })))
                    }
                }]), t
            }(u.default.Component);
        O.propTypes = T, O.defaultProps = S;
        t.AdvancedMenu = (0, f.connect)(A, P)(O)
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function a(e, t) {
            if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !t || "object" != typeof t && "function" != typeof t ? e : t
        }

        function o(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.AdvancedMenu = t.AdvancedMenuComponent = void 0;
        var s = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            l = n(277),
            u = r(l),
            c = n(307),
            d = r(c),
            f = n(310),
            p = r(f),
            _ = n(311),
            h = n(617),
            m = n(632),
            v = n(615),
            y = {
                html5PlayerEnabled: d.default.bool.isRequired,
                html5ToggleEnabled: d.default.bool.isRequired,
                isShowingVideoStats: d.default.bool.isRequired,
                miniPlayerEnabled: d.default.bool.isRequired,
                miniPlayerToggleEnabled: d.default.bool.isRequired,
                onHTML5Toggle: d.default.func,
                onMenuTransition: d.default.func,
                onMiniPlayerToggle: d.default.func,
                onStatsToggle: d.default.func,
                t: d.default.func.isRequired
            },
            g = {
                onHTML5Toggle: function() {},
                onMenuTransition: function() {},
                onMiniPlayerToggle: function() {},
                onStatsToggle: function() {}
            },
            E = "Advanced",
            b = "Hide Video Stats",
            T = "HTML5 Player",
            S = "Mini Player",
            A = "Show Video Stats",
            C = (0, p.default)({
                ellipsis: !0,
                "qa-header-button": !0
            }),
            P = (0, p.default)({
                "pl-menu__item": !0,
                "pl-menu__item--block": !0,
                "pl-menu__item--with-caret-left": !0
            }),
            O = (0, p.default)({
                "pl-menu__section": !0,
                "pl-menu__section--with-sep": !0
            }),
            w = (0, p.default)({
                "pl-menu__item": !0,
                "pl-menu__item--block": !0,
                "qa-item": !0
            }),
            k = (0, p.default)({
                ellipsis: !0,
                "qa-show-stats-button": !0
            }),
            I = t.AdvancedMenuComponent = function(e) {
                function t() {
                    i(this, t);
                    var e = a(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments));
                    return e.handleMenuTransition = e.handleMenuTransition.bind(e), e
                }
                return o(t, e), s(t, [{
                    key: "handleMenuTransition",
                    value: function() {
                        this.props.onMenuTransition(h.IDENTIFIER_MAIN_MENU)
                    }
                }, {
                    key: "render",
                    value: function() {
                        var e = this.props,
                            t = e.html5PlayerEnabled,
                            n = e.html5ToggleEnabled,
                            r = e.miniPlayerEnabled,
                            i = e.miniPlayerToggleEnabled,
                            a = e.isShowingVideoStats,
                            o = e.onHTML5Toggle,
                            s = e.onMiniPlayerToggle,
                            l = e.onStatsToggle,
                            c = e.t,
                            d = n ? u.default.createElement("div", {
                                className: w
                            }, u.default.createElement(m.Toggle, {
                                className: "qa-html5-toggle",
                                label: T,
                                onToggle: o,
                                toggledOn: t
                            })) : null,
                            f = i ? u.default.createElement("div", {
                                className: w
                            }, u.default.createElement(m.Toggle, {
                                className: "qa-miniplayer-toggle",
                                label: S,
                                onToggle: s,
                                toggledOn: r
                            })) : null;
                        return u.default.createElement("div", {
                            className: "pl-menu__inner"
                        }, u.default.createElement("div", {
                            className: P
                        }, u.default.createElement(v.Button, {
                            className: C,
                            onClick: this.handleMenuTransition
                        }, u.default.createElement("span", null, c(E)))), u.default.createElement("div", {
                            className: O
                        }, d, f, u.default.createElement("div", {
                            className: w
                        }, u.default.createElement(v.Button, {
                            className: k,
                            onClick: l
                        }, u.default.createElement("span", null, c(a ? b : A))))))
                    }
                }]), t
            }(u.default.Component);
        I.propTypes = y, I.defaultProps = g;
        t.AdvancedMenu = (0, _.translate)()(I)
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e) {
            return function(t) {
                var n = t.key;
                "Enter" === n && e()
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.Toggle = t.ToggleComponent = void 0;
        var a = n(277),
            o = r(a),
            s = n(307),
            l = r(s),
            u = n(311),
            c = {
                label: l.default.string.isRequired,
                onToggle: l.default.func,
                t: l.default.func.isRequired,
                toggledOn: l.default.bool
            },
            d = {
                onToggle: function() {},
                toggledOn: !1
            },
            f = t.ToggleComponent = function(e) {
                var t = e.label,
                    n = e.onToggle,
                    r = e.t,
                    a = e.toggledOn,
                    s = "toggle_button_" + Math.random().toString(36).substr(2, 10);
                return o.default.createElement("div", {
                    className: "pl-player-menu__toggle-item"
                }, o.default.createElement("div", {
                    className: "pl-toggle__label-wrapper"
                }, o.default.createElement("label", {
                    className: "pl-form__label qa-toggle-label",
                    htmlFor: "toggle_button",
                    role: "button",
                    onClick: n,
                    onKeyUp: i(n),
                    tabIndex: 0
                }, r(t))), o.default.createElement("div", {
                    className: "pl-toggle"
                }, o.default.createElement("input", {
                    className: "qa-input-checkbox",
                    type: "checkbox",
                    id: s,
                    checked: a,
                    onChange: n
                }), o.default.createElement("label", {
                    className: "pl-toggle__button",
                    htmlFor: s
                })))
            };
        f.propTypes = c, f.defaultProps = d;
        t.Toggle = (0, u.translate)()(f)
    }, function(e, t, n) {
        "use strict";

        function r() {
            return {
                type: l,
                settings: {
                    persistenceEnabled: o.localStore.get("persistenceEnabled", !0)
                }
            }
        }

        function i() {
            return function(e, t) {
                var n = t(),
                    r = n.analyticsTracker;
                r.trackEvent(s.SITE_MINIPLAYER_ACTION, {
                    action: "persistence_enable"
                }), o.localStore.set("persistenceEnabled", !0), e({
                    type: u,
                    value: !0
                })
            }
        }

        function a() {
            return function(e, t) {
                var n = t(),
                    r = n.analyticsTracker;
                r.trackEvent(s.SITE_MINIPLAYER_ACTION, {
                    action: "persistence_disable"
                }), o.localStore.set("persistenceEnabled", !1), e({
                    type: u,
                    value: !1
                })
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.ACTION_SET_PERSISTENCE = t.ACTION_INITIALIZE_SETTINGS = void 0, t.initializeSettings = r, t.enablePlayerPersistence = i, t.disablePlayerPersistence = a;
        var o = n(250),
            s = n(116),
            l = t.ACTION_INITIALIZE_SETTINGS = "initialize ui settings",
            u = t.ACTION_SET_PERSISTENCE = "set persistence"
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function a(e, t) {
            if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !t || "object" != typeof t && "function" != typeof t ? e : t
        }

        function o(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.Experiment = t.ExperimentContainer = void 0;
        var s = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            l = n(277),
            u = r(l),
            c = n(307),
            d = r(c),
            f = n(574),
            p = {
                uuid: d.default.string.isRequired,
                renderValue: d.default.string.isRequired,
                experiments: d.default.object.isRequired,
                children: d.default.node.isRequired
            },
            _ = function(e) {
                var t = e.experiments;
                return {
                    experiments: t
                }
            },
            h = t.ExperimentContainer = function(e) {
                function t() {
                    i(this, t);
                    var e = a(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments));
                    return e.state = {
                        experimentValue: ""
                    }, e
                }
                return o(t, e), s(t, [{
                    key: "shouldComponentUpdate",
                    value: function(e, t) {
                        return "" !== t.experimentValue
                    }
                }, {
                    key: "componentWillMount",
                    value: function() {
                        var e = this,
                            t = this.props,
                            n = t.experiments,
                            r = t.uuid;
                        n.get(r).then(function(t) {
                            e.setState({
                                experimentValue: t
                            })
                        })
                    }
                }, {
                    key: "render",
                    value: function() {
                        var e = this.state.experimentValue,
                            t = this.props,
                            n = t.renderValue,
                            r = t.children;
                        return n !== e || "" === e ? null : r
                    }
                }]), t
            }(u.default.Component);
        h.propTypes = p;
        t.Experiment = (0, f.connect)(_)(h)
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function a(e, t) {
            if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !t || "object" != typeof t && "function" != typeof t ? e : t
        }

        function o(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.ReportIssuesMenu = t.ReportIssuesMenuContainer = t.mapDispatchToProps = void 0;
        var s = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            l = n(277),
            u = r(l),
            c = n(307),
            d = r(c),
            f = n(574),
            p = n(636),
            _ = n(363),
            h = n(432),
            m = {
                handleVideoIssueReport: d.default.func,
                hideSettingsMenu: d.default.func,
                onMenuTransition: d.default.func,
                windowObj: d.default.object.isRequired
            },
            v = {
                handleVideoIssueReport: function() {},
                hideSettingsMenu: function() {},
                onMenuTransition: function() {}
            },
            y = function(e) {
                var t = e.window;
                return {
                    windowObj: t
                }
            },
            g = t.mapDispatchToProps = function(e) {
                return {
                    handleVideoIssueReport: function(t) {
                        e((0, _.submitVideoIssueReport)(t))
                    },
                    hideSettingsMenu: function() {
                        e((0, h.showSettingsMenu)(!1))
                    }
                }
            },
            E = t.ReportIssuesMenuContainer = function(e) {
                function t() {
                    i(this, t);
                    var e = a(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments));
                    return e.handleVideoIssueReport = e.handleVideoIssueReport.bind(e), e
                }
                return o(t, e), s(t, [{
                    key: "handleVideoIssueReport",
                    value: function(e) {
                        var t = this;
                        this.props.handleVideoIssueReport(e), this.props.windowObj.setTimeout(function() {
                            t.props.hideSettingsMenu()
                        }, p.REPORT_FEEDBACK_DELAY)
                    }
                }, {
                    key: "render",
                    value: function() {
                        var e = this.props,
                            t = e.onMenuTransition,
                            n = e.handleVideoIssueReport,
                            r = e.windowObj;
                        return u.default.createElement(p.ReportIssuesMenu, {
                            onMenuTransition: t,
                            onReportIssueSubmit: n,
                            windowObj: r
                        })
                    }
                }]), t
            }(u.default.Component);
        E.propTypes = m, E.defaultProps = v;
        t.ReportIssuesMenu = (0, f.connect)(y, g)(E)
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function a(e, t) {
            if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !t || "object" != typeof t && "function" != typeof t ? e : t
        }

        function o(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.ReportIssuesMenu = t.ReportIssuesMenuComponent = t.REPORT_FEEDBACK_DELAY = void 0;
        var s = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            l = n(277),
            u = r(l),
            c = n(307),
            d = r(c),
            f = n(310),
            p = r(f),
            _ = n(311),
            h = n(617),
            m = {
                t: d.default.func.isRequired,
                onReportIssueSubmit: d.default.func.isRequired,
                onMenuTransition: d.default.func,
                windowObj: d.default.object.isRequired
            },
            v = {
                onMenuTransition: function() {}
            },
            y = t.REPORT_FEEDBACK_DELAY = 2e3,
            g = "Report Playback Issue",
            E = "Noticed a video playback issue? Let us know!",
            b = "Submit",
            T = "Sent!",
            S = "Select",
            A = "Audio and video stutter",
            C = "Video stutters, but audio is fine",
            P = "Video is completely black or doesn't load",
            O = "Audio and video aren't synced",
            w = "Fullscreen playback doesn't work",
            k = "Advertisement can't be muted or is too loud",
            I = "Advertisement has played too many times",
            N = (0, p.default)({
                "pl-form__input": !0,
                ellipsis: !0
            }),
            R = (0, p.default)({
                "pl-menu__item": !0,
                "pl-menu__item--block": !0,
                "pl-menu__item--with-caret-left": !0
            }),
            L = (0, p.default)({
                ellipsis: !0,
                "qa-header-button": !0
            }),
            M = (0, p.default)({
                "pl-menu__section": !0,
                "pl-menu__section--with-sep": !0
            }),
            D = (0, p.default)({
                "pl-flex": !0,
                "pl-flex--horizontalEnd": !0,
                "pd-r-1": !0,
                "pd-t-1": !0,
                "pd-b-1": !0
            }),
            j = (0, p.default)({
                "pl-button": !0,
                "pl-button--hollow": !0,
                "qa-submit-button": !0
            }),
            x = t.ReportIssuesMenuComponent = function(e) {
                function t() {
                    i(this, t);
                    var e = a(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments));
                    return e.state = {
                        value: "",
                        hasRecentlySubmitted: !1
                    }, e.handleMenuTransition = e.handleMenuTransition.bind(e), e.handleIssueSelected = e.handleIssueSelected.bind(e), e.handleSubmit = e.handleSubmit.bind(e), e
                }
                return o(t, e), s(t, [{
                    key: "handleMenuTransition",
                    value: function() {
                        this.props.onMenuTransition(h.IDENTIFIER_MAIN_MENU)
                    }
                }, {
                    key: "handleIssueSelected",
                    value: function(e) {
                        this.setState({
                            value: e.target.value
                        })
                    }
                }, {
                    key: "handleSubmit",
                    value: function(e) {
                        var t = this;
                        e.preventDefault(), "" !== this.state.value && (this.props.onReportIssueSubmit(this.state.value), this.setState({
                            hasRecentlySubmitted: !0
                        }), this.props.windowObj.setTimeout(function() {
                            t.setState({
                                hasRecentlySubmitted: !1
                            })
                        }, y))
                    }
                }, {
                    key: "render",
                    value: function() {
                        var e = this.props.t,
                            t = this.state.hasRecentlySubmitted,
                            n = this._createSelectElement();
                        return u.default.createElement("div", {
                            className: "pl-menu__inner"
                        }, u.default.createElement("div", {
                            className: R
                        }, u.default.createElement("button", {
                            className: L,
                            onClick: this.handleMenuTransition
                        }, e(g))), u.default.createElement("div", {
                            className: M
                        }, u.default.createElement("form", {
                            onSubmit: this.handleSubmit
                        }, u.default.createElement("div", {
                            className: "form__group"
                        }, u.default.createElement("p", null, e(E)), n), u.default.createElement("div", {
                            className: D
                        }, u.default.createElement("button", {
                            type: "submit",
                            className: j
                        }, e(t ? T : b))))))
                    }
                }, {
                    key: "_createSelectElement",
                    value: function() {
                        var e = this.props.t;
                        return u.default.createElement("select", {
                            className: N,
                            onBlur: this.handleIssueSelected
                        }, u.default.createElement("option", {
                            value: "",
                            disabled: !0,
                            selected: !0
                        }, e(S)), u.default.createElement("option", {
                            value: "stutter-both"
                        }, e(A)), u.default.createElement("option", {
                            value: "stutter-video"
                        }, e(C)), u.default.createElement("option", {
                            value: "black-screen"
                        }, e(P)), u.default.createElement("option", {
                            value: "av-desync"
                        }, e(O)), u.default.createElement("option", {
                            value: "fullscreen-broken"
                        }, e(w)), u.default.createElement("option", {
                            value: "ad-volume"
                        }, e(k)), u.default.createElement("option", {
                            value: "ad-repeat"
                        }, e(I)))
                    }
                }]), t
            }(u.default.Component);
        x.propTypes = m, x.defaultProps = v;
        t.ReportIssuesMenu = (0, _.translate)()(x)
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function a(e, t) {
            if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !t || "object" != typeof t && "function" != typeof t ? e : t
        }

        function o(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.PlaybackSpeedMenu = t.PlaybackSpeedMenuContainer = t.mapDispatchToProps = void 0;
        var s = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            l = n(277),
            u = r(l),
            c = n(307),
            d = r(c),
            f = n(574),
            p = n(624),
            _ = n(363),
            h = n(432),
            m = {
                currentSpeed: d.default.number.isRequired,
                onMenuTransition: d.default.func,
                selectNewPlaybackRate: d.default.func,
                tracker: d.default.object
            },
            v = {
                onMenuTransition: function() {},
                selectNewPlaybackRate: function() {},
                tracker: {
                    trackEvent: function() {}
                }
            },
            y = function(e) {
                var t = e.analyticsTracker,
                    n = e.playback;
                return {
                    currentSpeed: n.playbackRate,
                    tracker: t
                }
            },
            g = t.mapDispatchToProps = function(e) {
                return {
                    selectNewPlaybackRate: function(t) {
                        e((0, _.changePlaybackRate)(t)), e((0, h.showSettingsMenu)(!1))
                    }
                }
            },
            E = t.PlaybackSpeedMenuContainer = function(e) {
                function t() {
                    i(this, t);
                    var e = a(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments));
                    return e.handleSelectPlaybackRate = e.handleSelectPlaybackRate.bind(e), e
                }
                return o(t, e), s(t, [{
                    key: "handleSelectPlaybackRate",
                    value: function(e) {
                        var t = this.props,
                            n = t.selectNewPlaybackRate,
                            r = t.tracker;
                        r.trackEvent("player_click_playback", {
                            speed: e
                        }), n(e)
                    }
                }, {
                    key: "render",
                    value: function() {
                        var e = this.props,
                            t = e.currentSpeed,
                            n = e.onMenuTransition;
                        return u.default.createElement(p.PlaybackSpeedMenu, {
                            currentSpeed: t,
                            onMenuTransition: n,
                            onSelectPlaybackSpeed: this.handleSelectPlaybackRate
                        })
                    }
                }]), t
            }(u.default.Component);
        E.propTypes = m, E.defaultProps = v;
        t.PlaybackSpeedMenu = (0, f.connect)(y, g)(E)
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.StaffMenu = t.StaffMenuContainer = t.mapDispatchToProps = void 0;
        var i = n(307),
            a = r(i),
            o = n(277),
            s = r(o),
            l = n(574),
            u = n(639),
            c = n(243),
            d = {
                onMenuTransition: a.default.func,
                onRunLocalPrerollAd: a.default.func.isRequired,
                onRunLocalMidrollAd: a.default.func.isRequired,
                onRunLocalPostrollAd: a.default.func.isRequired
            },
            f = {
                onMenuTransition: function() {}
            },
            p = t.mapDispatchToProps = function(e) {
                return {
                    onRunLocalPrerollAd: function() {
                        e((0, c.requestAds)(c.AdRollTypes.PREROLL, c.DEFAULT_AD_DURATION, !0))
                    },
                    onRunLocalMidrollAd: function() {
                        e((0, c.requestAds)(c.AdRollTypes.MIDROLL, c.DEFAULT_AD_DURATION, !0))
                    },
                    onRunLocalPostrollAd: function() {
                        e((0, c.requestAds)(c.AdRollTypes.POSTROLL, c.DEFAULT_AD_DURATION, !0))
                    }
                }
            },
            _ = t.StaffMenuContainer = function(e) {
                var t = e.onMenuTransition,
                    n = e.onRunLocalPrerollAd,
                    r = e.onRunLocalMidrollAd,
                    i = e.onRunLocalPostrollAd;
                return s.default.createElement(u.StaffMenu, {
                    onMenuTransition: t,
                    onRunLocalPrerollAd: n,
                    onRunLocalMidrollAd: r,
                    onRunLocalPostrollAd: i
                })
            };
        _.propTypes = d, _.defaultProps = f;
        t.StaffMenu = (0, l.connect)(null, p)(_)
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function a(e, t) {
            if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !t || "object" != typeof t && "function" != typeof t ? e : t
        }

        function o(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.StaffMenu = t.StaffMenuComponent = t.CLASSES_MENU_HEADER = void 0;
        var s = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            l = n(277),
            u = r(l),
            c = n(307),
            d = r(c),
            f = n(310),
            p = r(f),
            _ = n(311),
            h = n(617),
            m = n(615),
            v = {
                onMenuTransition: d.default.func,
                onRunLocalPrerollAd: d.default.func,
                onRunLocalMidrollAd: d.default.func,
                onRunLocalPostrollAd: d.default.func,
                t: d.default.func.isRequired
            },
            y = {
                onRunLocalPrerollAd: function() {},
                onRunLocalMidrollAd: function() {},
                onRunLocalPostrollAd: function() {},
                onMenuTransition: function() {}
            },
            g = t.CLASSES_MENU_HEADER = (0, p.default)({
                "pl-menu__item": !0,
                "pl-menu__item--block": !0,
                "pl-menu__item--with-caret-left": !0
            }),
            E = (0, p.default)({
                "pl-menu__section": !0,
                "pl-menu__section--with-sep": !0
            }),
            b = (0, p.default)({
                "pl-menu__item": !0,
                "pl-menu__item--block": !0
            }),
            T = t.StaffMenuComponent = function(e) {
                function t() {
                    i(this, t);
                    var e = a(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments));
                    return e.handleMenuTransition = e.handleMenuTransition.bind(e), e
                }
                return o(t, e), s(t, [{
                    key: "handleMenuTransition",
                    value: function() {
                        this.props.onMenuTransition(h.IDENTIFIER_MAIN_MENU)
                    }
                }, {
                    key: "render",
                    value: function() {
                        var e = this.props.t,
                            t = this._renderLocalAdButtons();
                        return u.default.createElement("div", {
                            className: "pl-menu__inner"
                        }, u.default.createElement("div", {
                            className: g
                        }, u.default.createElement(m.Button, {
                            className: "qa-header-button",
                            onClick: this.handleMenuTransition
                        }, e("Staff"))), u.default.createElement("div", {
                            className: E
                        }, t))
                    }
                }, {
                    key: "_renderLocalAdButtons",
                    value: function() {
                        var e = this.props,
                            t = e.onRunLocalPrerollAd,
                            n = e.onRunLocalMidrollAd,
                            r = e.onRunLocalPostrollAd,
                            i = u.default.createElement("div", {
                                className: b
                            }, u.default.createElement(m.Button, {
                                className: "ellipsis",
                                onClick: t
                            }, u.default.createElement("span", null, "Run Local Preroll Ad"))),
                            a = u.default.createElement("div", {
                                className: b
                            }, u.default.createElement(m.Button, {
                                className: "ellipsis",
                                onClick: n
                            }, u.default.createElement("span", null, "Run Local Midroll Ad"))),
                            o = u.default.createElement("div", {
                                className: b
                            }, u.default.createElement(m.Button, {
                                className: "ellipsis",
                                onClick: r
                            }, u.default.createElement("span", null, "Run Local Postroll Ad")));
                        return u.default.createElement("div", null, i, a, o)
                    }
                }]), t
            }(u.default.Component);
        T.propTypes = v, T.defaultProps = y;
        t.StaffMenu = (0, _.translate)()(T)
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function a(e, t) {
            if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !t || "object" != typeof t && "function" != typeof t ? e : t
        }

        function o(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.StreamInfo = t.StreamInfoComponent = t.mapDispatchToProps = void 0;
        var s = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            l = n(277),
            u = r(l),
            c = n(307),
            d = r(c),
            f = n(574),
            p = n(641),
            _ = n(642),
            h = n(168),
            m = n(363),
            v = n(217),
            y = n(643),
            g = n(657),
            E = n(310),
            b = r(E),
            T = {
                channelName: d.default.string,
                displayName: d.default.string,
                gameName: d.default.string,
                lang: d.default.object,
                logo: d.default.string,
                name: d.default.string,
                pause: d.default.func,
                status: d.default.string,
                streamUrl: d.default.string,
                viewerCount: d.default.number,
                playerType: d.default.string,
                isWatchParty: d.default.bool,
                vodId: d.default.string,
                vodTitle: d.default.string,
                vodIsViewable: d.default.bool,
                vodBroadcastType: d.default.string
            },
            S = function(e) {
                var t = e.env,
                    n = e.lang,
                    r = e.streamMetadata,
                    i = e.viewercount,
                    a = e.watchParty;
                return {
                    channelName: r.channelName,
                    displayName: r.channel.displayName,
                    gameName: r.game,
                    lang: n,
                    logo: r.channel.logo,
                    name: r.name,
                    status: r.channel.status,
                    streamUrl: r.url,
                    viewerCount: i,
                    playerType: t.playerType,
                    isWatchParty: "watch_party" === r.streamType,
                    vodId: a.vodId,
                    vodTitle: a.title,
                    vodIsViewable: "public" === a.viewable,
                    vodBroadcastType: a.broadcastType
                }
            },
            A = t.mapDispatchToProps = function(e) {
                return {
                    pause: function() {
                        e((0, m.pause)())
                    }
                }
            },
            C = {
                a: "player-streaminfo__picture",
                img: "qa-broadcaster-logo"
            },
            P = t.StreamInfoComponent = function(e) {
                function t() {
                    return i(this, t), a(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments))
                }
                return o(t, e), s(t, [{
                    key: "render",
                    value: function() {
                        var e = this.props.playerType === v.PLAYER_TWITCH_EVERYWHERE,
                            t = e ? u.default.createElement(y.TwitchEverywherePanelContainer, null) : null,
                            n = e ? null : this._createLogoComponent(),
                            r = this.props.isWatchParty ? u.default.createElement(g.WatchPartyComponent, this.props) : null;
                        return u.default.createElement("div", {
                            className: "player-streaminfo"
                        }, r, n, this._createStreamInfoDisplay(), t)
                    }
                }, {
                    key: "_createLogoComponent",
                    value: function() {
                        var e = this.props,
                            t = e.logo,
                            n = e.streamUrl,
                            r = "_blank";
                        return t ? u.default.createElement(p.LinkedImage, {
                            classNames: C,
                            imgSrc: t,
                            href: n,
                            onClick: this.props.pause,
                            target: r
                        }) : null
                    }
                }, {
                    key: "_createStreamInfoDisplay",
                    value: function() {
                        var e = this.props,
                            t = e.displayName,
                            n = e.channelName,
                            r = e.name,
                            i = e.status,
                            a = e.gameName,
                            o = e.streamUrl,
                            s = e.viewerCount,
                            l = e.playerType,
                            c = e.lang,
                            d = Boolean(n),
                            f = d ? i : r,
                            p = h.gamePath + "/" + encodeURIComponent(a),
                            m = l === v.PLAYER_TWITCH_EVERYWHERE,
                            y = (0, b.default)({
                                "player-streaminfo__meta-container": !m
                            });
                        return t ? u.default.createElement(_.StreamInfoDisplay, {
                            className: y,
                            live: d,
                            name: t,
                            title: f,
                            gameName: a,
                            gameUrl: p,
                            onClick: this.props.pause,
                            streamUrl: o,
                            viewerCount: s,
                            lang: c
                        }) : null
                    }
                }]), t
            }(u.default.PureComponent);
        P.propTypes = T;
        t.StreamInfo = (0, f.connect)(S, A)(P)
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.LinkedImage = void 0;
        var i = n(277),
            a = r(i),
            o = n(307),
            s = r(o),
            l = {
                alt: s.default.string,
                classNames: s.default.shape({
                    a: s.default.string,
                    img: s.default.string
                }),
                href: s.default.string,
                imgSrc: s.default.string,
                onClick: s.default.func,
                target: s.default.string
            },
            u = t.LinkedImage = function(e) {
                var t = e.alt,
                    n = e.classNames,
                    r = e.href,
                    i = e.imgSrc,
                    o = e.onClick,
                    s = e.target;
                return a.default.createElement("a", {
                    className: n.a,
                    href: r,
                    target: s,
                    onClick: o
                }, a.default.createElement("img", {
                    alt: t,
                    className: n.img,
                    src: i
                }))
            };
        u.propTypes = l
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.StreamInfoDisplay = t.StreamInfoDisplayComponent = void 0;
        var i = n(277),
            a = r(i),
            o = n(307),
            s = r(o),
            l = n(311),
            u = n(310),
            c = r(u),
            d = {
                gameName: s.default.string,
                gameUrl: s.default.string,
                lang: s.default.object,
                live: s.default.bool,
                name: s.default.string,
                onClick: s.default.func,
                streamUrl: s.default.string,
                title: s.default.string,
                viewerCount: s.default.number,
                className: s.default.string
            },
            f = (0, c.default)("player-streaminfo__title", "qa-stream-title"),
            p = (0, c.default)("player-text-link", "player-text-link--no-color", "qa-game-name"),
            _ = {
                container: "player-streaminfo__name",
                a: (0, c.default)("player-text-link", "player-text-link--no-color", "qa-display-name")
            },
            h = t.StreamInfoDisplayComponent = function(e) {
                var t = e.gameName,
                    n = e.gameUrl,
                    r = e.lang,
                    i = e.live,
                    o = e.name,
                    s = e.streamUrl,
                    u = e.onClick,
                    c = e.title,
                    d = e.viewerCount,
                    h = e.className,
                    m = Number(d).toLocaleString(r.shortCode),
                    v = a.default.createElement("a", {
                        className: p,
                        href: n,
                        target: "_blank"
                    }, t),
                    y = a.default.createElement("span", null, m),
                    g = null;
                return i && (g = a.default.createElement("div", {
                    className: "player-streaminfo__viewers"
                }, a.default.createElement(l.Interpolate, {
                    i18nKey: "playing {{game}} for {{viewerCount}} viewer",
                    game: v,
                    viewerCount: y,
                    options: {
                        count: d
                    }
                }))), a.default.createElement("div", {
                    className: h
                }, a.default.createElement("div", {
                    className: _.container
                }, a.default.createElement("a", {
                    className: _.a,
                    href: s,
                    target: "_blank",
                    onClick: u
                }, o)), a.default.createElement("div", {
                    className: f
                }, c), a.default.createElement("div", {
                    className: "player-streaminfo__game"
                }, g))
            };
        h.propTypes = d;
        t.StreamInfoDisplay = (0, l.translate)()(h)
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function a(e, t) {
            if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !t || "object" != typeof t && "function" != typeof t ? e : t
        }

        function o(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.TwitchEverywherePanelContainer = t.TwitchEverywherePanel = t.mapDispatchToProps = t.TE_NAMESPACE = t.SUBSCRIBE = t.AUTHENTICATION_REQUIRED = void 0;
        var s = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            l = n(277),
            u = r(l),
            c = n(307),
            d = r(c),
            f = n(644),
            p = n(574),
            _ = n(645),
            h = n(648),
            m = n(650),
            v = n(217),
            y = t.AUTHENTICATION_REQUIRED = "authentication-required",
            g = t.SUBSCRIBE = "subscribe",
            E = t.TE_NAMESPACE = "twitch-everywhere",
            b = {
                avatarURL: d.default.string,
                channelName: d.default.string.isRequired,
                channelId: d.default.number.isRequired,
                userId: d.default.number.isRequired,
                isLoggedIn: d.default.bool.isRequired,
                isFollowing: d.default.bool.isRequired,
                didFetchFollow: d.default.bool.isRequired,
                didFetchSubscriptions: d.default.bool.isRequired,
                followChannel: d.default.func.isRequired,
                unfollowChannel: d.default.func.isRequired,
                window: d.default.object.isRequired,
                notificationsEnabled: d.default.bool.isRequired,
                analytics: d.default.object.isRequired,
                targetOrigin: d.default.string.isRequired
            },
            T = function(e) {
                return {
                    avatarURL: e.streamMetadata.channel.logo,
                    channelName: e.streamMetadata.channel.name,
                    channelId: e.streamMetadata.channel.id,
                    userId: e.user.id,
                    isLoggedIn: e.user.loggedInStatus === h.LOGGED_IN,
                    isFollowing: e.follow.following,
                    didFetchSubscriptions: e.subscriptions.didFetch,
                    didFetchFollow: e.follow.fetched,
                    window: e.window,
                    notificationsEnabled: e.follow.notificationsEnabled,
                    analytics: e.analyticsTracker,
                    targetOrigin: e.env.twitchEverywhere.targetOrigin
                }
            },
            S = t.mapDispatchToProps = function(e) {
                return {
                    followChannel: function(t, n) {
                        e((0, f.followChannel)(t, n))
                    },
                    unfollowChannel: function(t, n) {
                        e((0, f.unfollowChannel)(t, n))
                    }
                }
            },
            A = t.TwitchEverywherePanel = function(e) {
                function t() {
                    i(this, t);
                    var e = a(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments));
                    return e.handleFollowChannel = e.handleFollowChannel.bind(e), e.handleUnfollowChannel = e.handleUnfollowChannel.bind(e), e.handleSubscribe = e.handleSubscribe.bind(e), e
                }
                return o(t, e), s(t, [{
                    key: "componentDidMount",
                    value: function() {
                        this.props.analytics.trackEvent(m.NOTIFICATIONS_BUTTON_VIEW, {
                            follow_state: this.props.isFollowing,
                            notif_state: this.props.notificationsEnabled,
                            src: v.PLAYER_TWITCH_EVERYWHERE
                        })
                    }
                }, {
                    key: "postMessage",
                    value: function(e) {
                        this.props.window.parent.postMessage({
                            eventName: e,
                            namespace: E
                        }, this.props.targetOrigin)
                    }
                }, {
                    key: "handleFollowChannel",
                    value: function() {
                        this.props.isLoggedIn ? this.props.followChannel(this.props.userId, this.props.channelId) : this.postMessage(y)
                    }
                }, {
                    key: "handleUnfollowChannel",
                    value: function() {
                        this.props.unfollowChannel(this.props.userId, this.props.channelId)
                    }
                }, {
                    key: "handleSubscribe",
                    value: function() {
                        this.postMessage(g)
                    }
                }, {
                    key: "render",
                    value: function() {
                        var e = !this.props.isLoggedIn && this.props.channelName,
                            t = this.props.didFetchFollow && this.props.didFetchSubscriptions,
                            n = this.props.channelId === this.props.userId;
                        return e || t && !n ? u.default.createElement(_.TwitchEverywhereFollowPanel, {
                            avatarURL: this.props.avatarURL,
                            onFollowChannel: this.handleFollowChannel,
                            onUnfollowChannel: this.handleUnfollowChannel,
                            onSubscribe: this.handleSubscribe
                        }) : null
                    }
                }]), t
            }(u.default.Component);
        A.propTypes = b;
        var C = (0, p.connect)(T, S);
        t.TwitchEverywherePanelContainer = C(A)
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return {
                type: g,
                show: e
            }
        }

        function i(e, t) {
            var n = t.stream;
            return e === n
        }

        function a(e, t) {
            return function(n, a) {
                var o = a(),
                    s = o.stream;
                return (0, m.getFollowChannel)(e, t).then(function(e) {
                    var t = e.notifications;
                    i(s, a()) && (d(n, e), n(r(!t)))
                }).catch(function(e) {
                    i(s, a()) && (f(n, e), n(r(!0)))
                })
            }
        }

        function o(e, t) {
            return function(n) {
                return (0, m.setFollowChannel)(e, t, !0).then(function(e) {
                    return d(n, e)
                }).catch(function() {})
            }
        }

        function s(e, t) {
            return function(n) {
                return (0, m.setFollowChannel)(e, t, !1).then(function() {
                    return n(c({
                        following: !1,
                        notificationsEnabled: !1
                    }))
                }).catch(function() {})
            }
        }

        function l(e, t) {
            return function(n, r) {
                var i = r(),
                    a = i.analyticsTracker;
                return (0, m.setFollowNotifications)(e, t, !0).then(function(e) {
                    return d(n, e)
                }).then(function() {
                    return _(a)
                }).catch(function() {})
            }
        }

        function u(e, t) {
            return function(n, r) {
                var i = r(),
                    a = i.analyticsTracker;
                return (0, m.setFollowNotifications)(e, t, !1).then(function(e) {
                    return d(n, e)
                }).then(function() {
                    return h(a)
                }).catch(function() {})
            }
        }

        function c() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            return {
                type: v,
                followInfo: e
            }
        }

        function d(e, t) {
            var n = t.channel,
                r = t.notifications;
            n._id && void 0 !== r && e(c({
                following: !0,
                notificationsEnabled: r
            }))
        }

        function f(e, t) {
            var n = t.status;
            404 === n && e(c({
                following: !1,
                notificationsEnabled: !1
            }))
        }

        function p(e) {
            return {
                type: y,
                channelName: e
            }
        }

        function _(e) {
            e.trackEvent(E, {
                src: "player"
            }), e.trackEvent(b, {
                notifications: !0
            })
        }

        function h(e) {
            e.trackEvent(b, {
                notifications: !1
            })
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.NOTIFICATIONS_ON = t.NOTIFICATIONS_OFF = t.NOTIFICATION_CHANGE = t.NOTIFICATIONS_BUTTON_VIEW = t.NOTIFICATIONS_BUTTON_CLICK = t.FOLLOW = t.FOLLOW_AND_NOTIFICATIONS_ON = t.ACTION_SHOW_FOLLOW_NOTIFICATION = t.ACTION_PROMPT_LOGIN_MODAL = t.ACTION_FOLLOW_INFO_FETCHED = void 0, t.showFollowNotification = r, t.fetchFollowInfo = a, t.followChannel = o, t.unfollowChannel = s, t.enableNotifications = l, t.disableNotifications = u, t.followInfoFetched = c, t.dispatchFollowSuccess = d, t.dispatchFollowFail = f, t.promptLoginModal = p, t.logNotificationsEnabled = _, t.logNotificationsDisabled = h;
        var m = n(200),
            v = t.ACTION_FOLLOW_INFO_FETCHED = "follow info fetched",
            y = t.ACTION_PROMPT_LOGIN_MODAL = "prompt login modal",
            g = t.ACTION_SHOW_FOLLOW_NOTIFICATION = "show follow notification",
            E = (t.FOLLOW_AND_NOTIFICATIONS_ON = "follow_on_notif_on", t.FOLLOW = "follow"),
            b = (t.NOTIFICATIONS_BUTTON_CLICK = "player_notifbutton_clicks", t.NOTIFICATIONS_BUTTON_VIEW = "player_notifbutton_views", t.NOTIFICATION_CHANGE = "notification_change");
        t.NOTIFICATIONS_OFF = "notif_off", t.NOTIFICATIONS_ON = "notif_on"
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.TwitchEverywhereFollowPanel = void 0;
        var i = n(277),
            a = r(i),
            o = n(307),
            s = r(o),
            l = n(646),
            u = n(647),
            c = n(168),
            d = n(310),
            f = r(d),
            p = {
                avatarURL: s.default.string,
                onFollowChannel: s.default.func.isRequired,
                onUnfollowChannel: s.default.func.isRequired,
                onSubscribe: s.default.func.isRequired
            },
            _ = t.TwitchEverywhereFollowPanel = function(e) {
                var t = (0, f.default)({
                    "pl-pinned-panel": !0,
                    "pl-pinned-panel--te": !0
                });
                return a.default.createElement("div", {
                    className: t
                }, a.default.createElement("figure", {
                    className: "pl-pinned-panel__avatar"
                }, a.default.createElement("img", {
                    src: e.avatarURL || c.DEFAULT_AVATAR_URL,
                    alt: "Avatar",
                    height: 30,
                    width: 30
                })), a.default.createElement(l.FollowButton, {
                    onFollowChannel: e.onFollowChannel,
                    onUnfollowChannel: e.onUnfollowChannel
                }), a.default.createElement(u.SubscribeButton, {
                    onSubscribe: e.onSubscribe
                }))
            };
        _.propTypes = p
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e) {
            var t = e.channelName,
                n = e.isFollowing,
                r = e.onFollowChannel,
                i = e.onUnfollowChannel,
                a = e.t;
            if (e.isOwnChannel) return null;
            var s = (0, f.default)("pl-button", "pl-button--follow", "pl-button--icon", "pl-button--status"),
                l = (0, f.default)("pl-button", "pl-button--follow", "pl-button--icon"),
                u = o.default.createElement(c.Button, {
                    className: s,
                    onClick: i
                }, o.default.createElement("span", {
                    className: "pl-button__status pl-button__status--hover"
                }, o.default.createElement("figure", {
                    className: "pl-icon"
                }, o.default.createElement("svg", null, o.default.createElement("use", {
                    xlinkHref: "#icon_unheart"
                }))), o.default.createElement("span", {
                    className: "pl-button__text"
                }, a("Unfollow"))), o.default.createElement("span", {
                    className: "pl-button__status pl-button__status--primary"
                }, o.default.createElement("figure", {
                    className: "pl-icon"
                }, o.default.createElement("svg", null, o.default.createElement("use", {
                    xlinkHref: "#icon_heart"
                }))), o.default.createElement("span", {
                    className: "pl-button__text"
                }, a("Following")))),
                d = o.default.createElement(c.Button, {
                    className: l,
                    onClick: r
                }, o.default.createElement("figure", {
                    className: "pl-icon"
                }, o.default.createElement("svg", null, o.default.createElement("use", {
                    xlinkHref: "#icon_heart"
                }))), o.default.createElement("span", {
                    className: "pl-button__text"
                }, a("Follow {{channelName}} on Twitch", {
                    channelName: t
                })));
            return n ? u : d
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.FollowButton = t.mapStateToProps = void 0, t.FollowButtonComponent = i;
        var a = n(277),
            o = r(a),
            s = n(307),
            l = r(s),
            u = n(574),
            c = n(615),
            d = n(310),
            f = r(d),
            p = n(311),
            _ = {
                channelName: l.default.string.isRequired,
                isOwnChannel: l.default.bool.isRequired,
                isFollowing: l.default.bool.isRequired,
                onFollowChannel: l.default.func.isRequired,
                onUnfollowChannel: l.default.func.isRequired,
                t: l.default.func.isRequired
            },
            h = t.mapStateToProps = function(e) {
                return {
                    channelName: e.streamMetadata.channel.name,
                    isOwnChannel: e.streamMetadata.channel.id === e.user.id,
                    isFollowing: e.follow.following
                }
            };
        i.propTypes = _;
        var m = (0, u.connect)(h);
        t.FollowButton = (0, p.translate)()(m(i))
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e) {
            if (!e.isSubscribable || e.isOwnChannel) return null;
            var t = (0, f.default)({
                    "pl-button": !0,
                    "pl-button--subscribe": !0,
                    "pl-button--success": e.isSubscribed
                }),
                n = void 0,
                r = void 0;
            return e.isSubscribed ? (n = e.t("Subscribed"), r = n) : (n = e.t("Subscribe to {{channelName}}", {
                channelName: e.channelName
            }), r = e.t("Subscribe")), o.default.createElement(c.Button, {
                className: t,
                onClick: e.onSubscribe
            }, o.default.createElement("span", {
                className: "pl-button__text pl-button__text--desktop"
            }, n), o.default.createElement("span", {
                className: "pl-button__text pl-button__text--mobile"
            }, r))
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.SubscribeButton = t.mapStateToProps = void 0, t.SubscribeButtonComponent = i;
        var a = n(277),
            o = r(a),
            s = n(307),
            l = r(s),
            u = n(574),
            c = n(615),
            d = n(310),
            f = r(d),
            p = n(311),
            _ = {
                channelName: l.default.string.isRequired,
                isOwnChannel: l.default.bool.isRequired,
                isSubscribed: l.default.bool.isRequired,
                isSubscribable: l.default.bool.isRequired,
                onSubscribe: l.default.func.isRequired,
                t: l.default.func.isRequired
            },
            h = t.mapStateToProps = function(e) {
                return {
                    channelName: e.streamMetadata.channel.name,
                    isOwnChannel: e.streamMetadata.channel.id === e.user.id,
                    isSubscribed: e.subscriptions.isSubscribed,
                    isSubscribable: e.subscriptions.isSubscribable
                }
            };
        i.propTypes = _;
        var m = (0, u.connect)(h);
        t.SubscribeButton = (0, p.translate)()(m(i))
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : d,
                t = arguments[1];
            switch (t.type) {
                case s.ACTION_USER_LOGGED_IN:
                    return (0, o.default)({}, t.userInfo, {
                        loggedInStatus: u
                    });
                case s.ACTION_USER_NOT_LOGGED_IN:
                    return (0, o.default)({}, d, {
                        loggedInStatus: c
                    });
                default:
                    return e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.NOT_LOGGED_IN = t.LOGGED_IN = t.UNKNOWN = void 0, t.user = i;
        var a = n(117),
            o = r(a),
            s = n(649),
            l = t.UNKNOWN = "unknown",
            u = t.LOGGED_IN = "logged in",
            c = t.NOT_LOGGED_IN = "not logged in",
            d = {
                loggedInStatus: l,
                id: 0,
                isStaff: !1,
                name: ""
            }
    }, function(e, t) {
        "use strict";

        function n(e) {
            return {
                type: i,
                userInfo: e
            }
        }

        function r() {
            return {
                type: a
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.userLoggedIn = n, t.userNotLoggedIn = r;
        var i = t.ACTION_USER_LOGGED_IN = "user logged in",
            a = t.ACTION_USER_NOT_LOGGED_IN = "user not logged in"
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e) {
            var t = e.playerType,
                n = e.streamType;
            switch (t) {
                case f.PLAYER_POPOUT:
                case f.PLAYER_SITE:
                case f.PLAYER_EMBED:
                    return n === p.TYPE_DEAD_LTV ? o.default.createElement(d.CenteredFollowPanelContainer, null) : o.default.createElement(c.GenericFollowPanelContainer, null);
                case f.PLAYER_PULSE:
                    return o.default.createElement(d.CenteredFollowPanelContainer, null);
                default:
                    return null
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.FollowPanel = void 0, t.FollowPanelContainer = i;
        var a = n(277),
            o = r(a),
            s = n(307),
            l = r(s),
            u = n(574),
            c = n(651),
            d = n(655),
            f = n(217),
            p = n(420),
            _ = {
                playerType: l.default.string.isRequired,
                streamType: l.default.string.isRequired
            },
            h = function(e) {
                var t = e.env,
                    n = e.streamMetadata;
                return {
                    playerType: t.playerType,
                    streamType: n.streamType
                }
            };
        i.propTypes = _;
        t.FollowPanel = (0, u.connect)(h)(i)
    }, function(e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.GenericFollowPanelContainer = void 0;
        var r = n(652),
            i = n(653);
        t.GenericFollowPanelContainer = (0, r.makeFollowPanel)(i.GenericFollowPanel)
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function a(e, t) {
            if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !t || "object" != typeof t && "function" != typeof t ? e : t
        }

        function o(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }

        function s(e) {
            return e.displayName || e.name || "Component"
        }

        function l(e) {
            var t = function(t) {
                function n() {
                    i(this, n);
                    var e = a(this, (n.__proto__ || Object.getPrototypeOf(n)).apply(this, arguments));
                    return e.enableNotifications = e.enableNotifications.bind(e), e.disableNotifications = e.disableNotifications.bind(e), e.promptUserLogin = e.promptUserLogin.bind(e), e
                }
                return o(n, t), u(n, [{
                    key: "componentWillReceiveProps",
                    value: function(e) {
                        e.showFollowNotification && !this.props.showFollowNotification && this._logInteraction(h.NOTIFICATIONS_BUTTON_VIEW)
                    }
                }, {
                    key: "_invokeIfLoggedIn",
                    value: function(e) {
                        var t = this.props,
                            n = t.user,
                            r = t.channel;
                        n.loggedIn ? e(n.id, r.id) : this.promptUserLogin()
                    }
                }, {
                    key: "_logInteraction",
                    value: function(e) {
                        var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
                            n = this.props,
                            r = n.analytics,
                            i = n.relationship,
                            a = n.playerType;
                        r.trackEvent(e, (0, y.default)(t, {
                            follow_state: i.following,
                            notif_state: i.notificationsEnabled,
                            src: a
                        }))
                    }
                }, {
                    key: "enableNotifications",
                    value: function e() {
                        var t = this.props,
                            e = t.enableNotifications,
                            n = t.relationship,
                            r = n.following ? h.NOTIFICATIONS_ON : h.FOLLOW_AND_NOTIFICATIONS_ON;
                        this._invokeIfLoggedIn(e), this._logInteraction(h.NOTIFICATIONS_BUTTON_CLICK, {
                            action: r
                        })
                    }
                }, {
                    key: "disableNotifications",
                    value: function e() {
                        var e = this.props.disableNotifications;
                        this._invokeIfLoggedIn(e), this._logInteraction(h.NOTIFICATIONS_BUTTON_CLICK, {
                            action: h.NOTIFICATIONS_OFF
                        })
                    }
                }, {
                    key: "promptUserLogin",
                    value: function() {
                        var e = this.props,
                            t = e.win,
                            n = e.playerType,
                            r = e.promptLoginModal,
                            i = e.channel;
                        n === E.PLAYER_SITE ? r(i.name) : t.open(g.TWITCH_SIGNUP_URL, "_blank")
                    }
                }, {
                    key: "render",
                    value: function() {
                        var t = this.props,
                            n = t.channel,
                            r = t.showFollowNotification,
                            i = t.relationship,
                            a = t.withInfo;
                        return r ? f.default.createElement(e, {
                            channelName: n.name,
                            disable: this.disableNotifications,
                            enable: this.enableNotifications,
                            notificationsEnabled: i.notificationsEnabled,
                            withInfo: a
                        }) : null
                    }
                }]), n
            }(f.default.Component);
            return t.propTypes = T, t.defaultProps = S, t.displayName = "WrappedFollowPanel(" + s(e) + ")", (0, c.connect)(A, C)(t)
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.mapDispatchToProps = t.mapStateToProps = void 0;
        var u = function() {
            function e(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                }
            }
            return function(t, n, r) {
                return n && e(t.prototype, n), r && e(t, r), t
            }
        }();
        t.makeFollowPanel = l;
        var c = n(574),
            d = n(277),
            f = r(d),
            p = n(307),
            _ = r(p),
            h = n(644),
            m = n(648),
            v = n(117),
            y = r(v),
            g = n(168),
            E = n(217),
            b = n(420),
            T = {
                analytics: _.default.object,
                channel: _.default.shape({
                    id: _.default.number,
                    name: _.default.string
                }).isRequired,
                disableNotifications: _.default.func,
                enableNotifications: _.default.func,
                playerType: _.default.string.isRequired,
                promptLoginModal: _.default.func,
                showFollowNotification: _.default.bool.isRequired,
                relationship: _.default.shape({
                    following: _.default.bool,
                    notificationsEnabled: _.default.bool
                }).isRequired,
                user: _.default.shape({
                    id: _.default.number,
                    loggedIn: _.default.bool
                }).isRequired,
                win: _.default.object.isRequired,
                withInfo: _.default.bool.isRequired
            },
            S = {
                analytics: {
                    trackEvent: function() {}
                },
                enableNotifications: function() {},
                disableNotifications: function() {},
                promptLoginModal: function() {}
            },
            A = t.mapStateToProps = function(e) {
                var t = e.analyticsTracker,
                    n = e.env,
                    r = e.follow,
                    i = e.playback,
                    a = e.playerOptions,
                    o = e.streamMetadata,
                    s = e.user,
                    l = e.window,
                    u = e.ui;
                return {
                    analytics: t,
                    channel: {
                        id: o.channel.id,
                        avatarUrl: o.channel.logo,
                        name: o.channel.displayName
                    },
                    playerType: n.playerType,
                    showFollowNotification: r.showFollowNotification && !u.isMini && (i.ended || o.streamType === b.TYPE_DEAD_LTV),
                    relationship: {
                        notificationsEnabled: r.notificationsEnabled,
                        following: r.following
                    },
                    win: l,
                    withInfo: a.showInfo,
                    user: {
                        id: s.id,
                        loggedIn: s.loggedInStatus === m.LOGGED_IN
                    }
                }
            },
            C = t.mapDispatchToProps = function(e) {
                return {
                    enableNotifications: function(t, n) {
                        e((0, h.enableNotifications)(t, n))
                    },
                    disableNotifications: function(t, n) {
                        e((0, h.disableNotifications)(t, n))
                    },
                    promptLoginModal: function(t) {
                        e((0, h.promptLoginModal)(t))
                    }
                }
            }
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e) {
            var t = e.channelName,
                n = e.enable,
                r = e.disable,
                i = e.notificationsEnabled,
                a = e.t,
                s = e.withInfo,
                l = (0, f.default)({
                    "pl-pinned-panel": !0,
                    "pl-pinned-panel--animate": !0,
                    "pl-pinned-panel--with-info": s
                });
            return o.default.createElement("div", {
                className: l
            }, o.default.createElement("h2", {
                className: "pl-pinned-panel__title"
            }, a("Follow and get notified when {{channelName}} is live", {
                channelName: t
            })), o.default.createElement(c.NotificationsButton, {
                enable: n,
                disable: r,
                notificationsEnabled: i
            }))
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.GenericFollowPanel = void 0, t.GenericFollowPanelComponent = i;
        var a = n(277),
            o = r(a),
            s = n(307),
            l = r(s),
            u = n(311),
            c = n(654),
            d = n(310),
            f = r(d),
            p = {
                channelName: l.default.string.isRequired,
                enable: l.default.func,
                disable: l.default.func,
                notificationsEnabled: l.default.bool.isRequired,
                t: l.default.func,
                withInfo: l.default.bool.isRequired
            },
            _ = {
                t: function() {},
                enable: function() {},
                disable: function() {}
            };
        i.propTypes = p, i.defaultProps = _;
        t.GenericFollowPanel = (0, u.translate)()(i)
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e) {
            var t = e.className,
                n = e.notificationsEnabled,
                r = e.enable,
                i = e.disable,
                a = e.t,
                s = (0, f.default)("pl-button", "pl-button--icon", "pl-button--status", t),
                l = (0, f.default)("pl-button", t),
                c = o.default.createElement(u.Button, {
                    className: s,
                    onClick: i
                }, o.default.createElement("span", null, o.default.createElement("figure", null, o.default.createElement("svg", null, o.default.createElement("use", {
                    xlinkHref: "#icon_pl-followcheck"
                }))), a("Notifications"))),
                d = o.default.createElement(u.Button, {
                    className: l,
                    onClick: r
                }, o.default.createElement("span", null, a("Turn On Notifications")));
            return n ? c : d
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.NotificationsButton = void 0, t.NotificationsButtonComponent = i;
        var a = n(277),
            o = r(a),
            s = n(307),
            l = r(s),
            u = n(615),
            c = n(311),
            d = n(310),
            f = r(d),
            p = {
                notificationsEnabled: l.default.bool.isRequired,
                enable: l.default.func.isRequired,
                disable: l.default.func.isRequired,
                t: l.default.func.isRequired,
                className: l.default.string
            };
        i.propTypes = p;
        t.NotificationsButton = (0, c.translate)()(i)
    }, function(e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.CenteredFollowPanelContainer = void 0;
        var r = n(652),
            i = n(656);
        t.CenteredFollowPanelContainer = (0, r.makeFollowPanel)(i.CenteredFollowPanel)
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e) {
            var t = e.channelName,
                n = e.enable,
                r = e.disable,
                i = e.notificationsEnabled,
                a = e.t;
            return o.default.createElement("div", {
                className: h
            }, o.default.createElement("h2", {
                className: "pl-pinned-panel__title"
            }, a("Live Broadcast has ended")), o.default.createElement("p", {
                className: "pl-pinned-panel__subtext"
            }, a("Get notified when {{channelName}} goes live next", {
                channelName: t
            })), o.default.createElement(c.NotificationsButton, {
                className: m,
                enable: n,
                disable: r,
                notificationsEnabled: i
            }))
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.CenteredFollowPanel = void 0, t.CenteredFollowPanelComponent = i;
        var a = n(277),
            o = r(a),
            s = n(307),
            l = r(s),
            u = n(311),
            c = n(654),
            d = n(310),
            f = r(d),
            p = {
                channelName: l.default.string.isRequired,
                enable: l.default.func.isRequired,
                disable: l.default.func.isRequired,
                notificationsEnabled: l.default.bool.isRequired,
                t: l.default.func
            },
            _ = {
                t: function() {}
            },
            h = (0, f.default)("pl-pinned-panel", "pl-pinned-panel--embed"),
            m = (0, f.default)("pl-button--hollow", "mg-t-2");
        i.propTypes = p, i.defaultProps = _;
        t.CenteredFollowPanel = (0, u.translate)()(i)
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e, t) {
            switch (e) {
                case "highlight":
                    return t.translate("Playing highlight");
                case "archive":
                    return t.translate("Playing past broadcast");
                case "upload":
                    return t.translate("Playing uploaded video");
                default:
                    return t.translate("Playing pre-recorded video")
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.WatchPartyComponent = t.WATCH_PARTY_CLASSES = void 0;
        var a = n(277),
            o = r(a),
            s = n(658),
            l = t.WATCH_PARTY_CLASSES = {
                container: "player-streaminfo__watchparty",
                divider: "player-streaminfo__watchparty-divider"
            },
            u = t.WatchPartyComponent = function(e) {
                var t = e.lang,
                    n = e.vodIsViewable,
                    r = e.vodId,
                    a = e.vodTitle,
                    u = e.vodBroadcastType;
                return o.default.createElement("div", {
                    className: l.container
                }, i(u, t), o.default.createElement(s.WatchPartyDetails, {
                    vodId: r,
                    vodTitle: a,
                    isViewable: n
                }), o.default.createElement("div", {
                    className: l.divider
                }))
            };
        u.propTypes = {
            lang: a.PropTypes.object,
            vodId: a.PropTypes.string,
            vodTitle: a.PropTypes.string,
            vodIsViewable: a.PropTypes.bool,
            vodBroadcastType: a.PropTypes.string
        }
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.WatchPartyDetails = t.WATCH_PARTY_CLASSES = void 0;
        var i = n(277),
            a = r(i),
            o = n(168),
            s = (t.WATCH_PARTY_CLASSES = {
                container: "player-streaminfo__watchparty",
                divider: "player-streaminfo__watchparty-divider"
            }, t.WatchPartyDetails = function(e) {
                var t = e.isViewable,
                    n = e.vodId,
                    r = e.vodTitle;
                return n && 0 !== n.length ? t ? a.default.createElement("span", null, ": ", a.default.createElement("a", {
                    href: o.twitchHost + "/videos/" + n,
                    target: "_blank"
                }, r)) : a.default.createElement("span", null, ": ", r) : null
            });
        s.propTypes = {
            vodId: i.PropTypes.string,
            vodTitle: i.PropTypes.string,
            isViewable: i.PropTypes.bool
        }
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.StreamStatus = t.StreamStatusComponent = t.mapStateToProps = void 0;
        var i = n(277),
            a = r(i),
            o = n(307),
            s = r(o),
            l = n(574),
            u = n(167),
            c = n(396),
            d = n(403),
            f = n(251),
            p = n(634),
            _ = n(310),
            h = r(_),
            m = {
                streamType: s.default.string,
                i18n: s.default.object.isRequired,
                isOnline: s.default.bool,
                inCollection: s.default.bool,
                isWatchParty: s.default.bool.isRequired,
                showingRecommendations: s.default.bool
            },
            v = t.mapStateToProps = function(e) {
                var t = e.lang,
                    n = e.onlineStatus,
                    r = e.stream,
                    i = e.collection,
                    a = e.streamMetadata,
                    o = e.screen;
                return {
                    streamType: r.contentType,
                    i18n: t,
                    isOnline: n === d.ONLINE_STATUS,
                    inCollection: Boolean(i.id),
                    isWatchParty: "watch_party" === a.streamType,
                    showingRecommendations: o[0] === c.VOD_RECOMMENDATION_SCREEN
                }
            },
            y = "Live",
            g = "Offline",
            E = "Vodcast",
            b = (0, h.default)("player-hover", "player-streamstatus"),
            T = t.StreamStatusComponent = function(e) {
                var t = e.streamType,
                    n = e.i18n,
                    r = e.isOnline,
                    i = e.inCollection,
                    o = e.isWatchParty,
                    s = e.showingRecommendations,
                    l = null;
                if (!i && !s) {
                    var c = (0, h.default)("player-streamstatus__type", "player-streamstatus__type--live", "qa-live-label"),
                        d = (0, h.default)("player-streamstatus__type", "player-streamstatus__type--offline"),
                        _ = (0, h.default)("player-streamstatus__type", "player-streamstatus__type--watchparty");
                    t === u.CONTENT_MODE_LIVE && (l = o && r ? a.default.createElement("span", null, a.default.createElement(p.Experiment, {
                        uuid: f.VIEW_WATCH_TOGETHER,
                        renderValue: "yes"
                    }, a.default.createElement("span", {
                        className: _
                    }, a.default.createElement("span", {
                        className: "player-streamstatus__label"
                    }, n.translate(E)))), a.default.createElement(p.Experiment, {
                        uuid: f.VIEW_WATCH_TOGETHER,
                        renderValue: "no"
                    }, a.default.createElement("span", {
                        className: c
                    }, a.default.createElement("span", {
                        className: "player-streamstatus__label"
                    }, n.translate(y))))) : r ? a.default.createElement("span", {
                        className: c
                    }, a.default.createElement("span", {
                        className: "player-streamstatus__label"
                    }, n.translate(y))) : a.default.createElement("span", {
                        className: d
                    }, a.default.createElement("span", {
                        className: "player-streamstatus__label"
                    }, n.translate(g))))
                }
                return a.default.createElement("div", {
                    className: b
                }, l)
            };
        T.propTypes = m;
        t.StreamStatus = (0, l.connect)(v)(T)
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function a(e, t) {
            if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !t || "object" != typeof t && "function" != typeof t ? e : t
        }

        function o(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.MutedSegmentsAlert = t.MutedSegmentsAlertComponent = void 0;
        var s = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            l = n(277),
            u = r(l),
            c = n(307),
            d = r(c),
            f = n(574),
            p = {
                i18n: d.default.object,
                shouldShowMutedSegmentsAlert: d.default.bool
            },
            _ = function(e) {
                var t = e.lang,
                    n = e.timelineMetadata;
                return {
                    i18n: t,
                    shouldShowMutedSegmentsAlert: n.mutedSegments.length > 0
                }
            },
            h = "Audio for portions of this video has been muted as it appears to contain copyrighted content owned or controlled by a third party.",
            m = t.MutedSegmentsAlertComponent = function(e) {
                function t() {
                    i(this, t);
                    var e = a(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments));
                    return e.state = {
                        hasDismissedAlert: !1
                    }, e.handleCloseAlertClick = e.handleCloseAlertClick.bind(e), e
                }
                return o(t, e), s(t, [{
                    key: "render",
                    value: function() {
                        var e = this.props,
                            t = e.i18n,
                            n = e.shouldShowMutedSegmentsAlert,
                            r = this.state.hasDismissedAlert;
                        return !n || r ? null : u.default.createElement("div", {
                            className: "player-alert"
                        }, u.default.createElement("p", null, t.translate(h)), u.default.createElement("button", {
                            type: "button",
                            className: "player-button player-button--noscale player-button--close",
                            onClick: this.handleCloseAlertClick
                        }, u.default.createElement("svg", null, u.default.createElement("use", {
                            xlinkHref: "#icon_close"
                        }))))
                    }
                }, {
                    key: "handleCloseAlertClick",
                    value: function() {
                        this.setState({
                            hasDismissedAlert: !0
                        })
                    }
                }]), t
            }(u.default.Component);
        m.propTypes = p;
        t.MutedSegmentsAlert = (0, f.connect)(_)(m)
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function a(e, t) {
            if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !t || "object" != typeof t && "function" != typeof t ? e : t
        }

        function o(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.VolumeSlider = t.VolumeSliderComponent = t.classNames = t.mapDispatchToProps = void 0;
        var s = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            l = n(277),
            u = r(l),
            c = n(307),
            d = r(c),
            f = n(574),
            p = n(596),
            _ = n(363),
            h = n(168),
            m = {
                i18n: d.default.object,
                muted: d.default.bool,
                mutePlayer: d.default.func,
                changeVolume: d.default.func,
                volume: d.default.number
            },
            v = function(e) {
                var t = e.lang,
                    n = e.playback;
                return {
                    i18n: t,
                    muted: n.muted,
                    volume: n.volume
                }
            },
            y = t.mapDispatchToProps = function(e) {
                return {
                    mutePlayer: function(t) {
                        e((0, _.mutePlayer)(t, !1))
                    },
                    changeVolume: function(t) {
                        e((0, _.changeVolume)(t))
                    }
                }
            },
            g = t.classNames = {
                slider: "player-volume__slider player-slider",
                sliderLeft: "ui-slider-range",
                sliderThumb: "ui-slider-handle"
            },
            E = t.VolumeSliderComponent = function(e) {
                function t() {
                    i(this, t);
                    var e = a(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments));
                    return e.handleIconClick = e.handleIconClick.bind(e), e.changeVolume = e.changeVolume.bind(e), e
                }
                return o(t, e), s(t, [{
                    key: "render",
                    value: function() {
                        var e = this.props,
                            t = e.muted,
                            n = e.volume,
                            r = t ? 0 : n,
                            i = this.getVolumeIcon();
                        return u.default.createElement("div", {
                            className: "pl-flex pl-flex__item--grow"
                        }, u.default.createElement("button", {
                            type: "button",
                            className: "player-button player-button--volume qa-control-volume",
                            onClick: this.handleIconClick
                        }, i), u.default.createElement("div", {
                            className: "player-volume__slider-container"
                        }, u.default.createElement(p.Slider, {
                            classNames: g,
                            max: 1,
                            min: 0,
                            value: r,
                            skipAnimation: !0,
                            dragHandlers: {
                                onDrag: this.changeVolume,
                                onStop: this.changeVolume
                            },
                            onClick: this.changeVolume
                        })))
                    }
                }, {
                    key: "changeVolume",
                    value: function(e) {
                        this.props.changeVolume(e), 0 === e ? this.props.mutePlayer(!0) : this.props.mutePlayer(!1)
                    }
                }, {
                    key: "handleIconClick",
                    value: function() {
                        if (0 === this.props.volume) return void this.props.changeVolume(h.volumeStepAmount);
                        var e = !this.props.muted;
                        this.props.mutePlayer(e)
                    }
                }, {
                    key: "getVolumeIcon",
                    value: function() {
                        var e = this.props,
                            t = e.i18n,
                            n = e.muted,
                            r = e.volume;
                        if (n || 0 === r) {
                            var i = t.translate("Unmute");
                            return u.default.createElement("span", {
                                className: "unmute-button"
                            }, u.default.createElement("span", {
                                className: "player-tip",
                                "data-tip": i
                            }), u.default.createElement("svg", {
                                className: "player-icon-volumemute"
                            }, u.default.createElement("use", {
                                xlinkHref: "#icon_volumemute"
                            })))
                        }
                        var a = t.translate("Mute");
                        return u.default.createElement("span", {
                            className: "mute-button"
                        }, u.default.createElement("span", {
                            className: "player-tip",
                            "data-tip": a
                        }), u.default.createElement("svg", {
                            className: "player-icon-volumefull"
                        }, u.default.createElement("use", {
                            xlinkHref: "#icon_volumefull"
                        })))
                    }
                }]), t
            }(u.default.Component);
        E.propTypes = m;
        t.VolumeSlider = (0, f.connect)(v, y)(E)
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            if (e && e.__esModule) return e;
            var t = {};
            if (null != e)
                for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
            return t.default = e, t
        }

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function a(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function o(e, t) {
            if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !t || "object" != typeof t && "function" != typeof t ? e : t
        }

        function s(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }

        function l(e, t, n) {
            return t in e ? Object.defineProperty(e, t, {
                value: n,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : e[t] = n, e
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.ExtensionsContainer = t.ExtensionsContainerComponent = void 0;
        var u, c = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            d = n(277),
            f = i(d),
            p = n(307),
            _ = i(p),
            h = n(574),
            m = n(117),
            v = i(m),
            y = n(663),
            g = n(667),
            E = n(366),
            b = n(167),
            T = n(648),
            S = n(243),
            A = n(335),
            C = n(219),
            P = n(217),
            O = r(P),
            w = n(403),
            k = n(182),
            I = 16 / 9,
            N = {
                onExtensionDoubleClick: _.default.func.isRequired,
                onIdentityToggle: _.default.func.isRequired,
                shouldShowExtensions: _.default.bool.isRequired,
                extensions: _.default.shape({
                    extensions: _.default.arrayOf(_.default.shape({
                        id: _.default.string.isRequired,
                        name: _.default.string.isRequired,
                        summary: _.default.string.isRequired,
                        anchor: _.default.string.isRequired,
                        version: _.default.string.isRequired,
                        viewerUrl: _.default.string.isRequired,
                        token: _.default.shape({
                            token: _.default.string.isRequired,
                            permissionsState: _.default.string.isRequired,
                            role: _.default.string.isRequired
                        })
                    }).isRequired).isRequired
                }),
                game: _.default.string.isRequired,
                width: _.default.number.isRequired,
                height: _.default.number.isRequired,
                extensionsApi: _.default.object.isRequired,
                videoResolution: _.default.string.isRequired,
                isLoggedIn: _.default.bool.isRequired,
                login: _.default.string.isRequired,
                loginId: _.default.number.isRequired,
                channel: _.default.string.isRequired,
                channelId: _.default.number.isRequired,
                deviceId: _.default.string.isRequired,
                platform: _.default.string.isRequired,
                locale: _.default.string.isRequired,
                playerType: _.default.string.isRequired,
                trackEvent: _.default.func.isRequired
            },
            R = (u = {}, l(u, O.PLAYER_SITE_MINI, !0), l(u, O.PLAYER_CURSE, !0), l(u, O.PLAYER_FRONTPAGE, !0), l(u, O.PLAYER_FACEBOOK, !0), l(u, O.PLAYER_HIGHLIGHTER, !0), l(u, O.PLAYER_PULSE, !0), l(u, O.PLAYER_TWITCH_EVERYWHERE, !0), u),
            L = function(e) {
                return {
                    extensions: e.extensions,
                    game: e.streamMetadata.game,
                    width: e.playerDimensions.width,
                    height: e.playerDimensions.height,
                    extensionsApi: e.extensions.extensionsApi,
                    videoResolution: e.stats.videoStats.videoResolution,
                    shouldShowExtensions: e.env.platform !== E.PLATFORM_MOBILE_WEB && !R.hasOwnProperty(e.env.playerType) && e.stream.contentType === b.CONTENT_MODE_LIVE && e.playback.contentShowing && e.onlineStatus === w.ONLINE_STATUS && e.ads.currentMetadata.contentType === S.AdContentTypes.NONE,
                    isLoggedIn: e.user.loggedInStatus === T.LOGGED_IN,
                    login: e.user.name,
                    loginId: e.user.id,
                    channel: e.streamMetadata.channel.name,
                    channelId: e.streamMetadata.channel.id,
                    deviceId: e.env.deviceId,
                    platform: e.env.platform,
                    locale: e.lang.langCode,
                    playerType: e.env.playerType,
                    trackEvent: e.analyticsTracker.trackEvent
                }
            },
            M = function(e) {
                return {
                    onExtensionDoubleClick: function() {
                        e((0, k.toggleFullScreen)())
                    },
                    onIdentityToggle: function(t) {
                        var n = t.id,
                            r = t.token,
                            i = r.permissionsState === C.EXTENSION_PERMISSION_STATE_GRANTED;
                        e((0, A.setIdentitySharingForExtension)(n, r.token, !i))
                    }
                }
            },
            D = t.ExtensionsContainerComponent = function(e) {
                function t() {
                    a(this, t);
                    var e = o(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments));
                    return e._boundTrackEvent = e._trackEvent.bind(e), e
                }
                return s(t, e), c(t, [{
                    key: "render",
                    value: function() {
                        var e = this.props,
                            t = e.shouldShowExtensions,
                            n = e.extensions,
                            r = e.game,
                            i = e.extensionsApi,
                            a = e.videoResolution,
                            o = this._getAspectRatio(a),
                            s = this._computeDimensions(this.props.width, this.props.height, o),
                            l = s.width,
                            u = s.height,
                            c = this._getTrackingProperties();
                        if (!t || !n.extensions.length) return null;
                        var d = n.extensions[0];
                        return f.default.createElement("div", {
                            className: "extension-container"
                        }, f.default.createElement(g.ExtensionAttribution, {
                            channel: this.props.channel,
                            extension: d,
                            onIdentityToggle: this.props.onIdentityToggle,
                            trackEvent: this._boundTrackEvent,
                            isLoggedIn: this.props.isLoggedIn
                        }), f.default.createElement("div", {
                            className: "extension-overlays"
                        }, f.default.createElement(y.ExtensionOverlay, {
                            width: l,
                            height: u,
                            key: d.id,
                            extension: d,
                            game: r,
                            extensionsApi: i,
                            trackingProperties: c,
                            onDoubleClick: this.props.onExtensionDoubleClick
                        })))
                    }
                }, {
                    key: "_trackEvent",
                    value: function(e, t) {
                        var n = this.props.extensions.extensions[0];
                        this.props.trackEvent(e, (0, v.default)(t, {
                            extension_id: n.id,
                            extension_version: n.version,
                            extension_anchor: n.anchor,
                            extension_mode: "viewer",
                            locale: this.props.locale,
                            login_id: this.props.loginId,
                            player_type: this.props.playerType
                        }))
                    }
                }, {
                    key: "_getTrackingProperties",
                    value: function() {
                        return {
                            login: this.props.login,
                            loginId: this.props.loginId,
                            channel: this.props.channel,
                            channelId: this.props.channelId,
                            deviceId: this.props.deviceId,
                            platform: this.props.platform,
                            locale: this.props.locale,
                            playerType: this.props.playerType
                        }
                    }
                }, {
                    key: "_computeDimensions",
                    value: function(e, t, n) {
                        var r = e / t > n;
                        return {
                            width: r ? Math.ceil(t * n) : e,
                            height: r ? t : Math.ceil(e / n)
                        }
                    }
                }, {
                    key: "_getAspectRatio",
                    value: function(e) {
                        var t = /(\d+)\D*(\d+)/g,
                            n = t.exec(e);
                        if (!n) return I;
                        var r = parseInt(n[1], 10),
                            i = parseInt(n[2], 10);
                        return i ? r / i : I
                    }
                }]), t
            }(f.default.Component);
        D.propTypes = N;
        t.ExtensionsContainer = (0, h.connect)(L, M)(D)
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function a(e, t) {
            if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !t || "object" != typeof t && "function" != typeof t ? e : t
        }

        function o(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.ExtensionOverlay = t.EXT_IFRAME_CLASS = t.EXT_OVERLAY_CLASS = void 0;
        var s = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            l = n(277),
            u = r(l),
            c = n(307),
            d = r(c),
            f = n(664),
            p = n(114),
            _ = t.EXT_OVERLAY_CLASS = "extension-overlay",
            h = t.EXT_IFRAME_CLASS = "extension-overlay__iframe",
            m = {
                onDoubleClick: d.default.func.isRequired,
                width: d.default.number.isRequired,
                height: d.default.number.isRequired,
                extension: d.default.shape({
                    id: d.default.string.isRequired,
                    name: d.default.string.isRequired,
                    anchor: d.default.string.isRequired,
                    version: d.default.string.isRequired,
                    viewerUrl: d.default.string.isRequired,
                    token: d.default.shape({
                        token: d.default.string.isRequired
                    })
                }).isRequired,
                game: d.default.string.isRequired,
                extensionsApi: d.default.object.isRequired,
                trackingProperties: d.default.shape({
                    login: d.default.string.isRequired,
                    loginId: d.default.number.isRequired,
                    channel: d.default.string.isRequired,
                    channelId: d.default.number.isRequired,
                    deviceId: d.default.string.isRequired,
                    platform: d.default.string.isRequired,
                    locale: d.default.string.isRequired,
                    playerType: d.default.string.isRequired
                })
            },
            v = t.ExtensionOverlay = function(e) {
                function t(e) {
                    i(this, t);
                    var n = a(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e));
                    return n._iframeRefHandler = n._iframeRefHandler.bind(n), n._boundOnFrameDoubleClick = n._onFrameDoubleClick.bind(n), n
                }
                return o(t, e), s(t, [{
                    key: "componentDidMount",
                    value: function() {
                        this.extensionCoordinator = f.ExtensionCoordinator.create({
                            dobbin: p.Dobbin,
                            extension: {
                                id: this.props.extension.id,
                                anchor: this.props.extension.anchor,
                                clientId: this.props.extension.id,
                                token: this.props.extension.token.token,
                                version: this.props.extension.version
                            },
                            iframe: this.iframe,
                            mode: "viewer",
                            playerExtensionsApi: this.props.extensionsApi,
                            trackingProperties: {
                                login: this.props.trackingProperties.login,
                                login_id: this.props.trackingProperties.loginId,
                                channel: this.props.trackingProperties.channel,
                                channel_id: this.props.trackingProperties.channelId,
                                device_id: this.props.trackingProperties.deviceId,
                                platform: this.props.trackingProperties.platform,
                                locale: this.props.trackingProperties.locale,
                                player_type: this.props.trackingProperties.playerType
                            }
                        }), this.extensionCoordinator.setGame(this.props.game), this.iframe.addEventListener("dblclick", this._boundOnFrameDoubleClick)
                    }
                }, {
                    key: "componentWillUnmount",
                    value: function() {
                        this.iframe.removeEventListener("dblclick", this._boundOnFrameDoubleClick), this.extensionCoordinator.destroy()
                    }
                }, {
                    key: "componentDidUpdate",
                    value: function(e) {
                        var t = e.extension.token.token,
                            n = this.props.extension.token.token;
                        this.iframe && n !== t && this.extensionCoordinator.reloadExtension(n)
                    }
                }, {
                    key: "render",
                    value: function() {
                        var e = this.props.extension;
                        return u.default.createElement("div", {
                            className: _
                        }, u.default.createElement("iframe", {
                            className: h,
                            ref: this._iframeRefHandler,
                            frameBorder: "0",
                            width: this.props.width,
                            height: this.props.height,
                            sandbox: "allow-scripts allow-forms",
                            scrolling: "no",
                            src: e.viewerUrl
                        }))
                    }
                }, {
                    key: "_onFrameDoubleClick",
                    value: function(e) {
                        e.preventDefault(), this.props.onDoubleClick()
                    }
                }, {
                    key: "_iframeRefHandler",
                    value: function(e) {
                        this.iframe = e
                    }
                }]), t
            }(u.default.Component);
        v.propTypes = m
    }, function(e, t, n) {
        (function(t, n) {
            ! function(t, n) {
                e.exports = n()
            }(this, function() {
                return function(e) {
                    function t(r) {
                        if (n[r]) return n[r].exports;
                        var i = n[r] = {
                            i: r,
                            l: !1,
                            exports: {}
                        };
                        return e[r].call(i.exports, i, i.exports, t), i.l = !0, i.exports
                    }
                    var n = {};
                    return t.m = e, t.c = n, t.i = function(e) {
                        return e
                    }, t.d = function(e, n, r) {
                        t.o(e, n) || Object.defineProperty(e, n, {
                            configurable: !1,
                            enumerable: !0,
                            get: r
                        })
                    }, t.n = function(e) {
                        var n = e && e.__esModule ? function() {
                            return e.default
                        } : function() {
                            return e
                        };
                        return t.d(n, "a", n), n
                    }, t.o = function(e, t) {
                        return Object.prototype.hasOwnProperty.call(e, t)
                    }, t.p = "", t(t.s = 16)
                }([function(e, t, n) {
                    "use strict";
                    n.d(t, "a", function() {
                        return r
                    }), n.d(t, "b", function() {
                        return i
                    });
                    var r = function() {
                        function e() {}
                        return e
                    }();
                    r.TwitchExtAuth = "twitch-ext-auth", r.TwitchExtBoostrap = "twitch-ext-bootstrap", r.TwitchExtContext = "twitch-ext-context", r.TwitchExtError = "twitch-ext-error", r.TwitchExtLoaded = "twitch-ext-loaded", r.TwitchExtReload = "twitch-ext-reload", r.TwitchExtUserAction = "twitch-ext-user-action";
                    var i = "contextchange"
                }, function(e, t) {
                    try {
                        new MouseEvent("test")
                    } catch (e) {
                        window.MouseEvent = function(e, t) {
                            var n = document.createEvent("MouseEvent"),
                                r = Object.assign({
                                    bubbles: !1,
                                    cancelable: !1,
                                    clientX: 0,
                                    clientY: 0,
                                    ctrlKey: !1,
                                    altKey: !1,
                                    shiftKey: !1,
                                    metaKey: !1,
                                    button: 0,
                                    relatedTarget: null
                                }, t || {});
                            return n.initMouseEvent(e, r.bubbles, r.cancelable, window, r.ctrlKey, r.altKey, r.shiftKey, r.metaKey, r.button, r.relatedTarget), n
                        }, window.MouseEvent.prototype = Event.prototype
                    }
                }, function(e, t, n) {
                    "use strict";
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    }), n.d(t, "ExtensionCoordinator", function() {
                        return l
                    });
                    var r = n(0),
                        i = n(7),
                        a = n(8),
                        o = n(9),
                        s = n(10),
                        l = function() {
                            function e(e, t, o, l, u, c, d) {
                                var f = this;
                                this.extension = e, this.iframe = t, this.ems = u, this.contextManager = c, this.tracker = d, this.throttleDblClick = n.i(s.a)(function(e, t) {
                                    var n = t.payload,
                                        r = e.getBoundingClientRect(),
                                        i = r.left,
                                        a = r.top;
                                    e.dispatchEvent(new MouseEvent("dblclick", {
                                        bubbles: !0,
                                        clientX: n.clientX,
                                        clientY: n.clientY,
                                        screenX: i + n.clientX,
                                        screenY: a + n.clientY
                                    }))
                                }, 1e3), this.handleUserAction = {
                                    click: function(e) {
                                        var t = e.payload,
                                            n = this.iframe.getBoundingClientRect(),
                                            r = n.width,
                                            i = n.height;
                                        this.tracker.trackEvent("extension_click", {
                                            px_mouse_coord_x: t.clientX,
                                            px_mouse_coord_y: t.clientY,
                                            pct_mouse_coord_x: t.clientX / r * 100,
                                            pct_mouse_coord_y: t.clientY / i * 100
                                        })
                                    },
                                    dblclick: function(e) {
                                        this.throttleDblClick(this.iframe, e)
                                    },
                                    mousemove: function(e) {
                                        var t = e.payload,
                                            n = this.iframe.getBoundingClientRect(),
                                            r = n.left,
                                            i = n.top;
                                        this.iframe.dispatchEvent(new MouseEvent("mousemove", {
                                            bubbles: !0,
                                            clientX: t.clientX,
                                            clientY: t.clientY,
                                            screenX: r + t.clientX,
                                            screenY: i + t.clientY
                                        }))
                                    },
                                    focusin: function(e) {
                                        e.payload;
                                        if ("video_overlay" === this.extension.anchor) {
                                            for (var t = this.iframe; t && !t.hasAttribute("tabindex");) t = t.parentElement;
                                            t && t.focus()
                                        }
                                    }
                                }, this.destroy = function() {
                                    f.contextManager.destroy(), f.ems.destroy(), f.eventListeners.forEach(function(e) {
                                        e.target.removeEventListener(e.event, e.callback)
                                    })
                                }, this.reloadExtension = function(e) {
                                    f.ems.token = e, f.sendMessage({
                                        action: r.a.TwitchExtReload
                                    })
                                }, this.setGame = function(e) {
                                    f.contextManager.setGame(e)
                                }, this.sendMessage = function(e) {
                                    f.iframe.contentWindow.postMessage(e, "*")
                                }, this.onInitialAuth = function() {
                                    f.sendMessage({
                                        action: r.a.TwitchExtBoostrap,
                                        auth: f.ems.auth
                                    })
                                }, this.onContextUpdate = function(e) {
                                    f.sendMessage({
                                        action: r.a.TwitchExtContext,
                                        updatedFields: e,
                                        context: f.contextManager.context
                                    })
                                }, this.onAuthUpdate = function(e) {
                                    f.sendMessage({
                                        action: r.a.TwitchExtAuth,
                                        auth: f.ems.auth
                                    })
                                }, this.onError = function(e) {
                                    f.sendMessage({
                                        action: r.a.TwitchExtError,
                                        message: e
                                    })
                                }, this.onMouseEnter = function(e) {
                                    f.tracker.trackEvent("extension_mouseenter", {})
                                }, this.handleMessage = function(e) {
                                    var t = e.source,
                                        n = e.data;
                                    if (t === f.iframe.contentWindow) try {
                                        f.handleExtensionAction(n)
                                    } catch (e) {
                                        console.error(e)
                                    }
                                }, this.ems = u || new a.a(e, this.onAuthUpdate, this.onError), this.contextManager = c || new i.a(l, o, this.onContextUpdate), this.eventListeners = [{
                                    target: this.iframe,
                                    event: "mouseenter",
                                    callback: this.onMouseEnter
                                }, {
                                    target: this.iframe.ownerDocument.defaultView,
                                    event: "message",
                                    callback: this.handleMessage
                                }], this.eventListeners.forEach(function(e) {
                                    e.target.addEventListener(e.event, e.callback)
                                }), this.tracker.trackEvent("extension_render", {})
                            }
                            return e.create = function(t) {
                                return new e(t.extension, t.iframe, t.mode, t.playerExtensionsApi, null, null, new o.a({
                                    dobbin: t.dobbin,
                                    extension: t.extension,
                                    extensionMode: t.mode,
                                    iframe: t.iframe,
                                    requiredProps: t.trackingProperties
                                }))
                            }, e.prototype.handleExtensionAction = function(e) {
                                switch (e.action) {
                                    case r.a.TwitchExtLoaded:
                                        this.ems.beginAuthCycle(this.onInitialAuth), this.contextManager.initializeContext(), this.tracker.trackEvent("extension_helper_load_success", {});
                                        break;
                                    case r.a.TwitchExtUserAction:
                                        this.handleUserAction[e.payload.type].call(this, e)
                                }
                            }, e
                        }()
                }, function(e, t, n) {
                    (function(t) {
                        ! function(n) {
                            function r() {}

                            function i(e, t) {
                                return function() {
                                    e.apply(t, arguments)
                                }
                            }

                            function a(e) {
                                if ("object" != typeof this) throw new TypeError("Promises must be constructed via new");
                                if ("function" != typeof e) throw new TypeError("not a function");
                                this._state = 0, this._handled = !1, this._value = void 0, this._deferreds = [], d(e, this)
                            }

                            function o(e, t) {
                                for (; 3 === e._state;) e = e._value;
                                return 0 === e._state ? void e._deferreds.push(t) : (e._handled = !0, void a._immediateFn(function() {
                                    var n = 1 === e._state ? t.onFulfilled : t.onRejected;
                                    if (null === n) return void(1 === e._state ? s : l)(t.promise, e._value);
                                    var r;
                                    try {
                                        r = n(e._value)
                                    } catch (e) {
                                        return void l(t.promise, e)
                                    }
                                    s(t.promise, r)
                                }))
                            }

                            function s(e, t) {
                                try {
                                    if (t === e) throw new TypeError("A promise cannot be resolved with itself.");
                                    if (t && ("object" == typeof t || "function" == typeof t)) {
                                        var n = t.then;
                                        if (t instanceof a) return e._state = 3, e._value = t, void u(e);
                                        if ("function" == typeof n) return void d(i(n, t), e)
                                    }
                                    e._state = 1, e._value = t, u(e)
                                } catch (t) {
                                    l(e, t)
                                }
                            }

                            function l(e, t) {
                                e._state = 2, e._value = t, u(e)
                            }

                            function u(e) {
                                2 === e._state && 0 === e._deferreds.length && a._immediateFn(function() {
                                    e._handled || a._unhandledRejectionFn(e._value)
                                });
                                for (var t = 0, n = e._deferreds.length; t < n; t++) o(e, e._deferreds[t]);
                                e._deferreds = null
                            }

                            function c(e, t, n) {
                                this.onFulfilled = "function" == typeof e ? e : null, this.onRejected = "function" == typeof t ? t : null, this.promise = n
                            }

                            function d(e, t) {
                                var n = !1;
                                try {
                                    e(function(e) {
                                        n || (n = !0, s(t, e))
                                    }, function(e) {
                                        n || (n = !0, l(t, e))
                                    })
                                } catch (e) {
                                    if (n) return;
                                    n = !0, l(t, e)
                                }
                            }
                            var f = setTimeout;
                            a.prototype.catch = function(e) {
                                return this.then(null, e)
                            }, a.prototype.then = function(e, t) {
                                var n = new this.constructor(r);
                                return o(this, new c(e, t, n)), n
                            }, a.all = function(e) {
                                var t = Array.prototype.slice.call(e);
                                return new a(function(e, n) {
                                    function r(a, o) {
                                        try {
                                            if (o && ("object" == typeof o || "function" == typeof o)) {
                                                var s = o.then;
                                                if ("function" == typeof s) return void s.call(o, function(e) {
                                                    r(a, e)
                                                }, n)
                                            }
                                            t[a] = o, 0 === --i && e(t)
                                        } catch (e) {
                                            n(e)
                                        }
                                    }
                                    if (0 === t.length) return e([]);
                                    for (var i = t.length, a = 0; a < t.length; a++) r(a, t[a])
                                })
                            }, a.resolve = function(e) {
                                return e && "object" == typeof e && e.constructor === a ? e : new a(function(t) {
                                    t(e)
                                })
                            }, a.reject = function(e) {
                                return new a(function(t, n) {
                                    n(e)
                                })
                            }, a.race = function(e) {
                                return new a(function(t, n) {
                                    for (var r = 0, i = e.length; r < i; r++) e[r].then(t, n)
                                })
                            }, a._immediateFn = "function" == typeof t && function(e) {
                                t(e)
                            } || function(e) {
                                f(e, 0)
                            }, a._unhandledRejectionFn = function(e) {
                                "undefined" != typeof console && console && console.warn("Possible Unhandled Promise Rejection:", e)
                            }, a._setImmediateFn = function(e) {
                                a._immediateFn = e
                            }, a._setUnhandledRejectionFn = function(e) {
                                a._unhandledRejectionFn = e
                            }, "undefined" != typeof e && e.exports ? e.exports = a : n.Promise || (n.Promise = a)
                        }(this)
                    }).call(t, n(12).setImmediate)
                }, function(e, t) {
                    ! function(e) {
                        "use strict";

                        function t(e) {
                            if ("string" != typeof e && (e = String(e)), /[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e)) throw new TypeError("Invalid character in header field name");
                            return e.toLowerCase()
                        }

                        function n(e) {
                            return "string" != typeof e && (e = String(e)), e
                        }

                        function r(e) {
                            var t = {
                                next: function() {
                                    var t = e.shift();
                                    return {
                                        done: void 0 === t,
                                        value: t
                                    }
                                }
                            };
                            return v.iterable && (t[Symbol.iterator] = function() {
                                return t
                            }), t
                        }

                        function i(e) {
                            this.map = {}, e instanceof i ? e.forEach(function(e, t) {
                                this.append(t, e)
                            }, this) : Array.isArray(e) ? e.forEach(function(e) {
                                this.append(e[0], e[1])
                            }, this) : e && Object.getOwnPropertyNames(e).forEach(function(t) {
                                this.append(t, e[t])
                            }, this)
                        }

                        function a(e) {
                            return e.bodyUsed ? Promise.reject(new TypeError("Already read")) : void(e.bodyUsed = !0)
                        }

                        function o(e) {
                            return new Promise(function(t, n) {
                                e.onload = function() {
                                    t(e.result)
                                }, e.onerror = function() {
                                    n(e.error)
                                }
                            })
                        }

                        function s(e) {
                            var t = new FileReader,
                                n = o(t);
                            return t.readAsArrayBuffer(e), n
                        }

                        function l(e) {
                            var t = new FileReader,
                                n = o(t);
                            return t.readAsText(e), n
                        }

                        function u(e) {
                            for (var t = new Uint8Array(e), n = new Array(t.length), r = 0; r < t.length; r++) n[r] = String.fromCharCode(t[r]);
                            return n.join("")
                        }

                        function c(e) {
                            if (e.slice) return e.slice(0);
                            var t = new Uint8Array(e.byteLength);
                            return t.set(new Uint8Array(e)), t.buffer
                        }

                        function d() {
                            return this.bodyUsed = !1, this._initBody = function(e) {
                                if (this._bodyInit = e, e)
                                    if ("string" == typeof e) this._bodyText = e;
                                    else if (v.blob && Blob.prototype.isPrototypeOf(e)) this._bodyBlob = e;
                                else if (v.formData && FormData.prototype.isPrototypeOf(e)) this._bodyFormData = e;
                                else if (v.searchParams && URLSearchParams.prototype.isPrototypeOf(e)) this._bodyText = e.toString();
                                else if (v.arrayBuffer && v.blob && g(e)) this._bodyArrayBuffer = c(e.buffer), this._bodyInit = new Blob([this._bodyArrayBuffer]);
                                else {
                                    if (!v.arrayBuffer || !ArrayBuffer.prototype.isPrototypeOf(e) && !E(e)) throw new Error("unsupported BodyInit type");
                                    this._bodyArrayBuffer = c(e)
                                } else this._bodyText = "";
                                this.headers.get("content-type") || ("string" == typeof e ? this.headers.set("content-type", "text/plain;charset=UTF-8") : this._bodyBlob && this._bodyBlob.type ? this.headers.set("content-type", this._bodyBlob.type) : v.searchParams && URLSearchParams.prototype.isPrototypeOf(e) && this.headers.set("content-type", "application/x-www-form-urlencoded;charset=UTF-8"))
                            }, v.blob && (this.blob = function() {
                                var e = a(this);
                                if (e) return e;
                                if (this._bodyBlob) return Promise.resolve(this._bodyBlob);
                                if (this._bodyArrayBuffer) return Promise.resolve(new Blob([this._bodyArrayBuffer]));
                                if (this._bodyFormData) throw new Error("could not read FormData body as blob");
                                return Promise.resolve(new Blob([this._bodyText]))
                            }, this.arrayBuffer = function() {
                                return this._bodyArrayBuffer ? a(this) || Promise.resolve(this._bodyArrayBuffer) : this.blob().then(s)
                            }), this.text = function() {
                                var e = a(this);
                                if (e) return e;
                                if (this._bodyBlob) return l(this._bodyBlob);
                                if (this._bodyArrayBuffer) return Promise.resolve(u(this._bodyArrayBuffer));
                                if (this._bodyFormData) throw new Error("could not read FormData body as text");
                                return Promise.resolve(this._bodyText)
                            }, v.formData && (this.formData = function() {
                                return this.text().then(_)
                            }), this.json = function() {
                                return this.text().then(JSON.parse)
                            }, this
                        }

                        function f(e) {
                            var t = e.toUpperCase();
                            return b.indexOf(t) > -1 ? t : e;
                        }

                        function p(e, t) {
                            t = t || {};
                            var n = t.body;
                            if (e instanceof p) {
                                if (e.bodyUsed) throw new TypeError("Already read");
                                this.url = e.url, this.credentials = e.credentials, t.headers || (this.headers = new i(e.headers)), this.method = e.method, this.mode = e.mode, n || null == e._bodyInit || (n = e._bodyInit, e.bodyUsed = !0)
                            } else this.url = String(e);
                            if (this.credentials = t.credentials || this.credentials || "omit", !t.headers && this.headers || (this.headers = new i(t.headers)), this.method = f(t.method || this.method || "GET"), this.mode = t.mode || this.mode || null, this.referrer = null, ("GET" === this.method || "HEAD" === this.method) && n) throw new TypeError("Body not allowed for GET or HEAD requests");
                            this._initBody(n)
                        }

                        function _(e) {
                            var t = new FormData;
                            return e.trim().split("&").forEach(function(e) {
                                if (e) {
                                    var n = e.split("="),
                                        r = n.shift().replace(/\+/g, " "),
                                        i = n.join("=").replace(/\+/g, " ");
                                    t.append(decodeURIComponent(r), decodeURIComponent(i))
                                }
                            }), t
                        }

                        function h(e) {
                            var t = new i;
                            return e.split(/\r?\n/).forEach(function(e) {
                                var n = e.split(":"),
                                    r = n.shift().trim();
                                if (r) {
                                    var i = n.join(":").trim();
                                    t.append(r, i)
                                }
                            }), t
                        }

                        function m(e, t) {
                            t || (t = {}), this.type = "default", this.status = "status" in t ? t.status : 200, this.ok = this.status >= 200 && this.status < 300, this.statusText = "statusText" in t ? t.statusText : "OK", this.headers = new i(t.headers), this.url = t.url || "", this._initBody(e)
                        }
                        if (!e.fetch) {
                            var v = {
                                searchParams: "URLSearchParams" in e,
                                iterable: "Symbol" in e && "iterator" in Symbol,
                                blob: "FileReader" in e && "Blob" in e && function() {
                                    try {
                                        return new Blob, !0
                                    } catch (e) {
                                        return !1
                                    }
                                }(),
                                formData: "FormData" in e,
                                arrayBuffer: "ArrayBuffer" in e
                            };
                            if (v.arrayBuffer) var y = ["[object Int8Array]", "[object Uint8Array]", "[object Uint8ClampedArray]", "[object Int16Array]", "[object Uint16Array]", "[object Int32Array]", "[object Uint32Array]", "[object Float32Array]", "[object Float64Array]"],
                                g = function(e) {
                                    return e && DataView.prototype.isPrototypeOf(e)
                                },
                                E = ArrayBuffer.isView || function(e) {
                                    return e && y.indexOf(Object.prototype.toString.call(e)) > -1
                                };
                            i.prototype.append = function(e, r) {
                                e = t(e), r = n(r);
                                var i = this.map[e];
                                this.map[e] = i ? i + "," + r : r
                            }, i.prototype.delete = function(e) {
                                delete this.map[t(e)]
                            }, i.prototype.get = function(e) {
                                return e = t(e), this.has(e) ? this.map[e] : null
                            }, i.prototype.has = function(e) {
                                return this.map.hasOwnProperty(t(e))
                            }, i.prototype.set = function(e, r) {
                                this.map[t(e)] = n(r)
                            }, i.prototype.forEach = function(e, t) {
                                for (var n in this.map) this.map.hasOwnProperty(n) && e.call(t, this.map[n], n, this)
                            }, i.prototype.keys = function() {
                                var e = [];
                                return this.forEach(function(t, n) {
                                    e.push(n)
                                }), r(e)
                            }, i.prototype.values = function() {
                                var e = [];
                                return this.forEach(function(t) {
                                    e.push(t)
                                }), r(e)
                            }, i.prototype.entries = function() {
                                var e = [];
                                return this.forEach(function(t, n) {
                                    e.push([n, t])
                                }), r(e)
                            }, v.iterable && (i.prototype[Symbol.iterator] = i.prototype.entries);
                            var b = ["DELETE", "GET", "HEAD", "OPTIONS", "POST", "PUT"];
                            p.prototype.clone = function() {
                                return new p(this, {
                                    body: this._bodyInit
                                })
                            }, d.call(p.prototype), d.call(m.prototype), m.prototype.clone = function() {
                                return new m(this._bodyInit, {
                                    status: this.status,
                                    statusText: this.statusText,
                                    headers: new i(this.headers),
                                    url: this.url
                                })
                            }, m.error = function() {
                                var e = new m(null, {
                                    status: 0,
                                    statusText: ""
                                });
                                return e.type = "error", e
                            };
                            var T = [301, 302, 303, 307, 308];
                            m.redirect = function(e, t) {
                                if (T.indexOf(t) === -1) throw new RangeError("Invalid status code");
                                return new m(null, {
                                    status: t,
                                    headers: {
                                        location: e
                                    }
                                })
                            }, e.Headers = i, e.Request = p, e.Response = m, e.fetch = function(e, t) {
                                return new Promise(function(n, r) {
                                    var i = new p(e, t),
                                        a = new XMLHttpRequest;
                                    a.onload = function() {
                                        var e = {
                                            status: a.status,
                                            statusText: a.statusText,
                                            headers: h(a.getAllResponseHeaders() || "")
                                        };
                                        e.url = "responseURL" in a ? a.responseURL : e.headers.get("X-Request-URL");
                                        var t = "response" in a ? a.response : a.responseText;
                                        n(new m(t, e))
                                    }, a.onerror = function() {
                                        r(new TypeError("Network request failed"))
                                    }, a.ontimeout = function() {
                                        r(new TypeError("Network request failed"))
                                    }, a.open(i.method, i.url, !0), "include" === i.credentials && (a.withCredentials = !0), "responseType" in a && v.blob && (a.responseType = "blob"), i.headers.forEach(function(e, t) {
                                        a.setRequestHeader(t, e)
                                    }), a.send("undefined" == typeof i._bodyInit ? null : i._bodyInit)
                                })
                            }, e.fetch.polyfill = !0
                        }
                    }("undefined" != typeof self ? self : this)
                }, function(e, t, n) {
                    "use strict";

                    function r(e) {
                        if (e.status >= 200 && e.status < 300) return e;
                        var t = new Error(e.statusText);
                        throw t.response = e, t
                    }
                    n.d(t, "b", function() {
                        return o
                    }), n.d(t, "c", function() {
                        return s
                    }), n.d(t, "a", function() {
                        return l
                    }), n.d(t, "d", function() {
                        return u
                    });
                    var i = this && this.__assign || Object.assign || function(e) {
                            for (var t, n = 1, r = arguments.length; n < r; n++) {
                                t = arguments[n];
                                for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i])
                            }
                            return e
                        },
                        a = "jzkbprff40iqj646a697cyrvl0zt2m6",
                        o = "https://api.twitch.tv",
                        s = "v5",
                        l = {
                            "Content-Type": "application/json"
                        },
                        u = function(e) {
                            var t = new Headers(i({}, l, {
                                    "Client-ID": a
                                })),
                                n = new Request(o + "/api/viewer/token.json", {
                                    credentials: "include",
                                    headers: t
                                });
                            return c(n).then(function(t) {
                                var n = t.token;
                                return e.headers.append("Authorization", "OAuth " + n), c(e)
                            }).catch(function(t) {
                                if (401 === t.response.status) return c(e)
                            })
                        },
                        c = function(e) {
                            return fetch(e).then(r).then(function(e) {
                                return e.json()
                            })
                        }
                }, function(e, t, n) {
                    "use strict";
                    n.d(t, "b", function() {
                        return a
                    }), n.d(t, "a", function() {
                        return o
                    });
                    var r = n(5),
                        i = this && this.__assign || Object.assign || function(e) {
                            for (var t, n = 1, r = arguments.length; n < r; n++) {
                                t = arguments[n];
                                for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i])
                            }
                            return e
                        },
                        a = function(e, t) {
                            var a = new Headers(i({}, r.a, {
                                    "Client-ID": e
                                })),
                                o = new Request(r.b + "/" + r.c + "/channels/" + t + "/extensions", {
                                    headers: a,
                                    method: "GET"
                                });
                            return n.i(r.d)(o)
                        },
                        o = function(e, t, a) {
                            var o = new Headers(i({}, r.a, {
                                    "Client-ID": e
                                })),
                                s = new Request(r.b + "/" + r.c + "/extensions/" + e + "/auth/refresh/" + t, {
                                    body: JSON.stringify({
                                        token: a
                                    }),
                                    headers: o,
                                    method: "POST"
                                });
                            return n.i(r.d)(s)
                        }
                }, function(e, t, n) {
                    "use strict";
                    n.d(t, "a", function() {
                        return i
                    });
                    var r = n(0),
                        i = function() {
                            function e(e, t, n) {
                                var i = this;
                                this.playerExtensionsApi = e, this.extensionMode = t, this.onContextUpdate = n, this.context = {}, this.isContextInitialized = !1, this.currentGame = "", this.destroy = function() {
                                    i.playerExtensionsApi.off(r.b, i.updateLocalContext)
                                }, this.initializeContext = function() {
                                    i.isContextInitialized = !0, i.updateLocalContext()
                                }, this.setGame = function(e) {
                                    i.currentGame = e, i.updateLocalContext()
                                }, this.initEvents = function() {
                                    i.playerExtensionsApi.setStatsEnabled(!0), i.playerExtensionsApi.on(r.b, i.updateLocalContext)
                                }, this.refreshContext = function() {
                                    var e = {
                                        mode: i.extensionMode
                                    };
                                    if ("viewer" === i.extensionMode) {
                                        var t = i.playerExtensionsApi.stats;
                                        e.bitrate = t.playbackRate, e.bufferSize = t.bufferSize, e.displayResolution = t.displayResolution, e.game = i.currentGame, e.hlsLatencyBroadcaster = t.hlsLatencyBroadcaster, e.isFullScreen = i.playerExtensionsApi.fullscreen, e.isPaused = i.playerExtensionsApi.paused, e.isTheatreMode = i.playerExtensionsApi.theatre, e.videoResolution = t.videoResolution
                                    }
                                    return e
                                }, this.updateLocalContext = function() {
                                    var e = i.refreshContext(),
                                        t = Object.keys(e),
                                        n = t.reduce(function(t, n) {
                                            return i.context[n] !== e[n] && t.push(n), t
                                        }, []);
                                    i.isContextInitialized && n.length > 0 && (i.context = e, i.onContextUpdate(n))
                                }, this.initEvents()
                            }
                            return e
                        }()
                }, function(e, t, n) {
                    "use strict";
                    n.d(t, "a", function() {
                        return i
                    });
                    var r = n(6),
                        i = function() {
                            function e(e, t, i) {
                                var a = this;
                                this.extension = e, this.onAuthUpdate = t, this.onAnyFailure = i, this.refreshTimeout = null, this.beginAuthCycle = function(e) {
                                    clearTimeout(a.refreshTimeout), a.refreshTimeout = null;
                                    var t = a.calculateRefreshAfter();
                                    t <= 0 ? a.refreshAuth(a.auth).then(function(t) {
                                        a.extension.token = t, e(), a.cycleExtensionAuth()
                                    }) : (e(), a.cycleExtensionAuth())
                                }, this.destroy = function() {
                                    void 0 !== a.refreshTimeout && (clearTimeout(a.refreshTimeout), a.refreshTimeout = null)
                                }, this.cycleExtensionAuth = function() {
                                    var e = a.calculateRefreshAfter();
                                    a.refreshTimeout = setTimeout(function() {
                                        a.refreshAuth(a.auth).then(function(e) {
                                            a.extension.token = e, a.onAuthUpdate(), a.cycleExtensionAuth()
                                        })
                                    }, e)
                                }, this.decodeTokenPayload = function(e) {
                                    var t, n = {
                                            channel_id: "",
                                            exp: 0,
                                            opaque_user_id: "",
                                            pubsub_perms: {
                                                listen: [],
                                                send: []
                                            },
                                            role: "",
                                            user_id: ""
                                        },
                                        r = e.split(".")[1];
                                    try {
                                        t = JSON.parse(atob(r))
                                    } catch (e) {
                                        return a.onAnyFailure("failed to parse token payload"), n
                                    }
                                    return t
                                }, this.calculateRefreshAfter = function() {
                                    var e = a.extension.token,
                                        t = a.decodeTokenPayload(e),
                                        n = Date.now(),
                                        r = Math.max(0, .9 * (1e3 * t.exp - n));
                                    return r
                                }, this.refreshAuth = function(e) {
                                    return clearTimeout(a.refreshTimeout), a.refreshTimeout = null, n.i(r.a)(a.auth.clientId, a.auth.channelId, a.auth.token).catch(function() {
                                        return a.getTokenFromExtensions()
                                    }).then(function(e) {
                                        var t = e.token;
                                        return t ? Promise.resolve(t) : (a.onAnyFailure("token refresh failed"), Promise.reject(""))
                                    })
                                }, this.getTokenFromExtensions = function() {
                                    return n.i(r.b)(a.auth.clientId, a.auth.channelId).then(function(e) {
                                        var t = e.tokens;
                                        return {
                                            token: t.reduce(function(e, t) {
                                                var n = t.extension_id,
                                                    r = t.token;
                                                return n === a.auth.clientId ? r : e
                                            }, null)
                                        }
                                    })
                                }
                            }
                            return Object.defineProperty(e.prototype, "auth", {
                                get: function() {
                                    var e = this.decodeTokenPayload(this.extension.token);
                                    return {
                                        channelId: e.channel_id,
                                        clientId: this.extension.clientId,
                                        token: this.extension.token,
                                        userId: e.opaque_user_id
                                    }
                                },
                                enumerable: !0,
                                configurable: !0
                            }), Object.defineProperty(e.prototype, "token", {
                                set: function(e) {
                                    this.extension.token = e
                                },
                                enumerable: !0,
                                configurable: !0
                            }), e
                        }()
                }, function(e, t, n) {
                    "use strict";
                    n.d(t, "a", function() {
                        return a
                    });
                    var r = n(11),
                        i = this && this.__assign || Object.assign || function(e) {
                            for (var t, n = 1, r = arguments.length; n < r; n++) {
                                t = arguments[n];
                                for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i])
                            }
                            return e
                        },
                        a = function() {
                            function e(e) {
                                this.dobbin = e.dobbin;
                                var t = n.i(r.a)(e.iframe.ownerDocument.referrer);
                                this.trackingProperties = i({}, e.requiredProps, {
                                    url: e.iframe.ownerDocument.location.href,
                                    host: e.iframe.ownerDocument.location.host,
                                    domain: e.iframe.ownerDocument.domain,
                                    user_agent: e.iframe.ownerDocument.defaultView.navigator.userAgent,
                                    referrer_url: e.iframe.ownerDocument.referrer,
                                    referrer_host: t.host,
                                    extension_id: e.extension.id,
                                    extension_version: e.extension.version,
                                    extension_anchor: e.extension.anchor,
                                    extension_mode: e.extensionMode
                                })
                            }
                            return e.prototype.trackEvent = function(e, t) {
                                var n = i({}, t, this.trackingProperties);
                                this.dobbin.trackEvent(e, n, ["spade"])
                            }, e
                        }()
                }, function(e, t, n) {
                    "use strict";
                    n.d(t, "a", function() {
                        return r
                    });
                    var r = function(e, t) {
                        var n = !1;
                        return function() {
                            for (var r = [], i = 0; i < arguments.length; i++) r[i] = arguments[i];
                            n || (n = !0, setTimeout(function() {
                                n = !1
                            }, t), e.apply(null, r))
                        }
                    }
                }, function(e, t, n) {
                    "use strict";
                    n.d(t, "a", function() {
                        return r
                    });
                    var r = function(e) {
                        var t = document.createElement("a");
                        return t.href = e, {
                            host: t.host
                        }
                    }
                }, function(e, r, i) {
                    function a(e, t) {
                        this._id = e, this._clearFn = t
                    }
                    var o = Function.prototype.apply;
                    r.setTimeout = function() {
                        return new a(o.call(setTimeout, window, arguments), clearTimeout)
                    }, r.setInterval = function() {
                        return new a(o.call(setInterval, window, arguments), clearInterval)
                    }, r.clearTimeout = r.clearInterval = function(e) {
                        e && e.close()
                    }, a.prototype.unref = a.prototype.ref = function() {}, a.prototype.close = function() {
                        this._clearFn.call(window, this._id)
                    }, r.enroll = function(e, t) {
                        clearTimeout(e._idleTimeoutId), e._idleTimeout = t
                    }, r.unenroll = function(e) {
                        clearTimeout(e._idleTimeoutId), e._idleTimeout = -1
                    }, r._unrefActive = r.active = function(e) {
                        clearTimeout(e._idleTimeoutId);
                        var t = e._idleTimeout;
                        t >= 0 && (e._idleTimeoutId = setTimeout(function() {
                            e._onTimeout && e._onTimeout()
                        }, t))
                    }, i(14), r.setImmediate = t, r.clearImmediate = n
                }, function(e, t) {
                    function n() {
                        throw new Error("setTimeout has not been defined")
                    }

                    function r() {
                        throw new Error("clearTimeout has not been defined")
                    }

                    function i(e) {
                        if (c === setTimeout) return setTimeout(e, 0);
                        if ((c === n || !c) && setTimeout) return c = setTimeout, setTimeout(e, 0);
                        try {
                            return c(e, 0)
                        } catch (t) {
                            try {
                                return c.call(null, e, 0)
                            } catch (t) {
                                return c.call(this, e, 0)
                            }
                        }
                    }

                    function a(e) {
                        if (d === clearTimeout) return clearTimeout(e);
                        if ((d === r || !d) && clearTimeout) return d = clearTimeout, clearTimeout(e);
                        try {
                            return d(e)
                        } catch (t) {
                            try {
                                return d.call(null, e)
                            } catch (t) {
                                return d.call(this, e)
                            }
                        }
                    }

                    function o() {
                        h && p && (h = !1, p.length ? _ = p.concat(_) : m = -1, _.length && s())
                    }

                    function s() {
                        if (!h) {
                            var e = i(o);
                            h = !0;
                            for (var t = _.length; t;) {
                                for (p = _, _ = []; ++m < t;) p && p[m].run();
                                m = -1, t = _.length
                            }
                            p = null, h = !1, a(e)
                        }
                    }

                    function l(e, t) {
                        this.fun = e, this.array = t
                    }

                    function u() {}
                    var c, d, f = e.exports = {};
                    ! function() {
                        try {
                            c = "function" == typeof setTimeout ? setTimeout : n
                        } catch (e) {
                            c = n
                        }
                        try {
                            d = "function" == typeof clearTimeout ? clearTimeout : r
                        } catch (e) {
                            d = r
                        }
                    }();
                    var p, _ = [],
                        h = !1,
                        m = -1;
                    f.nextTick = function(e) {
                        var t = new Array(arguments.length - 1);
                        if (arguments.length > 1)
                            for (var n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];
                        _.push(new l(e, t)), 1 !== _.length || h || i(s)
                    }, l.prototype.run = function() {
                        this.fun.apply(null, this.array)
                    }, f.title = "browser", f.browser = !0, f.env = {}, f.argv = [], f.version = "", f.versions = {}, f.on = u, f.addListener = u, f.once = u, f.off = u, f.removeListener = u, f.removeAllListeners = u, f.emit = u, f.prependListener = u, f.prependOnceListener = u, f.listeners = function(e) {
                        return []
                    }, f.binding = function(e) {
                        throw new Error("process.binding is not supported")
                    }, f.cwd = function() {
                        return "/"
                    }, f.chdir = function(e) {
                        throw new Error("process.chdir is not supported")
                    }, f.umask = function() {
                        return 0
                    }
                }, function(e, t, n) {
                    (function(e, t) {
                        ! function(e, n) {
                            "use strict";

                            function r(e) {
                                "function" != typeof e && (e = new Function("" + e));
                                for (var t = new Array(arguments.length - 1), n = 0; n < t.length; n++) t[n] = arguments[n + 1];
                                var r = {
                                    callback: e,
                                    args: t
                                };
                                return h[_] = r, p(_), _++
                            }

                            function i(e) {
                                delete h[e]
                            }

                            function a(e) {
                                var t = e.callback,
                                    r = e.args;
                                switch (r.length) {
                                    case 0:
                                        t();
                                        break;
                                    case 1:
                                        t(r[0]);
                                        break;
                                    case 2:
                                        t(r[0], r[1]);
                                        break;
                                    case 3:
                                        t(r[0], r[1], r[2]);
                                        break;
                                    default:
                                        t.apply(n, r)
                                }
                            }

                            function o(e) {
                                if (m) setTimeout(o, 0, e);
                                else {
                                    var t = h[e];
                                    if (t) {
                                        m = !0;
                                        try {
                                            a(t)
                                        } finally {
                                            i(e), m = !1
                                        }
                                    }
                                }
                            }

                            function s() {
                                p = function(e) {
                                    t.nextTick(function() {
                                        o(e)
                                    })
                                }
                            }

                            function l() {
                                if (e.postMessage && !e.importScripts) {
                                    var t = !0,
                                        n = e.onmessage;
                                    return e.onmessage = function() {
                                        t = !1
                                    }, e.postMessage("", "*"), e.onmessage = n, t
                                }
                            }

                            function u() {
                                var t = "setImmediate$" + Math.random() + "$",
                                    n = function(n) {
                                        n.source === e && "string" == typeof n.data && 0 === n.data.indexOf(t) && o(+n.data.slice(t.length))
                                    };
                                e.addEventListener ? e.addEventListener("message", n, !1) : e.attachEvent("onmessage", n), p = function(n) {
                                    e.postMessage(t + n, "*")
                                }
                            }

                            function c() {
                                var e = new MessageChannel;
                                e.port1.onmessage = function(e) {
                                    var t = e.data;
                                    o(t)
                                }, p = function(t) {
                                    e.port2.postMessage(t)
                                }
                            }

                            function d() {
                                var e = v.documentElement;
                                p = function(t) {
                                    var n = v.createElement("script");
                                    n.onreadystatechange = function() {
                                        o(t), n.onreadystatechange = null, e.removeChild(n), n = null
                                    }, e.appendChild(n)
                                }
                            }

                            function f() {
                                p = function(e) {
                                    setTimeout(o, 0, e)
                                }
                            }
                            if (!e.setImmediate) {
                                var p, _ = 1,
                                    h = {},
                                    m = !1,
                                    v = e.document,
                                    y = Object.getPrototypeOf && Object.getPrototypeOf(e);
                                y = y && y.setTimeout ? y : e, "[object process]" === {}.toString.call(e.process) ? s() : l() ? u() : e.MessageChannel ? c() : v && "onreadystatechange" in v.createElement("script") ? d() : f(), y.setImmediate = r, y.clearImmediate = i
                            }
                        }("undefined" == typeof self ? "undefined" == typeof e ? this : e : self)
                    }).call(t, n(15), n(13))
                }, function(e, t) {
                    var n;
                    n = function() {
                        return this
                    }();
                    try {
                        n = n || Function("return this")() || (0, eval)("this")
                    } catch (e) {
                        "object" == typeof window && (n = window)
                    }
                    e.exports = n
                }, function(e, t, n) {
                    n(1), n(4), n(3), e.exports = n(2)
                }])
            })
        }).call(t, n(665).setImmediate, n(665).clearImmediate)
    }, function(e, t, n) {
        function r(e, t) {
            this._id = e, this._clearFn = t
        }
        var i = Function.prototype.apply;
        t.setTimeout = function() {
            return new r(i.call(setTimeout, window, arguments), clearTimeout)
        }, t.setInterval = function() {
            return new r(i.call(setInterval, window, arguments), clearInterval)
        }, t.clearTimeout = t.clearInterval = function(e) {
            e && e.close()
        }, r.prototype.unref = r.prototype.ref = function() {}, r.prototype.close = function() {
            this._clearFn.call(window, this._id)
        }, t.enroll = function(e, t) {
            clearTimeout(e._idleTimeoutId), e._idleTimeout = t
        }, t.unenroll = function(e) {
            clearTimeout(e._idleTimeoutId), e._idleTimeout = -1
        }, t._unrefActive = t.active = function(e) {
            clearTimeout(e._idleTimeoutId);
            var t = e._idleTimeout;
            t >= 0 && (e._idleTimeoutId = setTimeout(function() {
                e._onTimeout && e._onTimeout()
            }, t))
        }, n(666), t.setImmediate = setImmediate, t.clearImmediate = clearImmediate
    }, function(e, t, n) {
        (function(e, t) {
            ! function(e, n) {
                "use strict";

                function r(e) {
                    "function" != typeof e && (e = new Function("" + e));
                    for (var t = new Array(arguments.length - 1), n = 0; n < t.length; n++) t[n] = arguments[n + 1];
                    var r = {
                        callback: e,
                        args: t
                    };
                    return h[_] = r, p(_), _++
                }

                function i(e) {
                    delete h[e]
                }

                function a(e) {
                    var t = e.callback,
                        r = e.args;
                    switch (r.length) {
                        case 0:
                            t();
                            break;
                        case 1:
                            t(r[0]);
                            break;
                        case 2:
                            t(r[0], r[1]);
                            break;
                        case 3:
                            t(r[0], r[1], r[2]);
                            break;
                        default:
                            t.apply(n, r)
                    }
                }

                function o(e) {
                    if (m) setTimeout(o, 0, e);
                    else {
                        var t = h[e];
                        if (t) {
                            m = !0;
                            try {
                                a(t)
                            } finally {
                                i(e), m = !1
                            }
                        }
                    }
                }

                function s() {
                    p = function(e) {
                        t.nextTick(function() {
                            o(e)
                        })
                    }
                }

                function l() {
                    if (e.postMessage && !e.importScripts) {
                        var t = !0,
                            n = e.onmessage;
                        return e.onmessage = function() {
                            t = !1
                        }, e.postMessage("", "*"), e.onmessage = n, t
                    }
                }

                function u() {
                    var t = "setImmediate$" + Math.random() + "$",
                        n = function(n) {
                            n.source === e && "string" == typeof n.data && 0 === n.data.indexOf(t) && o(+n.data.slice(t.length))
                        };
                    e.addEventListener ? e.addEventListener("message", n, !1) : e.attachEvent("onmessage", n), p = function(n) {
                        e.postMessage(t + n, "*")
                    }
                }

                function c() {
                    var e = new MessageChannel;
                    e.port1.onmessage = function(e) {
                        var t = e.data;
                        o(t)
                    }, p = function(t) {
                        e.port2.postMessage(t)
                    }
                }

                function d() {
                    var e = v.documentElement;
                    p = function(t) {
                        var n = v.createElement("script");
                        n.onreadystatechange = function() {
                            o(t), n.onreadystatechange = null, e.removeChild(n), n = null
                        }, e.appendChild(n)
                    }
                }

                function f() {
                    p = function(e) {
                        setTimeout(o, 0, e)
                    }
                }
                if (!e.setImmediate) {
                    var p, _ = 1,
                        h = {},
                        m = !1,
                        v = e.document,
                        y = Object.getPrototypeOf && Object.getPrototypeOf(e);
                    y = y && y.setTimeout ? y : e, "[object process]" === {}.toString.call(e.process) ? s() : l() ? u() : e.MessageChannel ? c() : v && "onreadystatechange" in v.createElement("script") ? d() : f(), y.setImmediate = r, y.clearImmediate = i
                }
            }("undefined" == typeof self ? "undefined" == typeof e ? this : e : self)
        }).call(t, function() {
            return this
        }(), n(342))
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e, t, n) {
            return t in e ? Object.defineProperty(e, t, {
                value: n,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : e[t] = n, e
        }

        function a(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function o(e, t) {
            if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !t || "object" != typeof t && "function" != typeof t ? e : t
        }

        function s(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.ExtensionAttribution = t.ExtensionAttributionComponent = t.EXT_ATTRIBUTION_SUMMARY_CLASS = t.EXT_ATTRIBUTION_REPORT_CLASS = t.EXT_ATTRIBUTION_INFO_DIALOG_CLASS = t.EXT_ATTRIBUTION_PERMISSIONS_DIALOG_CLASS = t.EXT_ATTRIBUTION_DIALOG_CLASS = t.TWITCH_EXT_DETAILS_BASE = t.EXT_ATTRIBUTION_LINK_CLASS = void 0;
        var l = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            u = n(277),
            c = r(u),
            d = n(307),
            f = r(d),
            p = n(219),
            _ = n(668),
            h = n(669),
            m = n(670),
            v = n(672),
            y = n(615),
            g = n(616),
            E = n(311),
            b = n(310),
            T = r(b),
            S = t.EXT_ATTRIBUTION_LINK_CLASS = "extension-attribution__link",
            A = t.TWITCH_EXT_DETAILS_BASE = "https://www.twitch.tv/ext",
            C = t.EXT_ATTRIBUTION_DIALOG_CLASS = "extension-dialog",
            P = t.EXT_ATTRIBUTION_PERMISSIONS_DIALOG_CLASS = C + " extension-dialog__permissions",
            O = t.EXT_ATTRIBUTION_INFO_DIALOG_CLASS = C + " extension-dialog__info",
            w = t.EXT_ATTRIBUTION_REPORT_CLASS = "extension-attribution__report",
            k = t.EXT_ATTRIBUTION_SUMMARY_CLASS = "extension-dialog__summary",
            I = "closed",
            N = "permissions",
            R = "more info",
            L = "report",
            M = "Report Extension",
            D = "#icon_report_flag",
            j = {
                t: f.default.func.isRequired,
                isLoggedIn: f.default.bool.isRequired,
                onIdentityToggle: f.default.func,
                extension: f.default.shape({
                    id: f.default.string.isRequired,
                    name: f.default.string.isRequired,
                    summary: f.default.string.isRequired,
                    version: f.default.string.isRequired,
                    token: f.default.shape({
                        token: f.default.string.isRequired,
                        permissionsState: f.default.string.isRequired,
                        role: f.default.string.isRequired
                    })
                }).isRequired,
                trackEvent: f.default.func.isRequired,
                channel: f.default.string
            },
            x = {
                channel: "",
                onIdentityToggle: function() {}
            },
            U = t.ExtensionAttributionComponent = function(e) {
                function t(e) {
                    a(this, t);
                    var n = o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e));
                    return n._boundOnCancelDialog = n._onCancelDialog.bind(n), n._boundOnUserPermissionClicked = n._onUserPermissionClicked.bind(n), n._boundOnToggleIdentity = n._onToggleIdentity.bind(n), n._boundOnMoreInfoClick = n._onMoreInfoClick.bind(n), n._boundOnExtensionReportClicked = n._onExtensionReportClicked.bind(n), n.state = {
                        dialogState: I
                    }, n
                }
                return s(t, e), l(t, [{
                    key: "render",
                    value: function() {
                        var e = void 0;
                        this.props.extension.token.role !== p.EXTENSION_ROLE_BROADCASTER && this.props.isLoggedIn && (e = c.default.createElement(_.UserPermissionsButton, {
                            isActive: this.state.dialogState === N,
                            onClick: this._boundOnUserPermissionClicked,
                            extension: this.props.extension
                        }));
                        var t = A + "/" + this.props.extension.id + "-" + this.props.extension.version;
                        return c.default.createElement("div", {
                            className: "player-hover extension-attribution"
                        }, c.default.createElement("a", {
                            className: S,
                            href: t,
                            target: "_blank"
                        }, this.props.extension.name), e, c.default.createElement(v.MoreInfoButton, {
                            isActive: this.state.dialogState === R,
                            onClick: this._boundOnMoreInfoClick
                        }), this._renderOpenDialog())
                    }
                }, {
                    key: "_renderUserPermissions",
                    value: function() {
                        var e = this.props.extension.token.permissionsState === p.EXTENSION_PERMISSION_STATE_GRANTED;
                        return c.default.createElement("div", {
                            className: P
                        }, c.default.createElement(h.UserPermissionsPopup, {
                            isPermissionGranted: e,
                            extension: this.props.extension,
                            onToggleIdentity: this._boundOnToggleIdentity,
                            onCancel: this._boundOnCancelDialog
                        }))
                    }
                }, {
                    key: "_renderMoreInfo",
                    value: function() {
                        var e, t = (0, T.default)((e = {}, i(e, k, !0), i(e, "extension-dialog__summary-report", Boolean(this.props.isLoggedIn)), e)),
                            n = (0, T.default)("extension-attribution__button", w),
                            r = void 0;
                        return this.props.isLoggedIn && (r = c.default.createElement(y.Button, {
                            className: n,
                            onClick: this._boundOnExtensionReportClicked
                        }, c.default.createElement(g.Icon, {
                            svgClass: "extension-attribution-icon",
                            label: M,
                            labelClass: "player-tip--aright extension-attribution__tooltip",
                            iconId: D
                        }))), c.default.createElement("div", {
                            className: O
                        }, c.default.createElement("div", {
                            className: t
                        }, this.props.extension.summary), r)
                    }
                }, {
                    key: "_renderExtensionReport",
                    value: function() {
                        return c.default.createElement(m.ExtensionReportPopup, {
                            channel: this.props.channel,
                            extension: this.props.extension,
                            onCancel: this._boundOnCancelDialog
                        })
                    }
                }, {
                    key: "_renderOpenDialog",
                    value: function() {
                        switch (this.state.dialogState) {
                            case N:
                                return this._renderUserPermissions();
                            case R:
                                return this._renderMoreInfo();
                            case L:
                                return this._renderExtensionReport();
                            case I:
                            default:
                                return null
                        }
                    }
                }, {
                    key: "_onCancelDialog",
                    value: function() {
                        this.setState({
                            dialogState: I
                        })
                    }
                }, {
                    key: "_onUserPermissionClicked",
                    value: function() {
                        var e = this.state.dialogState;
                        e = e === N ? I : N, this.setState({
                            dialogState: e
                        })
                    }
                }, {
                    key: "_onExtensionReportClicked",
                    value: function() {
                        var e = this.state.dialogState === L ? I : L;
                        this.setState({
                            dialogState: e
                        }), this.props.trackEvent("extension_ui_interaction_client", {
                            extension_interaction: "report"
                        })
                    }
                }, {
                    key: "_onToggleIdentity",
                    value: function() {
                        this.props.onIdentityToggle(this.props.extension), this.setState({
                            dialogState: I
                        });
                        var e = this.props.extension.token.permissionsState === p.EXTENSION_PERMISSION_STATE_GRANTED;
                        this.props.trackEvent("extension_ui_interaction_client", {
                            extension_interaction: e ? "revoke" : "grant"
                        })
                    }
                }, {
                    key: "_onMoreInfoClick",
                    value: function() {
                        var e = this.state.dialogState;
                        e = e === R ? I : R, this.setState({
                            dialogState: e
                        })
                    }
                }]), t
            }(c.default.Component);
        U.propTypes = j, U.defaultProps = x;
        t.ExtensionAttribution = (0, E.translate)()(U)
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function a(e, t) {
            if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !t || "object" != typeof t && "function" != typeof t ? e : t
        }

        function o(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }

        function s(e, t, n) {
            return t in e ? Object.defineProperty(e, t, {
                value: n,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : e[t] = n, e
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.UserPermissionsButton = t.PERMISSION_ICON_APPROVE = t.PERMISSION_ICON_REVOKE = t.PERMISSION_ICON_GRANT = void 0;
        var l, u, c = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            d = n(277),
            f = r(d),
            p = n(307),
            _ = r(p),
            h = n(615),
            m = n(616),
            v = n(219),
            y = n(310),
            g = r(y),
            E = t.PERMISSION_ICON_GRANT = "grant",
            b = t.PERMISSION_ICON_REVOKE = "revoke",
            T = t.PERMISSION_ICON_APPROVE = "approved",
            S = (l = {}, s(l, v.EXTENSION_PERMISSION_STATE_NONE, [E, E]), s(l, v.EXTENSION_PERMISSION_STATE_GRANTED, [T, b]), l),
            A = (u = {}, s(u, v.EXTENSION_PERMISSION_STATE_NONE, "Grant Permissions"), s(u, v.EXTENSION_PERMISSION_STATE_GRANTED, "Revoke Permissions"), u),
            C = {
                isActive: _.default.bool.isRequired,
                onClick: _.default.func.isRequired,
                extension: _.default.shape({
                    token: _.default.shape({
                        permissionsState: _.default.string.isRequired
                    }).isRequired
                }).isRequired
            },
            P = {
                onClick: function() {}
            },
            O = t.UserPermissionsButton = function(e) {
                function t() {
                    i(this, t);
                    var e = a(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments));
                    return e._boundOnFocus = e._onFocus.bind(e), e._boundOnBlur = e._onBlur.bind(e), e._boundOnMouseOver = e._onMouseOver.bind(e), e._boundOnMouseOut = e._onMouseOut.bind(e), e.state = {
                        isHovered: !1,
                        isFocused: !1
                    }, e
                }
                return o(t, e), c(t, [{
                    key: "render",
                    value: function() {
                        var e = this.props,
                            t = e.isActive,
                            n = e.extension,
                            r = this.state,
                            i = r.isHovered,
                            a = r.isFocused,
                            o = i || a || t,
                            l = this._getPermissionIcon(n.token.permissionsState, o),
                            u = l.iconStateClass,
                            c = l.iconId,
                            d = this._getPermissionLabel(n.token.permissionsState),
                            p = (0, g.default)(s({
                                "extension-attribution-icon": !0,
                                "extension-attribution-icon__active": t
                            }, u, !0));
                        return f.default.createElement("span", {
                            "data-status": n.token.permissionsState
                        }, f.default.createElement(h.Button, {
                            className: "extension-attribution__button",
                            onClick: this.props.onClick,
                            onMouseOver: this._boundOnMouseOver,
                            onMouseOut: this._boundOnMouseOut,
                            onFocus: this._boundOnFocus,
                            onBlur: this._boundOnBlur
                        }, f.default.createElement(m.Icon, {
                            svgClass: p,
                            label: d,
                            labelClass: "player-tip--aright extension-attribution__tooltip",
                            iconId: c
                        })))
                    }
                }, {
                    key: "_onMouseOver",
                    value: function() {
                        this.setState({
                            isHovered: !0
                        })
                    }
                }, {
                    key: "_onMouseOut",
                    value: function() {
                        this.setState({
                            isHovered: !1
                        })
                    }
                }, {
                    key: "_onFocus",
                    value: function() {
                        this.setState({
                            isFocused: !0
                        })
                    }
                }, {
                    key: "_onBlur",
                    value: function() {
                        this.setState({
                            isFocused: !1
                        })
                    }
                }, {
                    key: "_getPermissionIcon",
                    value: function(e, t) {
                        var n = S[e];
                        if (!n) return E;
                        var r = n[t ? 1 : 0];
                        return {
                            iconStateClass: "extension-attribution-icon__" + r,
                            iconId: "#icon_" + r + "_permissions"
                        }
                    }
                }, {
                    key: "_getPermissionLabel",
                    value: function(e) {
                        var t = A[e];
                        return t || A[v.EXTENSION_PERMISSION_STATE_NONE]
                    }
                }]), t
            }(f.default.Component);
        O.propTypes = C, O.defaultProps = P
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e) {
            var t = e.isPermissionGranted,
                n = e.extension,
                r = e.t,
                i = e.onToggleIdentity,
                a = e.onCancel,
                s = void 0,
                l = void 0;
            return t ? (l = o.default.createElement("p", {
                className: h
            }, r("you are revoking the following permissions")), s = o.default.createElement(u.Button, {
                className: E,
                onClick: i
            }, r("Revoke"))) : (l = o.default.createElement("p", {
                className: h
            }, r("can receive the following permissions")), s = o.default.createElement(u.Button, {
                className: g,
                onClick: i
            }, r("Grant"))), o.default.createElement("div", {
                className: p
            }, o.default.createElement("h4", {
                className: _
            }, n.name), l, o.default.createElement("ul", {
                className: "extension-permission-list"
            }, o.default.createElement("li", {
                className: "extension-permission-list-item"
            }, o.default.createElement("span", {
                className: "extension-permission-list-item__name"
            }, r("Your Twitch User ID")), o.default.createElement("div", {
                className: "extension-permission-list-item__desc"
            }, r("Allows this extension to know your User ID on Twitch.")))), o.default.createElement("div", {
                className: "extension-permission-footer"
            }, o.default.createElement(u.Button, {
                className: b,
                onClick: a
            }, r("Cancel")), s))
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.UserPermissionsPopup = t.CANCEL_BUTTON_CLASS = t.REVOKE_BUTTON_CLASS = t.GRANT_BUTTON_CLASS = t.USER_PERMISSIONS_SUBTITLE_CLASS = t.USER_PERMISSIONS_TITLE_CLASS = t.USER_PERMISSIONS_POPUP_CLASS = void 0, t.UserPermissionsPopupComponent = i;
        var a = n(277),
            o = r(a),
            s = n(307),
            l = r(s),
            u = n(615),
            c = n(311),
            d = n(310),
            f = r(d),
            p = t.USER_PERMISSIONS_POPUP_CLASS = "extension-permission",
            _ = t.USER_PERMISSIONS_TITLE_CLASS = "extension-dialog__title",
            h = t.USER_PERMISSIONS_SUBTITLE_CLASS = "extension-dialog__text",
            m = t.GRANT_BUTTON_CLASS = "extension-permission-footer__grant-button",
            v = t.REVOKE_BUTTON_CLASS = "extension-permission-footer__revoke-button",
            y = t.CANCEL_BUTTON_CLASS = "extension-permission-footer__cancel-button",
            g = (0, f.default)("pl-button", "extension-permission-footer__button", m),
            E = (0, f.default)("pl-button", "extension-permission-footer__button", "pl-button--alert", v),
            b = (0, f.default)("pl-button", "pl-button--hollow", "extension-permission-footer__button", y),
            T = {
                t: l.default.func.isRequired,
                isPermissionGranted: l.default.bool.isRequired,
                extension: l.default.shape({
                    name: l.default.string.isRequired
                }).isRequired,
                onToggleIdentity: l.default.func,
                onCancel: l.default.func
            };
        i.propTypes = T;
        t.UserPermissionsPopup = (0, c.translate)()(i)
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e) {
            var t = e.t,
                n = e.channel,
                r = e.extension,
                i = e.onCancel;
            return o.default.createElement("div", {
                className: u
            }, o.default.createElement("h3", {
                className: c
            }, t("Report {{- extensionName}}", {
                extensionName: r.name
            })), o.default.createElement("p", {
                className: d
            }, o.default.createElement(s.Interpolate, {
                i18nKey: "Tell us your concern about this content so that we can review it to determine \t                    whether there has been a violation of the {{tosLink}}. (Abuse of this feature is \t                    violation of the terms of service.)",
                tosLink: o.default.createElement("a", {
                    href: "https://www.twitch.tv/p/terms-of-service",
                    target: "_blank"
                }, "terms of service")
            })), o.default.createElement(l.ExtensionReportForm, {
                channel: n,
                extensionId: r.id,
                extensionName: r.name,
                extensionVerison: r.version,
                onCancel: i
            }))
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.ExtensionReportPopup = t.EXT_REPORT_SUBTITLE_CLASS = t.EXT_REPORT_TITLE_CLASS = t.EXT_REPORT_DIALOG_CLASS = void 0, t.ExtensionReportPopupComponent = i;
        var a = n(277),
            o = r(a),
            s = n(311),
            l = n(671),
            u = t.EXT_REPORT_DIALOG_CLASS = "extension-dialog extension-dialog__info",
            c = t.EXT_REPORT_TITLE_CLASS = "extension-dialog__title",
            d = t.EXT_REPORT_SUBTITLE_CLASS = "extension-dialog__text",
            f = {
                t: a.PropTypes.func.isRequired,
                channel: a.PropTypes.string.isRequired,
                extension: a.PropTypes.shape({
                    id: a.PropTypes.string.isRequired,
                    name: a.PropTypes.string.isRequired,
                    version: a.PropTypes.string.isRequired
                }).isRequired,
                onCancel: a.PropTypes.func.isRequired
            };
        i.propTypes = f;
        t.ExtensionReportPopup = (0, s.translate)()(i)
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e, t, n) {
            return t in e ? Object.defineProperty(e, t, {
                value: n,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : e[t] = n, e
        }

        function a(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function o(e, t) {
            if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !t || "object" != typeof t && "function" != typeof t ? e : t
        }

        function s(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.ExtensionReportForm = t.ExtensionReportFormComponent = t.CANCEL_BUTTON_CLASSES = t.REPORT_INPUT_CLASSES = t.SUBMIT_BUTTON_CLASS = t.CANCEL_BUTTON_CLASS = t.EXTENSION_REPORT_FORM_INPUT_CONTAINER_CLASS = t.EXTENSION_REPORT_FORM_CLASS = void 0;
        var l = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            u = n(277),
            c = r(u),
            d = n(311),
            f = n(615),
            p = n(310),
            _ = r(p),
            h = n(200),
            m = n(117),
            v = r(m),
            y = {
                t: u.PropTypes.func.isRequired,
                channel: u.PropTypes.string.isRequired,
                authenticityToken: u.PropTypes.string.isRequired,
                extensionId: u.PropTypes.string.isRequired,
                extensionName: u.PropTypes.string.isRequired,
                extensionVersion: u.PropTypes.string.isRequired,
                onCancel: u.PropTypes.func.isRequired
            },
            g = t.EXTENSION_REPORT_FORM_CLASS = "extension-dialog__report-inputs",
            E = t.EXTENSION_REPORT_FORM_INPUT_CONTAINER_CLASS = "extension-dialog__report-input",
            b = t.CANCEL_BUTTON_CLASS = "extension-permission-footer__cancel-button",
            T = t.SUBMIT_BUTTON_CLASS = "extension-permission-footer__grant-button",
            S = t.REPORT_INPUT_CLASSES = "pl-form__input ellipsis",
            A = t.CANCEL_BUTTON_CLASSES = (0, _.default)("pl-button", "pl-button--hollow", "extension-permission-footer__button", b),
            C = t.ExtensionReportFormComponent = function(e) {
                function t(e) {
                    a(this, t);
                    var n = o(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments));
                    return n.state = {
                        reported_user: e.channel,
                        authenticity_token: e.authenticityToken,
                        tos_ban: "false",
                        reason: "",
                        description: "",
                        sent: !1
                    }, n._boundOnInputChange = n._onInputChange.bind(n), n._boundOnSubmit = n._onSubmit.bind(n), n
                }
                return s(t, e), l(t, [{
                    key: "_onInputChange",
                    value: function(e) {
                        this.setState(i({}, e.target.name, e.target.value))
                    }
                }, {
                    key: "_onSubmit",
                    value: function() {
                        var e = this,
                            t = [this.state.description, "Interaction ID: " + this.props.extensionId, "Interaction Name: " + this.props.extensionName, "Interaction Version: " + this.props.extensionVersion].join("\n");
                        (0, h.postExtensionReport)((0, v.default)({}, this.state, {
                            description: t
                        })).then(function() {
                            e.setState({
                                sent: !0
                            }), e.forceUpdate()
                        })
                    }
                }, {
                    key: "_canSubmit",
                    value: function() {
                        var e = this.state,
                            t = e.sent,
                            n = e.description,
                            r = e.reason,
                            i = n && r;
                        return !t && i
                    }
                }, {
                    key: "render",
                    value: function() {
                        var e = (0, _.default)("pl-button", {
                            "pl-button--hollow": !this._canSubmit()
                        }, "extension-permission-footer__button", T);
                        return c.default.createElement("form", null, c.default.createElement("div", {
                            className: g
                        }, c.default.createElement("div", {
                            className: E
                        }, c.default.createElement("label", {
                            htmlFor: "reason"
                        }, this.props.t("Select Reason")), c.default.createElement("select", {
                            className: S,
                            name: "reason",
                            value: this.state.reason,
                            onBlur: this._boundOnInputChange,
                            onChange: this._boundOnInputChange
                        }, c.default.createElement("option", {
                            value: ""
                        }, "Select one..."), c.default.createElement("option", {
                            value: "selfharm"
                        }, "Self-Harm"), c.default.createElement("option", {
                            value: "harm"
                        }, "Attempts or Threats to Harm"), c.default.createElement("option", {
                            value: "harassment"
                        }, "Harassment"), c.default.createElement("option", {
                            value: "hate_speech"
                        }, "Hate Speech"), c.default.createElement("option", {
                            value: "impersonation"
                        }, "Impersonation"), c.default.createElement("option", {
                            value: "spam"
                        }, "Spam, Scams, or Other Malicious Content"), c.default.createElement("option", {
                            value: "porn"
                        }, "Porn or Other Sexually Explicit Content"), c.default.createElement("option", {
                            value: "nudity"
                        }, "Nudity or Sexual Behavior/Attire"), c.default.createElement("option", {
                            value: "gore"
                        }, "Extreme Violence, Gore, or Other Obscene Content"), c.default.createElement("option", {
                            value: "cheating"
                        }, "Cheating in Online Game"), c.default.createElement("option", {
                            value: "bits_violation"
                        }, "Bits Acceptable Use Policy Violation"), c.default.createElement("option", {
                            value: "other"
                        }, "Other Terms of Service Violation"))), c.default.createElement("div", {
                            className: E
                        }, c.default.createElement("label", {
                            htmlFor: "description"
                        }, this.props.t("Description")), c.default.createElement("textarea", {
                            className: S,
                            name: "description",
                            value: this.state.description,
                            onChange: this._boundOnInputChange
                        }))), c.default.createElement("div", {
                            className: "extension-permission-footer"
                        }, c.default.createElement(f.Button, {
                            className: A,
                            onClick: this.props.onCancel
                        }, this.props.t("Cancel")), c.default.createElement(f.Button, {
                            disabled: !this._canSubmit(),
                            className: e,
                            onClick: this._boundOnSubmit
                        }, this.props.t(this.state.sent ? "Sent!" : "Send"))))
                    }
                }]), t
            }(c.default.Component);
        C.propTypes = y;
        t.ExtensionReportForm = (0, d.translate)()(C)
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e) {
            var t = e.isActive,
                n = e.onClick,
                r = (0, f.default)({
                    "extension-attribution-icon": !0,
                    "extension-attribution-icon__active": t
                });
            return o.default.createElement(u.Button, {
                className: "extension-attribution__button",
                onClick: n
            }, o.default.createElement(c.Icon, {
                svgClass: r,
                labelClass: "player-tip--aright extension-attribution__tooltip",
                label: "More Info",
                iconId: "#icon_more_info"
            }))
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.MoreInfoButton = i;
        var a = n(277),
            o = r(a),
            s = n(307),
            l = r(s),
            u = n(615),
            c = n(616),
            d = n(310),
            f = r(d),
            p = {
                isActive: l.default.bool.isRequired,
                onClick: l.default.func.isRequired
            };
        i.propTypes = p
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function a(e, t) {
            if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !t || "object" != typeof t && "function" != typeof t ? e : t
        }

        function o(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.NotificationPopUpsWrapper = t.NotificationPopUpsContainer = void 0;
        var s = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            l = n(277),
            u = r(l),
            c = n(307),
            d = r(c),
            f = n(574),
            p = n(275),
            _ = {
                i18n: d.default.object.isRequired,
                windowObj: d.default.object.isRequired,
                notifications: d.default.arrayOf(d.default.func).isRequired,
                removeCurrentNotification: d.default.func,
                menuOpen: d.default.bool.isRequired
            },
            h = function(e) {
                var t = e.notifications,
                    n = e.lang,
                    r = e.ui,
                    i = e.window;
                return {
                    notifications: t,
                    i18n: n,
                    menuOpen: r.showSettings,
                    windowObj: i
                }
            },
            m = function(e) {
                return {
                    removeCurrentNotification: function() {
                        e((0, p.removeNotification)())
                    }
                }
            },
            v = t.NotificationPopUpsContainer = function(e) {
                function t() {
                    i(this, t);
                    var e = a(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments));
                    return e.handleClose = e.handleClose.bind(e), e
                }
                return o(t, e), s(t, [{
                    key: "render",
                    value: function() {
                        var e = this.props,
                            t = e.notifications,
                            n = e.menuOpen;
                        if (!t.length || n) return null;
                        var r = t[0];
                        return u.default.createElement(r, {
                            onClose: this.handleClose,
                            showNotification: !n
                        })
                    }
                }, {
                    key: "handleClose",
                    value: function() {
                        this.props.removeCurrentNotification()
                    }
                }]), t
            }(u.default.Component);
        v.propTypes = _;
        t.NotificationPopUpsWrapper = (0, f.connect)(h, m)(v)
    }, function(e, t, n) {
        "use strict";

        function r(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function i(e, t) {
            if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !t || "object" != typeof t && "function" != typeof t ? e : t
        }

        function a(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.PlayerUIError = void 0;
        var o = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            s = n(416),
            l = n(396);
        t.PlayerUIError = function(e) {
            function t(e, n) {
                r(this, t);
                var a = i(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this));
                return a.$root = e, a._store = n, a.subscribe(a._store, ["screen"], a.onScreenChange.bind(a)), a.onScreenChange(a._store.getState()), a
            }
            return a(t, e), o(t, [{
                key: "onScreenChange",
                value: function(e) {
                    var t = e.screen,
                        n = this._store.getState(),
                        r = n.error,
                        i = n.lang;
                    $(this.$root).attr("data-error", t[0] === l.ERROR_SCREEN), $(".js-player-error", this.$root).text(i.translate(r.error.message))
                }
            }]), t
        }(s.UIStateSubscriber)
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            if (e && e.__esModule) return e;
            var t = {};
            if (null != e)
                for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
            return t.default = e, t
        }

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function a(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.AgeRestrictionOverlay = t.NONE_ATTR = t.MATURE_ATTR = t.AGEGATE_LOCKED_OUT_ATTR = t.AGEGATE_FAILED_ATTR = t.AGEGATE_ATTR = t.KEY_MATURE = t.KEY_AGEGATES_FAILED = t.KEY_AGEGATE = t.AGEGATE_CHANNELS = void 0;
        var o = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            s = n(250),
            l = n(167),
            u = n(220),
            c = n(183),
            d = n(200),
            f = n(332),
            p = n(403),
            _ = n(363),
            h = n(53),
            m = i(h),
            v = n(179),
            y = r(v),
            g = t.AGEGATE_CHANNELS = ["budlight"],
            E = t.KEY_AGEGATE = "age_gate",
            b = t.KEY_AGEGATES_FAILED = "age_gates_failed",
            T = t.KEY_MATURE = "mature",
            S = t.AGEGATE_ATTR = "age-gate",
            A = t.AGEGATE_FAILED_ATTR = "age-gate-failed",
            C = t.AGEGATE_LOCKED_OUT_ATTR = "age-gate-locked-out",
            P = t.MATURE_ATTR = "mature",
            O = t.NONE_ATTR = "none";
        t.AgeRestrictionOverlay = function() {
            function e(t, n, r) {
                var i = this;
                a(this, e), this.$root = $(t), this.player = n, this.store = r, this._setOverlay(O), this._populateAgeDropdowns(), this._unsubscribes = [], this._unsubscribes.push(this._subscribeStream()), this._unsubscribes.push(this._subscribeOnlineStatus()), this.$root.on("click", ".js-player-mature-accept", function(e) {
                    e.preventDefault(), s.localStore.set(T, !0), i._setOverlay(O), i.store.dispatch((0, _.play)()), i.player.setMuted(!1)
                }), this.$root.on("click", ".js-age-gate-submit", function(e) {
                    e.preventDefault(), i._is21OrOlder() ? i._setAgeGatePassed() : (i._setAgeGateFailed(), i._getChannelName().then(i._checkOverlayRequired.bind(i)))
                }), this.player.addEventListener(y.PLAYING, this._onPlaying.bind(this)), this._handleStateUpdate()
            }
            return o(e, [{
                key: "_checkOverlayRequired",
                value: function(e) {
                    var t = this;
                    if ((0, m.default)(g, e))
                        if (1 === this._getAgeGatesFailed(e)) this._setOverlay(A);
                        else if (this._getAgeGatesFailed(e) >= 2) this._setOverlay(C);
                    else {
                        var n = s.localStore.get(E, {});
                        n[e] || this._setOverlay(S)
                    } else(0, d.channelInfo)(e).then(function(e) {
                        var n = e.mature && !s.localStore.get(T, !1);
                        t._setOverlay(n ? P : O)
                    })
                }
            }, {
                key: "_getChannelName",
                value: function() {
                    var e = this.store.getState().stream;
                    switch (e.contentType) {
                        case u.CONTENT_MODE_VOD:
                            return (0, d.videoInfo)(e.videoId).then(function(e) {
                                return e.channel.name
                            });
                        case l.CONTENT_MODE_LIVE:
                            return Promise.resolve(e.channel);
                        default:
                            return Promise.reject()
                    }
                }
            }, {
                key: "_subscribeStream",
                value: function() {
                    var e = this;
                    return (0, c.subscribe)(this.store, ["stream"], function() {
                        e._handleStateUpdate()
                    })
                }
            }, {
                key: "_subscribeOnlineStatus",
                value: function() {
                    var e = this;
                    return (0, c.subscribe)(this.store, ["onlineStatus"], function() {
                        e._handleStateUpdate()
                    })
                }
            }, {
                key: "_handleStateUpdate",
                value: function() {
                    var e = this,
                        t = this.store.getState(),
                        n = t.stream,
                        r = t.onlineStatus;
                    switch (n.contentType) {
                        case u.CONTENT_MODE_VOD:
                            (0, d.videoInfo)(n.videoId).then(function(t) {
                                e._checkOverlayRequired(t.channel.name)
                            });
                            break;
                        case l.CONTENT_MODE_LIVE:
                            r !== p.ONLINE_STATUS ? this._setOverlay(O) : this._checkOverlayRequired(n.channel);
                            break;
                        default:
                            return
                    }
                }
            }, {
                key: "_onPlaying",
                value: function() {
                    this.$root.attr("data-overlay") !== O && (this.player.setMuted(!0), this.store.dispatch((0, _.pause)()))
                }
            }, {
                key: "_setOverlay",
                value: function(e) {
                    this.$root.attr("data-overlay", e), e !== O && (this.player.setMuted(!0, !0), this.store.dispatch((0, f.contentIsShowing)()))
                }
            }, {
                key: "_is21OrOlder",
                value: function() {
                    var e = $(".js-age-gate .js-select-year option:selected", this.$root)[0].value,
                        t = $(".js-age-gate .js-select-month option:selected", this.$root)[0].value,
                        n = $(".js-age-gate .js-select-day option:selected", this.$root)[0].value,
                        r = new Date(e, t, n),
                        i = new Date;
                    return i.setFullYear(i.getFullYear() - 21), r.getTime() <= i.getTime()
                }
            }, {
                key: "_setAgeGatePassed",
                value: function() {
                    var e = this,
                        t = s.localStore.get(E, {});
                    this._getChannelName().then(function(n) {
                        t[n] = !0, s.localStore.set(E, t), e._setOverlay(O), e.store.dispatch((0, _.play)()), e.player.setMuted(!1)
                    })
                }
            }, {
                key: "_getAgeGatesFailed",
                value: function(e) {
                    try {
                        var t = JSON.parse(sessionStorage.getItem(b)) || {};
                        return t[e] || 0
                    } catch (e) {
                        return 0
                    }
                }
            }, {
                key: "_setAgeGateFailed",
                value: function() {
                    this._getChannelName().then(function(e) {
                        var t = void 0;
                        try {
                            t = JSON.parse(sessionStorage.getItem(b)) || {}
                        } catch (e) {
                            t = {}
                        }
                        t[e] ? t[e] = t[e] + 1 : t[e] = 1, sessionStorage.setItem(b, JSON.stringify(t))
                    })
                }
            }, {
                key: "_populateAgeDropdowns",
                value: function() {
                    var e = $(".js-age-gate .js-select-month", this.$root),
                        t = $(".js-age-gate .js-select-year", this.$root);
                    this._populateYearDropdown(), e.on("change", this._populateDayDropdown.bind(this)), t.on("change", this._populateDayDropdown.bind(this)), this._populateDayDropdown()
                }
            }, {
                key: "_populateYearDropdown",
                value: function() {
                    for (var e = (new Date).getFullYear(), t = $(".js-age-gate .js-select-year", this.$root), n = e; n >= e - 100; n--) {
                        var r = document.createElement("option");
                        r.value = n, r.text = n, t[0].add(r)
                    }
                }
            }, {
                key: "_populateDayDropdown",
                value: function() {
                    var e = $(".js-age-gate .js-select-month option:selected", this.$root),
                        t = $(".js-age-gate .js-select-year option:selected", this.$root),
                        n = $(".js-age-gate .js-select-day", this.$root),
                        r = Number(e[0].value) + 1,
                        i = Number(t[0].value);
                    n.empty();
                    for (var a = 1; a <= this._getDaysInMonth(r, i); a++) {
                        var o = document.createElement("option");
                        o.value = a, o.text = a, n[0].add(o)
                    }
                }
            }, {
                key: "_getDaysInMonth",
                value: function(e, t) {
                    switch (e) {
                        case 1:
                        case 3:
                        case 5:
                        case 7:
                        case 8:
                        case 10:
                        case 12:
                            return 31;
                        case 4:
                        case 6:
                        case 9:
                        case 11:
                            return 30;
                        case 2:
                            return t % 4 === 0 ? 29 : 28;
                        default:
                            return console.error("Invalid month value"), 0
                    }
                }
            }, {
                key: "destroy",
                value: function() {
                    this.$root.off("click"), this._unsubscribes.forEach(function(e) {
                        return e()
                    }), $(".js-age-gate .js-select-month", this.$root).off("change"), $(".js-age-gate .js-select-year", this.$root).off("change")
                }
            }]), e
        }()
    }, function(e, t, n) {
        "use strict";

        function r(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function i(e, t) {
            if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !t || "object" != typeof t && "function" != typeof t ? e : t
        }

        function a(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.PlayerUIClipsEnabler = void 0;
        var o = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            s = function e(t, n, r) {
                null === t && (t = Function.prototype);
                var i = Object.getOwnPropertyDescriptor(t, n);
                if (void 0 === i) {
                    var a = Object.getPrototypeOf(t);
                    return null === a ? void 0 : e(a, n, r)
                }
                if ("value" in i) return i.value;
                var o = i.get;
                if (void 0 !== o) return o.call(r)
            },
            l = n(167),
            u = n(220),
            c = n(200),
            d = n(677),
            f = n(416),
            p = n(217),
            _ = n(346),
            h = n(403),
            m = n(432),
            v = ["misterrogers"],
            y = function(e) {
                return v.indexOf(e) === -1
            };
        t.PlayerUIClipsEnabler = function(e) {
            function t(e, n, a, o) {
                r(this, t);
                var s = i(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this));
                return s._store = n, s._clipsControls = new d.PlayerUIClipsControls(e, a, o, n), s.subscribe(s._store, ["stream", "onlineStatus", "backend", "env", "playback", "streamMetadata"], s._subscriptionHandler.bind(s)), s
            }
            return a(t, e), o(t, [{
                key: "_subscriptionHandler",
                value: function(e) {
                    var t = e.stream,
                        n = t.contentType,
                        r = e.onlineStatus,
                        i = e.env.playerType,
                        a = e.playback.hasPlayed,
                        o = e.streamMetadata,
                        s = o.broadcastID,
                        c = o.channel,
                        d = y(c.name),
                        f = e.backend.getBackend() === _.BACKEND_HLS,
                        m = i === p.PLAYER_HIGHLIGHTER || i === p.PLAYER_CURSE,
                        v = n === l.CONTENT_MODE_LIVE && r !== h.ONLINE_STATUS,
                        g = n !== l.CONTENT_MODE_LIVE && n !== u.CONTENT_MODE_VOD,
                        E = Boolean(s),
                        b = d && a && E && !(v || g || m || f);
                    this._toggle(b)
                }
            }, {
                key: "_toggle",
                value: function(e) {
                    var t = this;
                    return this.lastShouldEnable = e, e ? void(0, c.oauthToken)().then(function(e) {
                        var n = e.token;
                        return n && t.lastShouldEnable ? (t._store.dispatch((0, m.showClipsButton)(!0)), t._clipsControls.enableClipsButton()) : Promise.reject("Viewer is not logged in.")
                    }).catch(function() {
                        t._clipsControls.disableClipsButton(), t._store.dispatch((0, m.showClipsButton)(!1))
                    }) : (this._clipsControls.disableClipsButton(), void this._store.dispatch((0, m.showClipsButton)(!1)))
                }
            }, {
                key: "destroy",
                value: function() {
                    s(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "destroy", this).call(this), this._clipsControls.destroy()
                }
            }]), t
        }(f.UIStateSubscriber)
    }, function(e, t, n) {
        "use strict";

        function r(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.PlayerUIClipsControls = void 0;
        var i = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            a = n(251);
        t.PlayerUIClipsControls = function() {
            function e(t, n, i, o) {
                var s = this;
                r(this, e), this.root = t, this.localStore = n, this.clipGenerator = i, this.clipButtonEnabled = !1, this.clipButton.on("click", this.recordClipIfAble.bind(this)), this._store = o;
                var l = this._store.getState(),
                    u = l.experiments;
                u.get(a.CLIPS_CLIPPY_PATENT_PENDING).then(function(e) {
                    "variant1" === e && s.clipsBirthdayHat.css("visibility", "visible")
                })
            }
            return i(e, [{
                key: "enableClipsButton",
                value: function() {
                    this.clipButtonEnabled = !0, this._toggleClipState(!0)
                }
            }, {
                key: "recordClipIfAble",
                value: function() {
                    var e = this._store.getState(),
                        t = e.analyticsTracker;
                    this.clipButtonEnabled && (t.trackEvent("player_click_clip"), this.clipGenerator.recordClip())
                }
            }, {
                key: "_toggleClipState",
                value: function(e) {
                    this.clipButton.attr("data-canclip", e)
                }
            }, {
                key: "disableClipsButton",
                value: function() {
                    this._toggleClipState(!1), this.clipButtonEnabled = !1
                }
            }, {
                key: "destroy",
                value: function() {
                    this.clipButton.off("click")
                }
            }, {
                key: "clipButton",
                get: function() {
                    return $(".js-control-clips", this.root)
                }
            }, {
                key: "clipsBirthdayHat",
                get: function() {
                    return $(".js-player-icon-clips--bday", this.root)
                }
            }]), e
        }()
    }, function(e, t, n) {
        "use strict";

        function r(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function i(e, t) {
            if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !t || "object" != typeof t && "function" != typeof t ? e : t
        }

        function a(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.AdOverlay = void 0;
        var o = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            s = n(416);
        t.AdOverlay = function(e) {
            function t(e, n) {
                r(this, t);
                var a = i(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this));
                return a.$root = e, a._store = n, a.$adOverlay = $(".js-player-ad-overlay"), a.subscribe(a._store, ["ads.clickThrough"], a.onClickThroughChange.bind(a)), a
            }
            return a(t, e), o(t, [{
                key: "destroy",
                value: function() {
                    this.$adOverlay.off("click")
                }
            }, {
                key: "onClickThroughChange",
                value: function(e) {
                    var t = e.ads;
                    "" === t.clickThrough ? this.$adOverlay.removeAttr("href") : this.$adOverlay.attr("href", t.clickThrough)
                }
            }]), t
        }(s.UIStateSubscriber)
    }, function(e, t, n) {
        "use strict";

        function r(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function i(e, t) {
            if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !t || "object" != typeof t && "function" != typeof t ? e : t
        }

        function a(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.CollectionOverlay = t.NO_COLLECTION_VIEW_ATTR = t.SIDEBAR_VIEW_ATTR = t.COLLAPSED_VIEW_ATTR = void 0;
        var o = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            s = function e(t, n, r) {
                null === t && (t = Function.prototype);
                var i = Object.getOwnPropertyDescriptor(t, n);
                if (void 0 === i) {
                    var a = Object.getPrototypeOf(t);
                    return null === a ? void 0 : e(a, n, r)
                }
                if ("value" in i) return i.value;
                var o = i.get;
                if (void 0 !== o) return o.call(r)
            },
            l = n(416),
            u = n(220),
            c = n(333),
            d = n(363),
            f = n(413),
            p = n(396),
            _ = n(680),
            h = n(332),
            m = 400,
            v = 350,
            y = t.COLLAPSED_VIEW_ATTR = "view-collapsed",
            g = t.SIDEBAR_VIEW_ATTR = "view-sidebar",
            E = t.NO_COLLECTION_VIEW_ATTR = "none";
        t.CollectionOverlay = function(e) {
            function t(e, n, a) {
                r(this, t);
                var o = i(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this));
                o._store = a, o.player = n, o.window = o._store.getState().window, o.animateCloseTimeout = null, o.sidebarOpenTimeout = null, o.sidebarCloseTimeout = null, o.$root = $(e), o.$root.attr("data-collection-view", E), o.$sidebarItemTemplate = $(".js-collection-item", o.$root), o.$collectionSidebar = $(".js-collection-sidebar", o.$root), o.$collectionCloseButton = $(".js-icon-close-collection", o.$root), o.$collectionTitle = $(".js-collection-title", o.$root), o.$collectionAuthor = $(".js-collection-author", o.$root), o.$collectionItemsCount = $(".js-collection-items-count", o.$root), o.$collectionTimeLength = $(".js-collection-time-length", o.$root), o.$collectionItemContainer = $(".js-collection-item-container", o.$root), o.$emptyCollectionOverlay = $(".js-empty-collection-overlay", o.$root), o.initInteractions();
                var s = ["collection.title", "collection.owner", "collection.totalDuration"];
                return o.subscribe(o._store, ["ui.isMini"], o.onMiniChange.bind(o)), o.subscribe(o._store, ["collection.currentView"], o.onViewChange.bind(o)), o.subscribe(o._store, s.concat(["lang"]), o.onMetadataChange.bind(o)), o.subscribe(o._store, ["collection.items", "stream", "lang"], o.onItemsChange.bind(o)), o.subscribe(o._store, ["screen"], o.onScreenChange.bind(o)), o
            }
            return a(t, e), o(t, [{
                key: "initInteractions",
                value: function() {
                    var e = this;
                    this.$collectionItemContainer.on("click", ".js-collection-item", this.handleItemSelect.bind(this)), this.$collectionCloseButton.on("click", function() {
                        e.setSidebarVisible(!1)
                    }), $(".js-control-fullscreen-overlay, .js-paused-overlay", this.$root).on("click", function() {
                        var t = e._store.getState(),
                            n = t.collection;
                        n.currentView === f.SIDEBAR_VIEW && e.setSidebarVisible(!1)
                    }), this.$collectionSidebar.hover(function() {
                        var t = e._store.getState(),
                            n = t.collection;
                        e.sidebarCloseTimeout && n.currentView === f.SIDEBAR_VIEW && e.window.clearTimeout(e.sidebarCloseTimeout)
                    }, function() {
                        e._store.getState().collection.currentView === f.SIDEBAR_VIEW && (e.sidebarCloseTimeout = e.window.setTimeout(function() {
                            e.setSidebarVisible(!1)
                        }, m))
                    })
                }
            }, {
                key: "handleItemSelect",
                value: function(e) {
                    e.stopPropagation();
                    var t = $(e.currentTarget).attr("data-vod-id"),
                        n = this._store.getState().collection.id;
                    t && (this._store.dispatch((0, h.selectCollectionVideo)("v" + t, n)), this.setSidebarVisible(!1))
                }
            }, {
                key: "_showSidebarElements",
                value: function() {
                    this.$collectionSidebar.attr("data-show-sidebar", !0)
                }
            }, {
                key: "onScreenChange",
                value: function() {
                    var e = this._store.getState(),
                        t = e.screen,
                        n = e.collection;
                    if (n.id) switch (t[0]) {
                        case p.ADVERTISEMENT_SCREEN:
                        case p.STITCHED_ADVERTISEMENT_SCREEN:
                            this._hideSidebarElements();
                            break;
                        case p.COLLECTION_EMPTY_SCREEN:
                            this._hideSidebarElements(), this._store.dispatch((0, d.pause)()), this.$emptyCollectionOverlay.attr("data-active", !0);
                            break;
                        default:
                            this.onViewChange(), this.$emptyCollectionOverlay.attr("data-active", !1)
                    }
                }
            }, {
                key: "_hideSidebarElements",
                value: function() {
                    this.$collectionSidebar.attr("data-show-sidebar", !1)
                }
            }, {
                key: "onMiniChange",
                value: function() {
                    var e = this._store.getState(),
                        t = e.ui,
                        n = e.collection;
                    n.id && (t.isMini ? this._hideSidebarElements() : this.onViewChange())
                }
            }, {
                key: "setSidebarVisible",
                value: function(e) {
                    e ? this._store.dispatch((0, c.openCollectionSidebar)()) : this._store.dispatch((0, c.closeCollectionSidebar)())
                }
            }, {
                key: "_animateSidebarClose",
                value: function() {
                    var e = this;
                    this.$collectionSidebar.addClass("collection-sidebar-close"), this.animateCloseTimeout = this.window.setTimeout(function() {
                        e.$collectionSidebar.removeClass("collection-sidebar-close")
                    }, v)
                }
            }, {
                key: "onViewChange",
                value: function(e, t) {
                    var n = this._store.getState(),
                        r = n.collection;
                    switch (t && t.collection.currentView === f.SIDEBAR_VIEW && r.currentView !== f.NO_COLLECTION_VIEW && this._animateSidebarClose(), r.currentView) {
                        case f.NO_COLLECTION_VIEW:
                            this._hideSidebarElements(), this.$root.attr("data-collection-view", E);
                            break;
                        case f.COLLAPSED_VIEW:
                            this._hideSidebarElements(), this.$root.attr("data-collection-view", y);
                            break;
                        case f.SIDEBAR_VIEW:
                            this._showSidebarElements(), this.$root.attr("data-collection-view", g);
                            break;
                        default:
                            this._hideSidebarElements(), this.$root.attr("data-collection-view", E)
                    }
                }
            }, {
                key: "onMetadataChange",
                value: function(e) {
                    var t = e.collection,
                        n = e.lang;
                    this.$collectionTitle.text(t.title), this.$collectionAuthor.html(n.translate("By {{author}}", {
                        author: '<a href="https://twitch.tv/' + t.owner.name + '" target="_blank">' + t.owner.displayName + "</a>",
                        interpolation: {
                            escapeValue: !1
                        }
                    }));
                    var r = (0, _.toHumanTime)(t.totalDuration, n);
                    this.$collectionTimeLength.text(r)
                }
            }, {
                key: "onItemsChange",
                value: function(e) {
                    var t = e.collection,
                        n = e.stream,
                        r = e.lang;
                    this.$collectionItemsCount.text(r.translate("{{count}} video", {
                        count: t.items.length
                    }));
                    var i = this._createCollectionItems(t.items, n);
                    this.$collectionItemContainer.html(i)
                }
            }, {
                key: "_createCollectionItems",
                value: function(e, t) {
                    var n = this;
                    return e.map(function(e, r) {
                        var i = n.$sidebarItemTemplate.clone(),
                            a = r + 1;
                        i.find(".js-collection-item-number").text(a), i.attr("data-vod-id", e.itemId), i.find(".js-collection-item-thumbnail").attr("src", e.thumbnails.small), i.find(".js-collection-item-title").text(e.title), i.find(".js-collection-item-detail-channel").text(e.owner.displayName);
                        var o = t.contentType === u.CONTENT_MODE_VOD && t.videoId === "v" + e.itemId;
                        return i.attr("data-currentvod", o), i
                    })
                }
            }, {
                key: "destroy",
                value: function() {
                    var e = this;
                    s(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "destroy", this).call(this), $(".js-control-fullscreen-overlay, .js-paused-overlay", this.$root).off("click"), this.$collectionCloseButton.off("click"), this.$collectionSidebar.off("mouseenter mouseleave"), this.$collectionItemContainer.off("click");
                    var n = [this.animateCloseTimeout, this.sidebarOpenTimeout, this.sidebarCloseTimeout];
                    n.forEach(function(t) {
                        t && e.window.clearTimeout(t)
                    })
                }
            }]), t
        }(l.UIStateSubscriber)
    }, function(e, t) {
        "use strict";

        function n(e) {
            var t = Math.floor(e / 1e3),
                n = Math.floor(t / 60),
                r = Math.floor(n / 60);
            return {
                hours: r,
                minutes: n % 60,
                seconds: t % 60
            }
        }

        function r(e, t) {
            var r = n(1e3 * e),
                i = t.translate("{{count}} minute", {
                    count: r.minutes
                }),
                a = t.translate("{{count}} hour", {
                    count: r.hours
                });
            return 0 === r.hours ? i : 0 === r.minutes ? a : t.translate("{{hoursText}} and {{minutesText}}", {
                hoursText: a,
                minutesText: i
            })
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.toHumanReadable = n, t.toHumanTime = r
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function a(e, t, n) {}

        function o(e) {
            var t = e.replace(/-[a-zA-Z]{2}$/, function(e) {
                    return e.toUpperCase()
                }),
                n = e.replace(/-[a-zA-Z]{2}$/, "");
            return (0, y.default)(["ar-SA", "bg-BG", "cs-CZ", "da-DK", "de-DE", "el-GR", "en-US", "es-MX", "es-US", "es-ES", "es-LA", "fi-FI", "fr-FR", "hi-IN", "hu-HU", "it-IT", "ja-JP", "ko-KR", "nl-NL", "no-NO", "pl-PL", "pt-BR", "pt-PT", "ro-RO", "ru-RU", "sk-SK", "sv-SE", "th-TH", "tr-TR", "vi-VN", "zh-TW", "zh-CN"], t) || (t = g[n] || n), new Promise(function(e, r) {
                u.default.changeLanguage(t, function(i, a) {
                    i ? r(i) : e(new E(n, t, a))
                })
            })
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.DEFAULT_LANGUAGE = t.I18N_INSTANCE = void 0;
        var s = function() {
            function e(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                }
            }
            return function(t, n, r) {
                return n && e(t.prototype, n), r && e(t, r), t
            }
        }();
        t.missingKeyHandler = a, t.getI18N = o;
        var l = n(682),
            u = r(l),
            c = n(698),
            d = r(c),
            f = n(168),
            p = n(214),
            _ = r(p),
            h = n(117),
            m = r(h),
            v = n(53),
            y = r(v),
            g = (0, m.default)((0, _.default)(["ar-SA", "bg-BG", "cs-CZ", "da-DK", "de-DE", "el-GR", "en-US", "es-MX", "es-US", "es-ES", "es-LA", "fi-FI", "fr-FR", "hi-IN", "hu-HU", "it-IT", "ja-JP", "ko-KR", "nl-NL", "no-NO", "pl-PL", "pt-BR", "pt-PT", "ro-RO", "ru-RU", "sk-SK", "sv-SE", "th-TH", "tr-TR", "vi-VN", "zh-TW", "zh-CN"], function(e, t) {
                var n = t.replace(/-[a-zA-Z]{2}$/, "");
                return e[n] = t, e
            }, {}), {
                es: "es-ES",
                pt: "pt-PT",
                zh: "zh-CN"
            });
        u.default.use(d.default).init({
            fallbackLng: "en-US",
            load: "currentOnly",
            backend: {
                crossDomain: !0,
                loadPath: f.playerHost + "/localization/{{lng}}/strings.json"
            },
            nsSeparator: !1,
            keySeparator: !1,
            missingKeyHandler: a,
            saveMissing: !0
        }), u.default.addResourceBundle("en-US", u.default.options.ns[0], n(699));
        var E = function() {
            function e(t, n, r) {
                i(this, e), this.shortCode = t, this.langCode = n, this._translate = r
            }
            return s(e, [{
                key: "translate",
                value: function(e) {
                    var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
                        n = this._translate(e, t);
                    return t.replacements && Object.keys(t.replacements).map(function(e) {
                        n = n.replace(e, t.replacements[e])
                    }), n
                }
            }]), e
        }();
        t.I18N_INSTANCE = u.default, t.DEFAULT_LANGUAGE = new E("en", "en-US", u.default.getFixedT("en-US"))
    }, , , , , , , , , , , , , , , , , , function(e, t) {
        e.exports = {
            Live: "Live",
            Advertisement: "Advertisement",
            "This Ad supports {{channelName}}": "This Ad supports {{channelName}}",
            Pause: "Pause",
            Play: "Play",
            Mute: "Mute",
            Unmute: "Unmute",
            Options: "Options",
            Fullscreen: "Fullscreen",
            "Exit Fullscreen": "Exit Fullscreen",
            "Player Options": "Player Options",
            "Video Quality": "Video Quality",
            Source: "Source",
            High: "High",
            Medium: "Medium",
            Low: "Low",
            Mobile: "Mobile",
            "Popout Player": "Popout Player",
            "Show Video Stats": "Show Video Stats",
            "Hide Video Stats": "Hide Video Stats",
            "Report Playback Issue": "Report Playback Issue",
            Captions: "Captions",
            "Closed Captioning": "Closed Captioning",
            "Closed Caption Settings": "Closed Caption Settings",
            Presets: "Presets",
            Text: "Text",
            Background: "Background",
            Window: "Window",
            Aa: "Aa",
            Font: "Font",
            "Mono Serif": "Mono Serif",
            Serif: "Serif",
            "Mono Sans-Serif": "Mono Sans-Serif",
            "Sans-Serif": "Sans-Serif",
            Casual: "Casual",
            Cursive: "Cursive",
            "Small Capitals": "Small Capitals",
            Position: "Position",
            Bottom: "Bottom",
            Top: "Top",
            Justification: "Justification",
            Alignment: "Alignment",
            Center: "Center",
            Left: "Left",
            Right: "Right",
            Style: "Style",
            Effects: "Effects",
            Effect: "Effect",
            Color: "Color",
            Size: "Size",
            A: "A",
            Opacity: "Opacity",
            Solid: "Solid",
            Translucent: "Translucent",
            "Semi-Transparent": "Semi-Transparent",
            Transparent: "Transparent",
            Flashing: "Flashing",
            "Increase Size": "Increase Size",
            "Decrease Size": "Decrease Size",
            Select: "Select",
            "Audio and video stutter": "Audio and video stutter",
            "Leave feedback?": "Leave feedback?",
            "Video stutters, but audio is fine": "Video stutters, but audio is fine",
            "Video is completely black or doesn't load": "Video is completely black or doesn't load",
            "Audio and video aren't synced": "Audio and video aren't synced",
            "Fullscreen playback doesn't work": "Fullscreen playback doesn't work",
            "Advertisement can't be muted or is too loud": "Advertisement can't be muted or is too loud",
            "Advertisement has played too many times": "Advertisement has played too many times",
            Submit: "Submit",
            "Theater Mode": "Theater Mode",
            "Exit Theater Mode": "Exit Theater Mode",
            "Video could not be found, or has been deleted by its owner": "Video could not be found, or has been deleted by its owner",
            "Channel could not be found, or has been deleted by its owner": "Channel could not be found, or has been deleted by its owner",
            "Video is loading": "Video is loading",
            "Video is not available": "Video is not available",
            "Flash is not installed": "Flash is not installed",
            "The broadcaster indicated that the channel is intended for mature audiences.": "The broadcaster indicated that the channel is intended for mature audiences.",
            "Start Watching": "Start Watching",
            "This video is only available to subscribers. Subscribe now to watch and support %s.": "This video is only available to subscribers. Subscribe now to watch and support %s.",
            "This video quality is only available to subscribers. Subscribe now to watch and support %s.": "This video quality is only available to subscribers. Subscribe now to watch and support %s.",
            "Playing on {{device}}": "Playing on {{device}}",
            " has started a playlist.": " has started a playlist.",
            "Introducing Auto Quality!": "Introducing Auto Quality!",
            "You can enable automatic video quality selection by clicking on the gear menu and selecting “Auto” under Video Quality.": "You can enable automatic video quality selection by clicking on the gear menu and selecting “Auto” under Video Quality.",
            "Submit feedback by selecting Report Playback Issue from the gear menu.": "Submit feedback by selecting Report Playback Issue from the gear menu.",
            Offline: "Offline",
            "Get notified when {{channelName}} is live": "Get notified when {{channelName}} is live",
            "Follow and get notified when {{channelName}} is live": "Follow and get notified when {{channelName}} is live",
            "Live Broadcast has ended": "Live Broadcast has ended",
            "Get notified when {{channelName}} goes live next": "Get notified when {{channelName}} goes live next",
            "Follow {{channelName}} on Twitch": "Follow {{channelName}} on Twitch",
            Following: "Following",
            Unfollow: "Unfollow",
            Notifications: "Notifications",
            "Turn On Notifications": "Turn On Notifications",
            Playlist: "Playlist",
            Subscribe: "Subscribe",
            Close: "Close",
            "The broadcast is down.": "The broadcast is down.",
            "The player will automatically reload when the broadcast is back.": "The player will automatically reload when the broadcast is back.",
            "Copy Video URL at Current Time": "Copy Video URL at Current Time",
            "Thanks for your report": "Thanks for your report",
            "Coming Up": "Coming Up",
            "Now playing: ": "Now playing: ",
            "playing {{game}} for {{viewerCount}} viewer": "playing {{game}} for {{viewerCount}} viewer",
            "playing {{game}} for {{viewerCount}} viewer_plural": "playing {{game}} for {{viewerCount}} viewers",
            Chromecast: "Chromecast",
            "Watch on Twitch": "Watch on Twitch",
            "You must be 21 to view this content. Please enter your date of birth.": "You must be 21 to view this content. Please enter your date of birth.",
            "Sorry, you must be over the age of 21 to view this content.": "Sorry, you must be over the age of 21 to view this content.",
            "Audio for portions of this video has been muted as it appears to contain copyrighted content owned or controlled by a third party.": "Audio for portions of this video has been muted as it appears to contain copyrighted content owned or controlled by a third party.",
            "Clip (Alt+X)": "Clip (Alt+X)",
            Clip: "Clip",
            "Learn More": "Learn More",
            "Make an impact with Clip Titles": "Make an impact with Clip Titles",
            "Give your clips the perfect title to share more about your favorite moments.": "Give your clips the perfect title to share more about your favorite moments.",
            "Clip Trimming is Here": "Clip Trimming is Here",
            "It just got a lot easier to share the perfect moment with Clips.": "It just got a lot easier to share the perfect moment with Clips.",
            Auto: "Auto",
            "HTML5 Player": "HTML5 Player",
            "You are now using our new HTML5 video player! Click the gear icon to adjust your settings and share feedback.": "You are now using our new HTML5 video player! Click the gear icon to adjust your settings and share feedback.",
            "Give Feedback": "Give Feedback",
            "No supported video backend available; Flash is not installed": "No supported video backend available; Flash is not installed",
            "Up Next": "Up Next",
            Cancel: "Cancel",
            "Playing in {{timeRemaining}} second": "Playing in {{timeRemaining}} second",
            "Playing in {{timeRemaining}} second_plural": "Playing in {{timeRemaining}} seconds",
            "Mini Player": "Mini Player",
            ON: "ON",
            OFF: "OFF",
            "By {{author}}": "By {{author}}",
            "{{count}} video": "{{count}} video",
            "{{count}} video_plural": "{{count}} videos",
            "{{count}} minute": "{{count}} minute",
            "{{count}} minute_plural": "{{count}} minutes",
            "{{count}} hour": "{{count}} hour",
            "{{count}} hour_plural": "{{count}} hours",
            "{{hoursText}} and {{minutesText}}": "{{hoursText}} and {{minutesText}}",
            "{{currentPosition}}/{{totalVideos}} video": "{{currentPosition}}/{{totalVideos}} video",
            "{{currentPosition}}/{{totalVideos}} video_plural": "{{currentPosition}}/{{totalVideos}} videos",
            "Video unavailable": "Video unavailable",
            "Start watching": "Start watching",
            "Skip this video": "Skip this video",
            "This collection is empty.": "This collection is empty.",
            Quality: "Quality",
            Speed: "Speed",
            Normal: "Normal",
            "Closed Captions Options": "Closed Captions Options",
            Advanced: "Advanced",
            "Noticed a video playback issue? Let us know!": "Noticed a video playback issue? Let us know!",
            "Sent!": "Sent!",
            "Copy Video URL at {{time}}": "Copy Video URL at {{time}}",
            "Copied!": "Copied!",
            "Playing in": "Playing in",
            "{{timeRemaining}} second": "{{timeRemaining}} second",
            "{{timeRemaining}} second_plural": "{{timeRemaining}} seconds",
            "Watch Now": "Watch Now",
            "Watch Next": "Watch Next",
            "Most Recent Video": "Most Recent Video",
            Settings: "Settings",
            "Is your video buffering? Try the Auto quality option.": "Is your video buffering? Try the Auto quality option.",
            "More Info": "More Info",
            "Grant Permissions": "Grant Permissions",
            "Revoke Permissions": "Revoke Permissions",
            "Your Twitch User ID": "Your Twitch User ID",
            "Allows this extension to know your User ID on Twitch.": "Allows this extension to know your User ID on Twitch.",
            Grant: "Grant",
            Revoke: "Revoke",
            "can receive the following permissions": "can receive the following permissions",
            "you are revoking the following permissions": "you are revoking the following permissions",
            "Report Extension": "Report Extension",
            "More from {{channelName}}": "More from {{channelName}}",
            Vodcast: "Vodcast",
            "Playing pre-recorded video": "Playing pre-recorded video",
            "Playing highlight": "Playing highlight",
            "Playing uploaded video": "Playing uploaded video",
            "Playing past broadcast": "Playing past broadcast"
        }
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function a(e, t) {
            if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !t || "object" != typeof t && "function" != typeof t ? e : t
        }

        function o(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.CollectionTopBar = t.CollectionTopBarContainer = t.mapDispatchToProps = t.mapStateToProps = void 0;
        var s = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            l = n(277),
            u = r(l),
            c = n(307),
            d = r(c),
            f = n(574),
            p = n(413),
            _ = n(333),
            h = n(701),
            m = n(396),
            v = n(220),
            y = 250,
            g = {
                collectionItems: d.default.array.isRequired,
                shouldShowTopBar: d.default.bool.isRequired,
                showDivider: d.default.bool.isRequired,
                stream: d.default.object.isRequired,
                showSidebar: d.default.func,
                title: d.default.string.isRequired,
                win: d.default.object.isRequired
            },
            E = {
                showSidebar: function() {}
            },
            b = t.mapStateToProps = function(e) {
                var t = e.collection,
                    n = e.playerOptions,
                    r = e.ui,
                    i = e.stream,
                    a = e.window,
                    o = e.screenMode,
                    s = e.screen;
                return {
                    title: t.title,
                    shouldShowTopBar: t.currentView === p.COLLAPSED_VIEW && !r.isMini && s[0] === m.CONTENT_SCREEN,
                    showDivider: n.showInfo || o.isTheatreMode,
                    collectionItems: t.items,
                    stream: i,
                    win: a
                }
            },
            T = t.mapDispatchToProps = function(e) {
                return {
                    showSidebar: function() {
                        e((0, _.openCollectionSidebar)())
                    }
                }
            },
            S = t.CollectionTopBarContainer = function(e) {
                function t() {
                    i(this, t);
                    var e = a(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments));
                    return e.showSidebar = e.showSidebar.bind(e), e.onMouseEnter = e.onMouseEnter.bind(e), e.onMouseLeave = e.onMouseLeave.bind(e), e._hoverTimeout = 0, e
                }
                return o(t, e), s(t, [{
                    key: "onMouseEnter",
                    value: function() {
                        this._hoverTimeout = this.props.win.setTimeout(this.showSidebar, y)
                    }
                }, {
                    key: "onMouseLeave",
                    value: function() {
                        this.props.win.clearTimeout(this._hoverTimeout), this._hoverTimeout = 0
                    }
                }, {
                    key: "showSidebar",
                    value: function() {
                        this.props.showSidebar()
                    }
                }, {
                    key: "render",
                    value: function() {
                        var e = this.props,
                            t = e.collectionItems,
                            n = e.shouldShowTopBar,
                            r = e.showDivider,
                            i = e.stream,
                            a = e.title;
                        return n && i.contentType === v.CONTENT_MODE_VOD ? u.default.createElement(h.CollectionTopBar, {
                            onMouseEnter: this.onMouseEnter,
                            onMouseLeave: this.onMouseLeave,
                            collectionItems: t,
                            showDivider: r,
                            showSidebar: this.showSidebar,
                            streamId: i.videoId,
                            title: a
                        }) : null
                    }
                }]), t
            }(u.default.Component);
        S.propTypes = g, S.defaultProps = E;
        t.CollectionTopBar = (0, f.connect)(b, T)(S)
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e) {
            var t = e.collectionItems,
                n = e.showDivider,
                r = e.onMouseEnter,
                i = e.onMouseLeave,
                a = e.showSidebar,
                s = e.streamId,
                l = e.t,
                u = e.title,
                c = n ? o.default.createElement("div", {
                    className: "collection-divider",
                    "data-show-divider": !0
                }) : null,
                f = l("{{currentPosition}}/{{totalVideos}} videos", {
                    currentPosition: (0, d.default)(t, {
                        itemId: s
                    }) + 1,
                    totalVideos: t.length
                });
            return o.default.createElement("div", {
                className: "collection-nav",
                "data-show-nav": !0
            }, o.default.createElement("div", {
                className: "collection-collapsed__layout",
                onMouseEnter: r,
                onMouseLeave: i,
                onClick: a,
                onKeyUp: a,
                tabIndex: 0,
                role: "button"
            }, o.default.createElement("div", {
                className: v
            }, o.default.createElement(_.Button, {
                className: y,
                onClick: a
            }, o.default.createElement("svg", null, o.default.createElement("use", {
                xlinkHref: "#icon_open_collection"
            }))), o.default.createElement("div", {
                className: g
            }, o.default.createElement("div", {
                className: E
            }, u), o.default.createElement("span", {
                className: b
            }), o.default.createElement("span", {
                className: T
            }, f)))), c)
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.CollectionTopBar = void 0, t.CollectionTopBarComponent = i;
        var a = n(277),
            o = r(a),
            s = n(307),
            l = r(s),
            u = n(311),
            c = n(162),
            d = r(c),
            f = n(310),
            p = r(f),
            _ = n(615),
            h = {
                collectionItems: l.default.array.isRequired,
                showDivider: l.default.bool.isRequired,
                onMouseEnter: l.default.func,
                onMouseLeave: l.default.func,
                showSidebar: l.default.func,
                streamId: l.default.string.isRequired,
                t: l.default.func,
                title: l.default.string.isRequired
            },
            m = {
                showSidebar: function() {},
                t: function() {},
                onMouseEnter: function() {},
                onMouseLeave: function() {}
            },
            v = (0, p.default)("pl-flex", "pl-flex--verticalCenter", "pl-flex--nowrap"),
            y = (0, p.default)("collection-button", "pl-flex__item"),
            g = (0, p.default)("collection-collapsed-info", "pl-flex", "pl-flex--verticalCenter", "pl-flex__item"),
            E = (0, p.default)("collection-collapsed-info__title", "qa-collection-collapsed-title", "pl-flex__item"),
            b = (0, p.default)("middot-divider", "pl-flex__item"),
            T = (0, p.default)("collection-collapsed-info__number", "qa-collection-collapsed-progress", "pl-flex__item");
        i.propTypes = h, i.defaultProps = m;
        t.CollectionTopBar = (0, u.translate)()(i)
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function a(e, t) {
            if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !t || "object" != typeof t && "function" != typeof t ? e : t
        }

        function o(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.InPlayerRecommendationsOverlay = t.InPlayerRecommendationsContainer = t.mapDispatchToProps = t.mapStateToProps = void 0;
        var s = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            l = n(277),
            u = r(l),
            c = n(307),
            d = r(c),
            f = n(574),
            p = n(396),
            _ = n(703),
            h = n(423),
            m = n(332),
            v = {
                recommendedVideos: d.default.array.isRequired,
                recommendationType: d.default.string.isRequired,
                windowObj: d.default.object.isRequired,
                showRecommendations: d.default.bool.isRequired,
                selectRecommendedVideo: d.default.func.isRequired,
                popScreen: d.default.func.isRequired,
                clearRecommendedVODs: d.default.func.isRequired,
                i18n: d.default.object.isRequired,
                playerDimensions: d.default.shape({
                    height: d.default.number,
                    width: d.default.number
                }).isRequired,
                trackEvent: d.default.func.isRequired,
                streamHasPlayed: d.default.bool.isRequired
            },
            y = t.mapStateToProps = function(e) {
                var t = e.lang,
                    n = e.screen,
                    r = e.recommendations,
                    i = e.window,
                    a = e.playerDimensions,
                    o = e.analyticsTracker,
                    s = e.playback;
                return {
                    recommendedVideos: r.videos,
                    recommendationType: r.type,
                    windowObj: i,
                    showRecommendations: n[0] === p.VOD_RECOMMENDATION_SCREEN,
                    i18n: t,
                    playerDimensions: a,
                    trackEvent: o.trackEvent,
                    streamHasPlayed: s.hasPlayed
                }
            },
            g = t.mapDispatchToProps = function(e) {
                return {
                    selectRecommendedVideo: function(t) {
                        e((0, m.selectRecommendedVideo)(t))
                    },
                    popScreen: function() {
                        e((0, p.popScreen)())
                    },
                    clearRecommendedVODs: function() {
                        e((0, h.clearRecommendedVODs)())
                    }
                }
            },
            E = t.InPlayerRecommendationsContainer = function(e) {
                function t() {
                    i(this, t);
                    var e = a(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments));
                    return e.handleSelectVOD = e.handleSelectVOD.bind(e), e.handleExitRecommendations = e.handleExitRecommendations.bind(e), e
                }
                return o(t, e), s(t, [{
                    key: "render",
                    value: function() {
                        var e = this.props,
                            t = e.recommendedVideos,
                            n = e.windowObj,
                            r = e.showRecommendations,
                            i = e.i18n,
                            a = e.playerDimensions,
                            o = e.recommendationType,
                            s = e.trackEvent,
                            l = e.streamHasPlayed;
                        if (t.length > 0 && this._preloadVideoThumbnails(), !r || 0 === t.length) return null;
                        switch (o) {
                            case h.OFFLINE_RECOMMENDATIONS_TYPE:
                                return u.default.createElement(_.OfflineRecommendations, {
                                    videos: t,
                                    i18n: i,
                                    onSelectVOD: this.handleSelectVOD,
                                    windowObj: n,
                                    playerHeight: a.height,
                                    playerWidth: a.width,
                                    onExit: this.handleExitRecommendations,
                                    trackEvent: s,
                                    streamWasOnline: l
                                });
                            default:
                                return null
                        }
                    }
                }, {
                    key: "_preloadVideoThumbnails",
                    value: function() {
                        this.props.recommendedVideos.forEach(function(e) {
                            var t = new Image;
                            t.src = e.thumbnailURL
                        })
                    }
                }, {
                    key: "handleSelectVOD",
                    value: function(e) {
                        this.props.selectRecommendedVideo(e.id), this.handleExitRecommendations()
                    }
                }, {
                    key: "handleExitRecommendations",
                    value: function() {
                        this.props.popScreen(), this.props.clearRecommendedVODs()
                    }
                }]), t
            }(u.default.Component);
        E.propTypes = v;
        t.InPlayerRecommendationsOverlay = (0, f.connect)(y, g)(E)
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function a(e, t) {
            if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !t || "object" != typeof t && "function" != typeof t ? e : t
        }

        function o(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.OfflineRecommendations = void 0;
        var s = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            l = n(277),
            u = r(l),
            c = n(307),
            d = r(c),
            f = n(704),
            p = n(710),
            _ = n(310),
            h = r(_),
            m = 0,
            v = "offline",
            y = "postLive",
            g = {
                videos: d.default.array.isRequired,
                i18n: d.default.object.isRequired,
                onSelectVOD: d.default.func.isRequired,
                playerHeight: d.default.number.isRequired,
                playerWidth: d.default.number.isRequired,
                onExit: d.default.func.isRequired,
                trackEvent: d.default.func.isRequired,
                windowObj: d.default.object.isRequired,
                streamWasOnline: d.default.bool.isRequired
            },
            E = t.OfflineRecommendations = function(e) {
                function t() {
                    i(this, t);
                    var e = a(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments));
                    return e.state = {
                        showFeatured: !0
                    }, e.handleCloseFeaturedPane = e.handleCloseFeaturedPane.bind(e), e
                }
                return o(t, e), s(t, [{
                    key: "componentWillMount",
                    value: function() {
                        var e = this.props,
                            t = e.trackEvent,
                            n = e.streamWasOnline,
                            r = n ? y : v;
                        t("player_rec_show", {
                            type: r
                        })
                    }
                }, {
                    key: "render",
                    value: function() {
                        var e = this.props,
                            t = e.videos,
                            n = e.i18n,
                            r = e.windowObj,
                            i = e.playerHeight,
                            a = e.playerWidth,
                            o = e.onSelectVOD,
                            s = e.onExit,
                            l = e.trackEvent,
                            c = this.state.showFeatured,
                            d = u.default.createElement(p.OtherVODs, {
                                height: i,
                                width: a,
                                videos: t,
                                onSelect: o,
                                onClose: s,
                                trackEvent: l,
                                windowObj: r,
                                i18n: n
                            }),
                            _ = u.default.createElement(f.PinnedVOD, {
                                onClose: this.handleCloseFeaturedPane,
                                onSelect: o,
                                i18n: n,
                                width: a,
                                video: t[m],
                                trackEvent: l
                            }),
                            v = c ? _ : d,
                            y = (0, h.default)({
                                "player-overlay": !0,
                                "recommendations-overlay": !0,
                                "pl-rec-wrapper": !this.state.showFeatured,
                                "pl-single-rec-wrapper": this.state.showFeatured
                            });
                        return u.default.createElement("div", {
                            className: y
                        }, v)
                    }
                }, {
                    key: "handleCloseFeaturedPane",
                    value: function() {
                        this.setState({
                            showFeatured: !1
                        })
                    }
                }]), t
            }(u.default.Component);
        E.propTypes = g
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function a(e, t) {
            if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !t || "object" != typeof t && "function" != typeof t ? e : t
        }

        function o(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.PinnedVOD = t.PinnedVODComponent = void 0;
        var s = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            l = n(277),
            u = r(l),
            c = n(307),
            d = r(c),
            f = n(705),
            p = n(310),
            _ = r(p),
            h = n(311),
            m = n(707),
            v = n(708),
            y = {
                video: d.default.shape({
                    thumbnailURL: d.default.string.isRequired,
                    title: d.default.string.isRequired,
                    channelName: d.default.string.isRequired,
                    creationDate: d.default.string.isRequired,
                    duration: d.default.number.isRequired,
                    id: d.default.string.isRequired,
                    recommendationType: d.default.string.isRequired
                }).isRequired,
                onClose: d.default.func,
                onSelect: d.default.func.isRequired,
                t: d.default.func.isRequired,
                trackEvent: d.default.func.isRequired
            },
            g = {
                onClose: function() {}
            },
            E = "featured",
            b = (0, _.default)("pl-pinned-item__title", "pl-flex"),
            T = (0, _.default)("pl-flex__item", "pl-flex__item--grow"),
            S = t.PinnedVODComponent = function(e) {
                function t() {
                    i(this, t);
                    var e = a(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments));
                    return e.handleSelect = e.handleSelect.bind(e), e
                }
                return o(t, e), s(t, [{
                    key: "render",
                    value: function() {
                        var e = this.props,
                            t = e.video,
                            n = e.t,
                            r = e.onClose,
                            i = u.default.createElement("div", {
                                className: b
                            }, u.default.createElement("span", {
                                className: T
                            }, n("Watch Now")), u.default.createElement(m.RecCloseButton, {
                                onClick: r
                            })),
                            a = u.default.createElement("span", null, u.default.createElement("figure", {
                                className: "pl-card__smallicon"
                            }, u.default.createElement("svg", null, u.default.createElement("use", {
                                xlinkHref: "#pl-icon_vod"
                            }))), u.default.createElement("span", null, n("Most Recent Video")));
                        return u.default.createElement("div", {
                            className: "pl-pinned-item"
                        }, i, u.default.createElement(f.PlayerCard, {
                            className: "pl-rec__item",
                            thumbnailURL: t.thumbnailURL,
                            info: a,
                            onSelect: this.handleSelect,
                            selectItem: t,
                            hasThumbZoom: !0,
                            hasBorder: !0
                        }), u.default.createElement(v.FeaturedCollection, null))
                    }
                }, {
                    key: "componentWillMount",
                    value: function() {
                        this.props.trackEvent("player_rec_show_featured", {
                            recommended_vod_id: this.props.video.id,
                            recommended_vod_type: this.props.video.recommendationType
                        })
                    }
                }, {
                    key: "handleSelect",
                    value: function(e) {
                        var t = this.props,
                            n = t.trackEvent,
                            r = t.onSelect;
                        n("player_rec_select", {
                            recommended_vod_id: e.id,
                            recommended_vod_type: e.recommendationType,
                            recommended_vod_view: E
                        }), r(e)
                    }
                }]), t
            }(u.default.Component);
        S.defaultProps = g, S.propTypes = y;
        t.PinnedVOD = (0, h.translate)()(S)
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e, t, n) {
            return t in e ? Object.defineProperty(e, t, {
                value: n,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : e[t] = n, e
        }

        function a(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function o(e, t) {
            if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !t || "object" != typeof t && "function" != typeof t ? e : t
        }

        function s(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.PlayerCard = void 0;
        var l = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            u = n(277),
            c = r(u),
            d = n(307),
            f = r(d),
            p = n(706),
            _ = n(310),
            h = r(_),
            m = n(320),
            v = r(m),
            y = {
                thumbnailURL: f.default.string.isRequired,
                bread: f.default.string,
                title: f.default.string,
                info: f.default.oneOfType([f.default.element, f.default.string]),
                progressBarPercentage: f.default.number,
                onSelect: f.default.func,
                selectItem: f.default.any,
                className: f.default.string,
                hasThumbZoom: f.default.bool,
                hasBorder: f.default.bool
            },
            g = {
                thumbnailURL: "",
                hasThumbZoom: !1,
                hasBorder: !1
            },
            E = t.PlayerCard = function(e) {
                function t() {
                    a(this, t);
                    var e = o(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments));
                    return e.handleClick = e.handleClick.bind(e), e.handleKeyUp = e.handleKeyUp.bind(e), e
                }
                return s(t, e), l(t, [{
                    key: "render",
                    value: function() {
                        var e = this.props,
                            t = e.thumbnailURL,
                            n = e.title,
                            r = e.bread,
                            a = e.info,
                            o = e.className,
                            s = e.progressBarPercentage,
                            l = e.hasThumbZoom,
                            u = e.hasBorder,
                            d = (0, h.default)(i({
                                "pl-card": !0,
                                "pl-card--withprogress": this._isPercentage(s),
                                "pl-card--withborder": u,
                                "pl-card--thumbzoom": l
                            }, o, !0)),
                            f = this._isPercentage(s) ? c.default.createElement(p.AutoplayProgressBar, {
                                percentage: s
                            }) : null;
                        return c.default.createElement("div", {
                            className: d,
                            onClick: this.handleClick,
                            onKeyUp: this.handleKeyUp,
                            tabIndex: 0,
                            role: "button"
                        }, c.default.createElement("a", {
                            className: "pl-card__layout",
                            href: "##"
                        }, c.default.createElement("figure", {
                            className: "pl-card__img"
                        }, c.default.createElement("img", {
                            alt: "Video Thumbnail",
                            src: t
                        })), c.default.createElement("div", {
                            className: "pl-card__overlay"
                        }, c.default.createElement("div", {
                            className: "pl-card__body"
                        }, c.default.createElement("h4", {
                            className: "pl-card__bread ellipsis"
                        }, r), c.default.createElement("h3", {
                            className: "pl-card__title ellipsis"
                        }, n), c.default.createElement("div", {
                            className: "pl-card__info ellipsis"
                        }, a)), f)))
                    }
                }, {
                    key: "handleKeyUp",
                    value: function(e) {
                        "Enter" === e.key && this.props.onSelect(this.props.selectItem)
                    }
                }, {
                    key: "handleClick",
                    value: function() {
                        this.props.onSelect(this.props.selectItem)
                    }
                }, {
                    key: "_isPercentage",
                    value: function(e) {
                        return !(void 0 === e || !(0, v.default)(e) || e < 0 || e > 100)
                    }
                }]), t
            }(c.default.Component);
        E.defaultProps = g, E.propTypes = y
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.AutoplayProgressBar = void 0;
        var i = n(277),
            a = r(i),
            o = n(307),
            s = r(o),
            l = n(320),
            u = r(l),
            c = {
                percentage: s.default.number.isRequired
            },
            d = t.AutoplayProgressBar = function(e) {
                var t = e.percentage;
                return !(0, u.default)(t) || t < 0 || t > 100 ? null : a.default.createElement("div", {
                    className: "pl-card__progress-bar"
                }, a.default.createElement("div", {
                    className: "pl-card__progress-bar--fill",
                    style: {
                        width: t + "%"
                    }
                }))
            };
        d.propTypes = c
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.RecCloseButton = void 0;
        var i = n(277),
            a = r(i),
            o = n(307),
            s = r(o),
            l = n(615),
            u = n(310),
            c = r(u),
            d = {
                onClick: s.default.func.isRequired,
                className: s.default.string
            },
            f = t.RecCloseButton = function(e) {
                var t = e.onClick,
                    n = e.className,
                    r = (0, c.default)("pl-close-button", n);
                return a.default.createElement(l.Button, {
                    className: r,
                    onClick: t
                }, a.default.createElement("figure", null, a.default.createElement("svg", {
                    className: "pl-close-button__svg"
                }, a.default.createElement("use", {
                    xlinkHref: "#pl-icon_close"
                }))))
            };
        f.propTypes = d
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function a(e, t) {
            if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !t || "object" != typeof t && "function" != typeof t ? e : t
        }

        function o(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.FeaturedCollection = t.FeaturedCollectionContainer = void 0;
        var s = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            l = n(277),
            u = r(l),
            c = n(307),
            d = r(c),
            f = n(574),
            p = n(709),
            _ = n(333),
            h = {
                featuredCollection: d.default.shape({
                    id: d.default.string,
                    title: d.default.string,
                    itemsCount: d.default.number,
                    thumbnails: d.default.shape({
                        large: d.default.string,
                        medium: d.default.string,
                        small: d.default.string,
                        template: d.default.string
                    }).isRequired,
                    owner: d.default.shape({
                        displayName: d.default.string,
                        id: d.default.string,
                        name: d.default.string
                    })
                }).isRequired,
                requestCollection: d.default.func,
                showFeaturedCollection: d.default.bool.isRequired,
                trackEvent: d.default.func
            },
            m = {
                requestCollection: function() {},
                trackEvent: function() {}
            },
            v = function(e) {
                var t = e.analyticsTracker,
                    n = e.collection;
                return {
                    trackEvent: t.trackEvent,
                    featuredCollection: n.featuredCollection,
                    showFeaturedCollection: !("" === n.featuredCollection.id)
                }
            },
            y = function(e) {
                return {
                    requestCollection: function(t) {
                        e((0, _.requestCollection)(t))
                    }
                }
            },
            g = t.FeaturedCollectionContainer = function(e) {
                function t() {
                    i(this, t);
                    var e = a(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments));
                    return e.handleSelect = e.handleSelect.bind(e), e
                }
                return o(t, e), s(t, [{
                    key: "componentWillReceiveProps",
                    value: function(e) {
                        var t = e.featuredCollection,
                            n = e.showFeaturedCollection;
                        n && !this.props.showFeaturedCollection && (this._preloadThumbnail(), this.props.trackEvent("player_rec_show_collection", {
                            recommended_collection_id: t.id
                        }))
                    }
                }, {
                    key: "handleSelect",
                    value: function(e) {
                        var t = this.props,
                            n = t.trackEvent,
                            r = t.requestCollection;
                        r(e.id), n("player_rec_select", {
                            recommended_vod_view: "collection",
                            recommended_collection_id: e.id
                        })
                    }
                }, {
                    key: "_preloadThumbnail",
                    value: function() {
                        var e = this.props.featuredCollection,
                            t = new Image;
                        t.src = e.thumbnails.medium
                    }
                }, {
                    key: "render",
                    value: function() {
                        var e = this.props,
                            t = e.showFeaturedCollection,
                            n = e.featuredCollection;
                        return t ? u.default.createElement(p.FeaturedCollectionComponent, {
                            thumbnailURL: n.thumbnails.medium,
                            featuredCollection: n,
                            onSelect: this.handleSelect
                        }) : null
                    }
                }]), t
            }(u.default.Component);
        g.propTypes = h, g.defaultProps = m;
        t.FeaturedCollection = (0, f.connect)(v, y)(g)
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e) {
            var t = e.thumbnailURL,
                n = e.onSelect,
                r = e.featuredCollection,
                i = o.default.createElement("span", null, o.default.createElement("figure", {
                    className: "pl-card__smallicon"
                }, o.default.createElement("svg", null, o.default.createElement("use", {
                    xlinkHref: "#icon_open_collection"
                }))), o.default.createElement("span", null, r.title));
            return o.default.createElement(u.PlayerCard, {
                className: "pl-rec__item",
                thumbnailURL: t,
                info: i,
                onSelect: n,
                selectItem: r,
                hasThumbZoom: !0,
                hasBorder: !0
            })
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.FeaturedCollectionComponent = i;
        var a = n(277),
            o = r(a),
            s = n(307),
            l = r(s),
            u = n(705),
            c = {
                featuredCollection: l.default.shape({
                    id: l.default.string,
                    title: l.default.string,
                    itemsCount: l.default.number,
                    owner: l.default.shape({
                        displayName: l.default.string,
                        id: l.default.string,
                        name: l.default.string
                    })
                }).isRequired,
                thumbnailURL: l.default.string.isRequired,
                onSelect: l.default.func
            },
            d = {
                onSelect: function() {}
            };
        i.propTypes = c, i.defaultProps = d
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function a(e, t) {
            if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !t || "object" != typeof t && "function" != typeof t ? e : t
        }

        function o(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.OtherVODs = t.OtherVODsComponent = t.RECOMMENDATION_ROW_CONFIG = t.RECOMMENDATION_COLUMN_CONFIG = void 0;
        var s = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            l = n(277),
            u = r(l),
            c = n(307),
            d = r(c),
            f = n(310),
            p = r(f),
            _ = n(707),
            h = n(120),
            m = r(h),
            v = n(705),
            y = n(311),
            g = n(423),
            E = n(711),
            b = t.RECOMMENDATION_COLUMN_CONFIG = [{
                minPlayerWidth: 2381,
                columns: 8
            }, {
                minPlayerWidth: 2084,
                columns: 7
            }, {
                minPlayerWidth: 1786,
                columns: 6
            }, {
                minPlayerWidth: 1489,
                columns: 5
            }, {
                minPlayerWidth: 1191,
                columns: 4
            }, {
                minPlayerWidth: 893,
                columns: 3
            }, {
                minPlayerWidth: 596,
                columns: 2
            }, {
                minPlayerWidth: 0,
                columns: 1
            }],
            T = t.RECOMMENDATION_ROW_CONFIG = [{
                minPlayerHeight: 950,
                rows: 4
            }, {
                minPlayerHeight: 700,
                rows: 3
            }, {
                minPlayerHeight: 520,
                rows: 2
            }, {
                minPlayerHeight: 0,
                rows: 1
            }],
            S = {
                height: d.default.number.isRequired,
                width: d.default.number.isRequired,
                videos: d.default.arrayOf(d.default.shape({
                    thumbnailURL: d.default.string.isRequired,
                    title: d.default.string.isRequired,
                    channelName: d.default.string.isRequired,
                    creationDate: d.default.string.isRequired,
                    duration: d.default.number.isRequired,
                    id: d.default.string.isRequired,
                    recommendationType: d.default.string.isRequired
                }).isRequired).isRequired,
                onSelect: d.default.func.isRequired,
                trackEvent: d.default.func.isRequired,
                onClose: d.default.func.isRequired,
                t: d.default.func.isRequired,
                i18n: d.default.shape({
                    langCode: d.default.string.isRequired
                }),
                windowObj: d.default.object.isRequired
            },
            A = (0, p.default)("pl-rec", "pl-flex", "pl-flex--stretch", "pl-flex--horizontalCenter"),
            C = (0, p.default)("pl-rec__title", "pl-flex__item"),
            P = (0, p.default)("pl-rec__container", "pl-flex", "pl-flex__item", "pl-flex--verticalCenter", "pl-flex--horizontalCenter"),
            O = "other",
            w = t.OtherVODsComponent = function(e) {
                function t() {
                    i(this, t);
                    var e = a(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments));
                    return e.handleSelect = e.handleSelect.bind(e), e
                }
                return o(t, e), s(t, [{
                    key: "componentWillMount",
                    value: function() {
                        var e = this.props,
                            t = e.height,
                            n = e.width,
                            r = e.videos,
                            i = e.trackEvent,
                            a = r.slice(0, this._getNumOfCardsVisible(t, n)).map(function(e) {
                                return e.id
                            }).join(",");
                        i("player_rec_show_others", {
                            recommended_vod_ids: a,
                            recommended_vod_types: r[0].recommendationType
                        })
                    }
                }, {
                    key: "render",
                    value: function() {
                        var e = this,
                            t = this.props,
                            n = t.videos,
                            r = t.width,
                            i = t.height,
                            a = t.onClose,
                            o = t.t,
                            s = t.i18n,
                            l = t.windowObj,
                            c = this._getNumOfCardsVisible(i, r),
                            d = n.map(function(t, n) {
                                var r = (0, p.default)({
                                    "mg-x-05": !0,
                                    "pl-rec__item": !0,
                                    hidden: n >= c
                                });
                                if (t.recommendationType === g.CHANNEL_VODS) return u.default.createElement(v.PlayerCard, {
                                    key: t.id + "_" + (n >= c),
                                    className: r,
                                    thumbnailURL: t.thumbnailURL,
                                    title: t.title,
                                    info: t.game,
                                    onSelect: e.handleSelect,
                                    selectItem: t,
                                    hasThumbZoom: !0
                                });
                                var i = u.default.createElement(E.InfoDateLength, {
                                    length: t.duration,
                                    date: new l.Date(t.creationDate),
                                    languageCode: s.langCode
                                });
                                return u.default.createElement(v.PlayerCard, {
                                    key: t.id + "_" + (n >= c),
                                    className: r,
                                    thumbnailURL: t.thumbnailURL,
                                    bread: t.channelName,
                                    title: t.title,
                                    info: i,
                                    onSelect: e.handleSelect,
                                    selectItem: t,
                                    hasThumbZoom: !0
                                })
                            }),
                            f = null;
                        if (n[0].recommendationType === g.CHANNEL_VODS) {
                            var h = n[0].channelName;
                            f = o("More from {{channelName}}", {
                                channelName: h
                            })
                        } else f = o("Watch Now");
                        return u.default.createElement("div", {
                            className: A
                        }, u.default.createElement(_.RecCloseButton, {
                            onClick: a
                        }), u.default.createElement("h2", {
                            className: C
                        }, f), u.default.createElement("div", {
                            className: P
                        }, d))
                    }
                }, {
                    key: "_getNumOfCardsVisible",
                    value: function(e, t) {
                        var n = (0, m.default)(b, function(e) {
                                return t >= e.minPlayerWidth
                            }),
                            r = n.columns,
                            i = (0, m.default)(T, function(t) {
                                return e >= t.minPlayerHeight
                            }),
                            a = i.rows;
                        return r * a
                    }
                }, {
                    key: "handleSelect",
                    value: function(e) {
                        this.props.trackEvent("player_rec_select", {
                            recommended_vod_id: e.id,
                            recommended_vod_type: e.recommendationType,
                            recommended_vod_view: O
                        }), this.props.onSelect(e)
                    }
                }]), t
            }(u.default.Component);
        w.propTypes = S;
        t.OtherVODs = (0, y.translate)()(w)
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.InfoDateLength = void 0;
        var i = function() {
                function e(e, t) {
                    var n = [],
                        r = !0,
                        i = !1,
                        a = void 0;
                    try {
                        for (var o, s = e[Symbol.iterator](); !(r = (o = s.next()).done) && (n.push(o.value), !t || n.length !== t); r = !0);
                    } catch (e) {
                        i = !0, a = e
                    } finally {
                        try {
                            !r && s.return && s.return()
                        } finally {
                            if (i) throw a
                        }
                    }
                    return n
                }
                return function(t, n) {
                    if (Array.isArray(t)) return t;
                    if (Symbol.iterator in Object(t)) return e(t, n);
                    throw new TypeError("Invalid attempt to destructure non-iterable instance")
                }
            }(),
            a = n(277),
            o = r(a),
            s = n(307),
            l = r(s),
            u = n(317),
            c = {
                date: l.default.object.isRequired,
                length: l.default.number.isRequired,
                languageCode: l.default.string.isRequired
            },
            d = {
                year: "numeric",
                month: "short",
                day: "numeric"
            },
            f = t.InfoDateLength = function(e) {
                var t = e.length,
                    n = e.date,
                    r = e.languageCode,
                    a = n.toLocaleDateString(r, d),
                    s = (0, u.toArray)(t, !1),
                    l = i(s, 3),
                    c = l[0],
                    f = l[1],
                    p = l[2],
                    _ = c + ":" + f + ":" + p;
                return o.default.createElement("div", null, o.default.createElement("span", null, a), " · ", o.default.createElement("span", null, _))
            };
        f.propTypes = c
    }, function(e, t) {
        e.exports = '<div class="player-initializing player-center-content"> <div class=player-loading-spinner></div> </div> <div class="player-overlay player-overlay--wall player-age-restriction-overlay js-age-restriction-overlay"> <div class=player-center-content> <div class=player-mature-overlay> <p class=js-mature-warning-label>The broadcaster indicated that the channel is intended for mature audiences.</p> <p><button type=button id=mature-link class="player-content-button js-player-mature-accept js-mature-accept-label">Start Watching</button></p> </div> <div class="player-age-gate js-age-gate"> <div class=player-age-gate-warning> <p> <svg class=player-age-gate--icon> <use xlink:href=#age-gate-icon /> </svg> </p> <p class=js-age-gate-warning-label>You must be 21 to view this content. Please enter your date of birth.</p> </div> <div class=player-age-gate-failed-once> <p> <svg class=player-age-gate--fail-icon> <use xlink:href=#age-gate-fail-icon /> </svg> </p> <p class=age-gate-locked-out-label>Sorry, you must be over the age of 21 to view this content.</p> </div> <div class=player-datepicker> <select class="player-datepicker--select js-select-month"> <option class=age-gate-jan value=0 selected=selected>January</option> <option class=age-gate-feb value=1>February</option> <option class=age-gate-mar value=2>March</option> <option class=age-gate-apr value=3>April</option> <option class=age-gate-may value=4>May</option> <option class=age-gate-jun value=5>June</option> <option class=age-gate-jul value=6>July</option> <option class=age-gate-aug value=7>August</option> <option class=age-gate-sept value=8>September</option> <option class=age-gate-oct value=9>October</option> <option class=age-gate-nov value=10>November</option> <option class=age-gate-dec value=11>December</option> </select> <select class="player-datepicker--select js-select-day"></select> <select class="player-datepicker--select js-select-year"></select> <button type=button class="js-age-gate-submit player-content-button">Submit</button> </div> </div> <div class=player-age-gate-locked-out> <p> <svg class=player-age-gate--fail-icon> <use xlink:href=#age-gate-fail-icon /> </svg> </p> <p class=age-gate-locked-out-label>Sorry, you must be over the age of 21 to view this content.</p> </div> </div> </div> <div class="player-offline-banner js-offline-banner"> <img class=js-meta-offline /> </div> <div class="player-overlay player-ad-overlay"> <a class="player-ad-overlay js-player-ad-overlay" target=_blank></a> </div> <div id=js-player-recommendations-overlay /> <div class="player-overlay player-overlay--recommendations hidden js-recommendations-overlay"> <div class="player-tower player-tower--gutter-xs js-player-tower"> <div class="player-tower-columns js-featured-rec-header player-featured-recommendations"> <div class=player-recommendations-header> <h3><span class="js-upnext-label player-featured-recommendations-vod">Up Next</span><span class="js-watchnext-label player-featured-recommendations-live">Watch Next</span></h3> <button class="player-recommendation-button js-featured-recommendations__more-videos"><span class="js-cancelautoplay-label player-featured-recommendations-vod">Cancel</span><span class="js-morevideos-label player-featured-recommendations-live">More Videos</span></button> </div> </div> <div class=player-tower-columns data-columns=12> <div class="player-tower player-tower--gutter-xs js-video-recommendations"> <div class="player-tower-columns player-recommended-stream js-recommended-stream"> <div class=player-card> <a class=player-card__layout> <figure class="player-card__img player-card__img--vod"> <img class=js-recommended-stream__thumbnail /> </figure> <div class=player-card__overlay> <div class="player-card__body js-recommendations-card"> <h4 class="player-card__bread js-recommended-stream__channel"> Channel Name </h4> <h3 class="player-card__title js-recommended-stream__title"> Non-Optional Content Title </h3> <div class="player-card__autoplay-timer js-autoplay-timer"> <h4 class=player-card__info> <span class=js-autoplay-text>Playing in {{timeRemaining}} seconds</span> </h4> <div class="player-card__autoplay js-autoplay"> <div class="autoplay__progress js-autoplay-progress"> </div> </div> </div> <div class="player-card__time-info js-recommendation-time-info"> <h4 class=player-card__info> <time class=js-recommended-stream__date>00:00:00</time> &nbsp;·&nbsp; <time class=js-recommended-stream__length>00:00:00</time> </h4> </div> </div> </div> </a> </div> </div> </div> </div> </div> </div> <div class="player-video-background-banner js-video-background-banner"> <img class=js-meta-video-background /> </div> <div class="player-overlay player-loading js-player-loading"> <div class=player-center-content> <div class=player-loading-spinner></div> </div> </div> <div class="player-overlay player-chromecast-overlay"> <div class=player-center-content> <div class=js-playing-on-label>Playing on {{device}}</div> </div> </div> <div class="player-overlay player-fullscreen-overlay js-control-fullscreen-overlay"> </div> <div class="player-overlay player-extensions" id=js-player-extension-root> </div> <div class="cc-flag player-captions-container js-player-captions-container"> <div class="player-captions-window js-player-captions-window"> <div class="player-captions js-player-captions"></div> </div> </div> <div class="player-overlay player-play-overlay js-paused-overlay"> <button type=button class="player-button player-button-play js-control-play-button"> <svg class=player-icon-play><use xlink:href=#icon_play /></svg> </button> </div> <div class="player-overlay player-overlay--wall player-product-overlay js-player-product-overlay"> <div class="player-center-content player-product js-player-product"> <p></p> <a href="" target=_blank class="purchase_button js-subscribe-label">Subscribe</a> </div> </div> <div class="player-overlay player-overlay--wall player-overlay--empty-collection js-empty-collection-overlay" data-active=false> <div class=player-center-content> <p class=js-empty-collection-label>This collection is empty.</p> </div> </div> <div class="player-hover player-controls-top js-controls-top"> <div id=collection-topbar /> <div id=stream-info /> </div> <div id=js-collection-sidebar></div> <div id=js-follow-panel></div> <div class="collection-sidebar js-collection-sidebar" data-show-sidebar=false> <div class=collection-sidebar-header> <div class=collection-sidebar-header__layout> <div class="collection-sidebar-header__title ellipsis js-collection-title">Some Fantastic Collection Long Name Long Name Long Name Long Name</div> <div class=collection-sidebar-header-meta> <span class=js-collection-author>By a_llama_mall</span> <span class=middot-divider></span> <span class=js-collection-items-count>5 videos</span> <span class=middot-divider></span> <span class=js-collection-time-length>2 hours</span> </div> </div> <button type=button class="collection-close-button player-button player-icon--close-collection js-icon-close-collection"> <svg><use xlink:href=#icon_close_md /></svg> </button> </div> <div class="collection-sidebar-item-container js-collection-item-container"> <div class="collection-sidebar-item pl-flex pl-flex--verticalCenter pl-flex--nowrap js-collection-item" data-currentvod=false data-vod-id=""> <div class="collection-sidebar-item__number pl-flex__item js-collection-item-number">155</div> <img class="collection-sidebar-item__thumbnail pl-flex__item js-collection-item-thumbnail"/> <div class="collection-sidebar-item-detail pl-flex__item"> <div class="collection-sidebar-item-detail__title js-collection-item-title">World\'s Most Recent Stream Long Title Haha</div> <div class="collection-sidebar-item-detail__meta js-collection-item-meta"> <span class=js-collection-item-detail-channel>Annemunition</span> <span class="collection-sidebar-item__flag collection-sidebar-item__flag__sub" data-sub=false>Subscriber-only</span> <span class="collection-sidebar-item__flag collection-sidebar-item__flag__mature" data-mature=false>Mature</span> <span class="collection-sidebar-item__flag collection-sidebar-item__flag__21" data-age-gate=false>21+</span> </div> </div> </div> </div> </div> <div class=player-storm-warning> <div class=player-center-content> <div class=player-loading-spinner></div> <p> <span class=js-broadcast-down-label>The broadcast is down.</span><br/> <span class=js-broadcast-reload-label>The player will automatically reload when the broadcast is back.</span> </p> </div> </div> <div class=player-error> <div class=player-center-content> <p class=js-player-error></p> </div> </div> <div id=stream-status /> <div id=js-cc-options-modal class="js-cc-modal-container player-modal__container" data-state=closed> <div class="js-cc-modal player-modal__content" data-tab-selected=presets> <button type=button class="player-modal__close js-cc-custom-modal-dismiss"> <svg><use xlink:href=#icon_close_modal /></svg> </button> <h2 class="js-cc-modal-header player-modal__header">Closed Caption Settings</h2> <ul class="player-tabs clearfix"> <li class="player-tabs__item player-tabs__item--active" data-tab=presets> <a href=# class=js-cc-presets-tab>Presets</a> </li> <li class="player-tabs__item js-cc-tab-text" data-tab=text> <a href=# class=js-cc-text-tab>Text</a> </li> <li class="player-tabs__item js-cc-tab-text" data-tab=effects> <a href=# class=js-cc-effects-tab>Effects</a> </li> <li class=player-tabs__item data-tab=background> <a href=# class=js-cc-background-tab>Background</a> </li> <li class=player-tabs__item data-tab=window> <a href=# class=js-cc-window-tab>Window</a> </li> </ul> <div class=cc-modal-menu-frame data-tab=presets> <div class="cc-preset-square js-cc-preset js-cc-aa" data-preset=white-on-black>aA</div> <div class="cc-preset-square js-cc-preset js-cc-aa" data-preset=lime-on-black>aA</div> <div class="cc-preset-square js-cc-preset js-cc-aa" data-preset=yellow-on-black>aA</div> <div class="cc-preset-square js-cc-preset js-cc-aa" data-preset=cyan-on-black>aA</div> <div class="cc-preset-square js-cc-preset js-cc-aa" data-preset=magenta-on-black>aA</div> <div class="cc-preset-square js-cc-preset js-cc-aa cc-transparent-bg" data-preset=white-on-trans-black>aA</div> <div class="cc-preset-square js-cc-preset js-cc-aa cc-transparent-bg" data-preset=lime-on-trans-black>aA</div> <div class="cc-preset-square js-cc-preset js-cc-aa cc-transparent-bg" data-preset=yellow-on-trans-black>aA</div> <div class="cc-preset-square js-cc-preset js-cc-aa cc-transparent-bg" data-preset=cyan-on-trans-black>aA</div> <div class="cc-preset-square js-cc-preset js-cc-aa cc-transparent-bg" data-preset=magenta-on-trans-black>aA</div> <div class="cc-preset-square js-cc-preset js-cc-aa" data-preset=black-on-white>aA</div> </div> <div class=cc-modal-menu-frame data-tab=text> <div class=cc-customize-field> <label class=js-cc-font-label for=cc-font>Font</label> <select class=js-cc-dropdown name=font id=cc-font> <option value=mono-serif>Mono Serif</option> <option value=prop-serif>Serif</option> <option value=mono-sans-serif>Mono Sans-Serif</option> <option value=prop-sans-serif>Sans-Serif</option> <option value=casual>Casual</option> <option value=cursive>Cursive</option> <option value=small-capitals>Small Capitals</option> </select> </div> <div class=cc-customize-field> <label class=js-cc-justification-label for=cc-font-justification>Alignment</label> <select class=js-cc-dropdown name=alignment id=cc-font-justification> <option value=left>Left</option> <option value=center>Center</option> <option value=right>Right</option> </select> </div> <div class=cc-customize-field> <label class=js-cc-color-label>Color</label> <div class=cc-color-palette> <div class=cc-color-palette__container> <input id=font-color-white type=radio name=fontColorName class=js-cc-radio value=white> <label for=font-color-white class=cc-color-palette__square></label> </div> <div class=cc-color-palette__container> <input id=font-color-black type=radio name=fontColorName class=js-cc-radio value=black> <label for=font-color-black class=cc-color-palette__square></label> </div> <div class=cc-color-palette__container> <input id=font-color-red type=radio name=fontColorName class=js-cc-radio value=red> <label for=font-color-red class=cc-color-palette__square></label> </div> <div class=cc-color-palette__container> <input id=font-color-green type=radio name=fontColorName class=js-cc-radio value=green> <label for=font-color-green class=cc-color-palette__square></label> </div> <div class=cc-color-palette__container> <input id=font-color-cyan type=radio name=fontColorName class=js-cc-radio value=cyan> <label for=font-color-cyan class=cc-color-palette__square></label> </div> <div class=cc-color-palette__container> <input id=font-color-magenta type=radio name=fontColorName class=js-cc-radio value=magenta> <label for=font-color-magenta class=cc-color-palette__square></label> </div> <div class=cc-color-palette__container> <input id=font-color-yellow type=radio name=fontColorName class=js-cc-radio value=yellow> <label for=font-color-yellow class=cc-color-palette__square></label> </div> <div class=cc-color-palette__container> <input id=font-color-blue type=radio name=fontColorName class=js-cc-radio value=blue> <label for=font-color-blue class=cc-color-palette__square></label> </div> </div> </div> <div class=cc-customize-field> <label class=js-cc-position-label for=cc-position>Position</label> <select class=js-cc-dropdown name=verticalPosition id=cc-position> <option value=bottom>Bottom</option> <option value=top>Top</option> </select> </div> <div class=cc-customize-field> <label class=js-cc-opacity-label for=cc-font-opacity>Opacity</label> <select class=js-cc-dropdown name=fontOpacity id=cc-font-opacity> <option value=solid>Solid</option> <option value=translucent>Translucent</option> <option value=semiTransparent>Semi-Transparent</option> <option value=flashing>Flashing</option> </select> </div> <div class=cc-customize-field> <label class=js-cc-size-label>Size</label> <button class="js-cc-font-size cc-font-size" value=increment>A <span class="js-font-increment-tip player-tip js-control-tip" data-tip="Increase Size"></span> </button> <button class="js-cc-font-size cc-font-size" value=decrement>A <span class="js-font-decrement-tip player-tip js-control-tip" data-tip="Decrease Size"></span> </button> </div> </div> <div class=cc-modal-menu-frame data-tab=effects> <div class=cc-customize-field> <label class=js-cc-style-label>Style</label> <div class=cc-style-palette> <div class=cc-style-palette__container> <input id=style-underline type=checkbox name=fontUnderline class=js-cc-checkbox value=underline> <label for=style-underline class=cc-style-palette__square>U</label> </div> <div class=cc-style-palette__container> <input id=style-italic type=checkbox name=fontItalic class=js-cc-checkbox value=italic> <label for=style-italic class=cc-style-palette__square>I</label> </div> <div class=cc-style-palette__container> <input id=style-bold type=checkbox name=fontBold class=js-cc-checkbox value=bold> <label for=style-bold class=cc-style-palette__square>B</label> </div> </div> </div> <div class=cc-customize-field> <label class=js-cc-edge-label>Effect</label> <div class=cc-edge-palette> <div class=cc-edge-palette__container> <hr class=cc-edge-disabled /> <input id=edge-effect-none type=radio name=edge class=js-cc-radio value=none> <label for=edge-effect-none class=cc-edge-palette__square>aA</label> </div> <div class=cc-edge-palette__container> <input id=edge-effect-raised type=radio name=edge class=js-cc-radio value=raised> <label for=edge-effect-raised class=cc-edge-palette__square>aA</label> </div> <div class=cc-edge-palette__container> <input id=edge-effect-drop-shadow type=radio name=edge class=js-cc-radio value=drop> <label for=edge-effect-drop-shadow class=cc-edge-palette__square>aA</label> </div> <div class=cc-edge-palette__container> <input id=edge-effect-depressed type=radio name=edge class=js-cc-radio value=depressed> <label for=edge-effect-depressed class=cc-edge-palette__square>aA</label> </div> <div class=cc-edge-palette__container> <input id=edge-effect-uniform type=radio name=edge class=js-cc-radio value=uniform> <label for=edge-effect-uniform class=cc-edge-palette__square>aA</label> </div> </div> </div> </div> <div class=cc-modal-menu-frame data-tab=background> <div class=cc-customize-field> <label class=js-cc-opacity-label for=cc-bg-opacity>Opacity</label> <select class=js-cc-dropdown name=backgroundOpacity id=cc-bg-opacity> <option class=js-cc-opacity-solid value=solid>Solid</option> <option class=js-cc-opacity-translucent value=translucent>Translucent</option> </select> </div> <div class=cc-customize-field> <label class=js-cc-color-label>Color</label> <div class=cc-color-palette> <div class=cc-color-palette__container> <hr class=cc-no-color /> <input id=background-transparent type=radio name=backgroundColorName class=js-cc-radio value=transparent> <label for=background-transparent class="cc-color-palette__square cc-color-palette__square-no-color"></label> </div> <div class=cc-color-palette__container> <input id=background-color-white type=radio name=backgroundColorName class=js-cc-radio value=white> <label for=background-color-white class=cc-color-palette__square></label> </div> <div class=cc-color-palette__container> <input id=background-color-lightgray type=radio name=backgroundColorName class=js-cc-radio value=lightgray> <label for=background-color-lightgray class=cc-color-palette__square></label> </div> <div class=cc-color-palette__container> <input id=background-color-gray type=radio name=backgroundColorName class=js-cc-radio value=gray> <label for=background-color-gray class=cc-color-palette__square></label> </div> <div class=cc-color-palette__container> <input id=background-color-darkgray type=radio name=backgroundColorName class=js-cc-radio value=darkgray> <label for=background-color-darkgray class=cc-color-palette__square></label> </div> <div class=cc-color-palette__container> <input id=background-color-black type=radio name=backgroundColorName class=js-cc-radio value=black> <label for=background-color-black class=cc-color-palette__square></label> </div> <div class=cc-color-palette__container> <input id=background-color-green type=radio name=backgroundColorName class=js-cc-radio value=green> <label for=background-color-green class=cc-color-palette__square></label> </div> <div class=cc-color-palette__container> <input id=background-color-blue type=radio name=backgroundColorName class=js-cc-radio value=blue> <label for=background-color-blue class=cc-color-palette__square></label> </div> <div class=cc-color-palette__container> <input id=background-color-cyan type=radio name=backgroundColorName class=js-cc-radio value=cyan> <label for=background-color-cyan class=cc-color-palette__square></label> </div> <div class=cc-color-palette__container> <input id=background-color-magenta type=radio name=backgroundColorName class=js-cc-radio value=magenta> <label for=background-color-magenta class=cc-color-palette__square></label> </div> <div class=cc-color-palette__container> <input id=background-color-yellow type=radio name=backgroundColorName class=js-cc-radio value=yellow> <label for=background-color-yellow class=cc-color-palette__square></label> </div> <div class=cc-color-palette__container> <input id=background-color-red type=radio name=backgroundColorName class=js-cc-radio value=red> <label for=background-color-red class=cc-color-palette__square></label> </div> </div> </div> </div> <div class=cc-modal-menu-frame data-tab=window> <div class=cc-customize-field> <label class=js-cc-opacity-label for=cc-window-opacity>Opacity</label> <select class=js-cc-dropdown name=windowOpacity id=cc-window-opacity> <option class=js-cc-opacity-solid value=solid>Solid</option> <option class=js-cc-opacity-translucent value=translucent>Translucent</option> </select> </div> <div class=cc-customize-field> <label class=js-cc-color-label>Color</label> <div class=cc-color-palette> <div class=cc-color-palette__container> <hr class=cc-no-color /> <input id=window-transparent type=radio name=windowColorName class=js-cc-radio value=transparent> <label for=window-transparent class="cc-color-palette__square cc-color-palette__square-no-color"></label> </div> <div class=cc-color-palette__container> <input id=window-color-white type=radio name=windowColorName class=js-cc-radio value=white> <label for=window-color-white class=cc-color-palette__square></label> </div> <div class=cc-color-palette__container> <input id=window-color-lightgray type=radio name=windowColorName class=js-cc-radio value=lightgray> <label for=window-color-lightgray class=cc-color-palette__square></label> </div> <div class=cc-color-palette__container> <input id=window-color-gray type=radio name=windowColorName class=js-cc-radio value=gray> <label for=window-color-gray class=cc-color-palette__square></label> </div> <div class=cc-color-palette__container> <input id=window-color-darkgray type=radio name=windowColorName class=js-cc-radio value=darkgray> <label for=window-color-darkgray class=cc-color-palette__square></label> </div> <div class=cc-color-palette__container> <input id=window-color-black type=radio name=windowColorName class=js-cc-radio value=black> <label for=window-color-black class=cc-color-palette__square></label> </div> <div class=cc-color-palette__container> <input id=window-color-green type=radio name=windowColorName class=js-cc-radio value=green> <label for=window-color-green class=cc-color-palette__square></label> </div> <div class=cc-color-palette__container> <input id=window-color-blue type=radio name=windowColorName class=js-cc-radio value=blue> <label for=window-color-blue class=cc-color-palette__square></label> </div> <div class=cc-color-palette__container> <input id=window-color-cyan type=radio name=windowColorName class=js-cc-radio value=cyan> <label for=window-color-cyan class=cc-color-palette__square></label> </div> <div class=cc-color-palette__container> <input id=window-color-magenta type=radio name=windowColorName class=js-cc-radio value=magenta> <label for=window-color-magenta class=cc-color-palette__square></label> </div> <div class=cc-color-palette__container> <input id=window-color-yellow type=radio name=windowColorName class=js-cc-radio value=yellow> <label for=window-color-yellow class=cc-color-palette__square></label> </div> <div class=cc-color-palette__container> <input id=window-color-red type=radio name=windowColorName class=js-cc-radio value=red> <label for=window-color-red class=cc-color-palette__square></label> </div> </div> </div> </div> </div> </div> <div class="player-hover player-controls-bottom pl-flex js-controls-bottom"> <div id=js-player-seek class=player-seek /> <div class=player-buttons-left> <button type=button class="player-button player-button--playpause js-control-playpause-button" tabindex=-1> <span class="pause-button js-pause-button"> <span class="player-tip player-tip--aleft js-tip" data-tip=Pause></span> <svg class=player-icon-pause><use xlink:href=#icon_pause /></svg> </span> <span class="play-button js-play-button"> <span class="player-tip player-tip--aleft js-tip" data-tip=Play></span> <svg class=player-icon-play><use xlink:href=#icon_play /></svg> </span> </button> <div id=js-player-volume class=player-volume /> </div> <div class=player-buttons-right> <div id=js-notification-popup-container></div> <div id=js-settings class="flex flex__item"></div> <button type=button class="cc-flag player-button player-button--cc js-control-cc" tabindex=-1> <span class="player-tip js-control-tip" data-tip=Captions></span> <svg class=js-player-icon-cc><use xlink:href=#icon_cc_on /></svg> <svg class=js-player-icon-cc-deactivated><use xlink:href=#icon_cc_off /></svg> </button> <div class=player-menu> <button type=button class="player-button player-button--clips js-control-clips" data-canclip=false> <span class="player-tip js-tip" data-tip=Clip></span> <svg class=player-icon-clips><use xlink:href=#icon_clips /></svg> <svg class="player-icon-clips--bday js-player-icon-clips--bday" style=visibility:hidden> <use xlink:href=#icon_clips--bday /> </svg> </button> <form class=js-create-clip-form method=post action="" target=""> <input class=js-create-clip-player-backend-type type=hidden name=player_backend_type value=""/> <input class=js-create-clip-channel type=hidden name=channel value=""/> <input class=js-create-clip-offset type=hidden name=offset value=""/> <input class=js-create-clip-broadcast_id type=hidden name=broadcast_id value=""/> <input class=js-create-clip-vod_id type=hidden name=vod_id value=""/> <input class=js-create-clip-play_session_id type=hidden name=play_session_id value=""/> <input class=js-create-clip-show-view-page type=hidden name=show_view_page value=""/> </form> </div> <button type=button class="player-button player-button--chromecast js-chromecast-button"> <span class="player-tip js-tip" data-tip=Chromecast></span> <svg class=player-icon-chromecast-p1><use xlink:href=#icon_chromecast_p1 /></svg> <svg class=player-icon-chromecast-p2><use xlink:href=#icon_chromecast_p2 /></svg> <svg class=player-icon-chromecast-p3><use xlink:href=#icon_chromecast_p3 /></svg> <svg class=player-icon-chromecast-p4><use xlink:href=#icon_chromecast_p4 /></svg> <svg class=player-icon-chromecast-p5><use xlink:href=#icon_chromecast_p5 /></svg> </button> <button type=button class="player-button player-button--theatre js-control-theatre" tabindex=-1> <span class="enter-theatre-button js-theatre-button"> <span class="player-tip theatre-inactive-tip js-control-tip" data-tip="Theater Mode"></span> <svg class=player-icon-theatre><use xlink:href=#icon_theatre /></svg> </span> <span class="exit-theatre-button js-exit-theatre-button"> <span class="player-tip theatre-inactive-tip js-control-tip" data-tip="Exit Theater Mode"></span> <svg class=player-icon-theatre-deactivate><use xlink:href=#icon_theatre_deactivate /></svg> </span> </button> <button type=button class="player-button player-button--fullscreen js-control-fullscreen" tabindex=-1> <span class="fullscreen-button js-fullscreen"> <span class="player-tip js-control-tip" data-tip=Fullscreen></span> <svg class=player-icon-fullscreen><use xlink:href=#icon_fullscreen /></svg> </span> <span class="exit-fullscreen-button js-exit-fullscreen"> <span class="player-tip js-control-tip" data-tip="Exit Fullscreen"></span> <svg class=player-icon-unfullscreen><use xlink:href=#icon_unfullscreen /></svg> </span> </button> <button type=button class="player-button player-button--twitch js-watch-twitch"> <span class="player-tip player-tip--aright js-tip" data-tip="Watch on Twitch"></span> <svg><use xlink:href=#icon_twitch /></svg> </button> </div> </div> <div class=player-ad-notice> <p class=js-advertisement-label>Advertisement</p> </div> <div id=js-player-alert-container /> <ul class="player-playback-stats js-playback-stats" data-state=off> <button type=button class="player-button player-button--noscale player-button--close js-stats-close"> <svg><use xlink:href=#icon_close /></svg> </button> <li>Video Resolution: <div><span class=js-stat-video-resolution></span></div></li> <li>Display Resolution: <div><span class=js-stat-display-resolution></span></div></li> <li>FPS: <div><span class=js-stat-fps></span></div></li> <li>Skipped Frames: <div><span class=js-stat-skipped-frames></span></div></li> <li>Buffer Size: <div><span class=js-stat-buffer-size></span> sec.</div></li> <li class=stats__latency-broadcaster>Latency to Broadcaster: <div><span class=js-stat-hls-latency-broadcaster></span> sec.</div></li> <li class=stats__latency-encoder>Latency to Encoder: <div><span class=js-stat-hls-latency-encoder></span> sec.</div></li> <li>Playback Rate: <div><span class=js-stat-playback-rate></span> Kbps</div></li> <li>Memory Usage: <div><span class=js-stat-memory-usage></span></div></li> <li>Backend Version: <div><span class=js-stat-video-backend-version></span></div></li> </ul> <svg viewBox="0 0 30 30" xmlns=http://www.w3.org/2000/svg style=width:0;height:0;visibility:hidden;display:block> <symbol viewBox="0 0 30 30" id=icon_play><path clip-rule=evenodd d=M10,7l12,8l-12,8V7z fill-rule=evenodd></path></symbol> <symbol viewBox="0 0 30 30" id=icon_pause><path clip-rule=evenodd d="M9,22h4V8H9V22z M17,8v14h4V8H17z" fill-rule=evenodd></path></symbol> <symbol viewBox="0 0 30 30" id=icon_volumefull><path clip-rule=evenodd d="M22,21.5v-13L23,8v14L22,21.5z M18,10.5l1-0.5v10l-1-0.5V10.5z M7,18v-6l3,0l5-4v14l-5-4L7,18z" fill-rule=evenodd></path></symbol> <symbol viewBox="0 0 30 30" id=icon_volumemute><path clip-rule=evenodd d="M23,18L23,18h-0.7L20,15.7L17.7,18H17l0,0v-0.7l2.3-2.3L17,12.7V12l0,0h0.7l2.3,2.3l2.3-2.3H23l0,0v0.7L20.7,15l2.3,2.3V18z M7,18v-6l3,0l5-4v14l-5-4L7,18z" fill-rule=evenodd></path></symbol> <symbol viewBox="0 0 30 30" id=icon_fullscreen><path clip-rule=evenodd d="M7,7 L15.2,7 L12.8,9.4 L15.8,12.4 L12.4,15.8 L9.4,12.8 L7,15.2 L7,7 Z M23,23 L14.8,23 L17.2,20.6 L14.2,17.6 L17.6,14.2 L20.6,17.2 L23,14.8 L23,23 Z" fill-rule=evenodd></path></symbol> <symbol viewBox="0 0 30 30" id=icon_unfullscreen><path clip-rule=evenodd d="M15,15 L23.2,15 L20.8,17.4 L23.8,20.4 L20.4,23.8 L17.4,20.8 L15,23.2 L15,15 L15,15 Z M15,15 L6.8,15 L9.2,12.6 L6.2,9.6 L9.6,6.2 L12.6,9.2 L15,6.8 L15,15 L15,15 Z" fill-rule=evenodd></path></symbol> <symbol viewBox="0 0 30 30" id=icon_settings><path clip-rule=evenodd d="M13.3589744,7 L16.6410256,7 L18.0769231,9.8 L21.3589744,9.8 L23,12.2 L21.3589744,15 L23,17.8 L21.3589744,20.2 L18.0769231,20.2 L16.6410256,23 L13.3589744,23 L11.9230769,20.2 L8.64102564,20.2 L7,17.8 L8.64102564,15 L7,12.2 L8.64102564,9.8 L11.9230769,9.8 L13.3589744,7 Z M15,17.8 C16.5860485,17.8 17.8717949,16.5463973 17.8717949,15 C17.8717949,13.4536027 16.5860485,12.2 15,12.2 C13.4139515,12.2 12.1282051,13.4536027 12.1282051,15 C12.1282051,16.5463973 13.4139515,17.8 15,17.8 Z" fill-rule=evenodd></path></symbol> <symbol viewBox="0 0 30 30" id=icon_theatre><path d="M6 21h11V9H6v12zM19 9v12h5V9h-5z" fill-rule=evenodd></path></symbol> <symbol viewBox="0 0 30 30" id=icon_theatre_deactivate><path d="M6 9h11v12H6V9zm2 2h9v8H8v-8zm9-2h7v12h-7V9zm2 2h3v8h-3v-8z" fill-rule=evenodd></path></symbol> <symbol viewBox="0 0 63 30" id=icon_twitch><path clip-rule=evenodd d="M55,19 L52,19 L52,13 L49,13 L49,19 L46,19 L46,8 L49,8 L49,10 L53,10 L55,12 L55,19 L55,19 Z M45,13 L41,13 L41,16 L45,16 L45,19 L40,19 L38,17 L38,12 L40,10 L45,10 L45,13 L45,13 Z M37,13 L34,13 L34,16 L37,16 L37,19 L33,19 L31,17 L31,8 L34,8 L34,10 L37,10 L37,13 L37,13 Z M27,8 L30,8 L30,9 L27,9 L27,8 Z M27,10 L30,10 L30,19 L27,19 L27,10 Z M26,17 L24,19 L15,19 L15,10 L18,10 L18,16 L19,16 L19,10 L22,10 L22,16 L23,16 L23,10 L26,10 L26,17 L26,17 Z M14,13 L11,13 L11,16 L14,16 L14,19 L10,19 L8,17 L8,8 L11,8 L11,10 L14,10 L14,13 L14,13 Z M53.5,9 L50,9 L50,7 L45.5,7 L43,9 L39.5,9 L38,10.5 L38,9 L35,9 L35,7 L26,7 L26,9 L15,9 L12,7 L7,7 L7,17.5 L9.5,20.125 L14,23 L18,23 L18,22.25 L19.5,23 L25.5,23 L26.5,21.5 L27,23 L31,23 L31,21.5 L32.5,23 L37,23 L37.25,21.5 L38.5,23 L43.5,23 L45,21.5 L45,23 L47.5,23 L49,21.5 L49,23 L52.5,23 L56,19.5 L56,11.5 L53.5,9 L53.5,9 Z" fill-rule=evenodd></path></symbol> <symbol viewBox="0 0 30 30" id=icon_close><path clip-rule=evenodd d="M15.1035534,15.4571068 L11.5303301,19.0303301 L11.3535534,19.2071068 L11,18.8535534 L11.1767767,18.6767767 L14.75,15.1035534 L11.1767767,11.5303301 L11,11.3535534 L11.3535534,11 L11.5303301,11.1767767 L15.1035534,14.75 L18.6767767,11.1767767 L18.8535534,11 L19.2071068,11.3535534 L19.0303301,11.5303301 L15.4571068,15.1035534 L19.0303301,18.6767767 L19.2071068,18.8535534 L18.8535534,19.2071068 L18.6767767,19.0303301 L15.1035534,15.4571068 Z" fill-rule=evenodd></path></symbol> <symbol viewBox="0 0 30 30" id=icon_close_md><path clip-rule=evenodd d="M20.657 10.757L16.414 15l4.243 4.242-1.415 1.415L15 16.414l-4.243 4.243-1.414-1.415L13.586 15l-4.243-4.243 1.414-1.414L15 13.586l4.242-4.243 1.415 1.414z" fill-rule=evenodd></path></symbol> <symbol viewBox="0 0 30 30" id=icon_chromecast_p1><path fill-rule=evenodd clip-rule=evenodd d=M15,22c0-0.7-0.1-1.4-0.2-2H22V10H8v3.2C7.4,13.1,6.7,13,6,13V8h18v14H15z /></symbol> <symbol viewBox="0 0 30 30" id=icon_chromecast_p2><path fill-rule=evenodd clip-rule=evenodd d=M10,13.9V12h10v6h-5.9C13.2,16.2,11.8,14.8,10,13.9z /></symbol> <symbol viewBox="0 0 30 30" id=icon_chromecast_p3><path fill-rule=evenodd clip-rule=evenodd d=M13,22h-1c0-3.3-2.7-6-6-6v-1C9.9,15,13,18.1,13,22z /></symbol> <symbol viewBox="0 0 30 30" id=icon_chromecast_p4><path fill-rule=evenodd clip-rule=evenodd d=M10,22H9c0-1.7-1.3-3-3-3v-1C8.2,18,10,19.8,10,22z /></symbol> <symbol viewBox="0 0 30 30" id=icon_chromecast_p5><path fill-rule=evenodd clip-rule=evenodd d=M7,22H6v-1C6.6,21,7,21.4,7,22z /></symbol> <symbol viewBox="0 0 30 30" id=icon_clips><path d="M14.802 7.804l-3.83 1.026 2.928 2.321 3.83-1.026-2.928-2.321zm2.895-.776l3.981-1.067.777 2.898-1.83.49-2.928-2.321zM7.969 9.635l-1.745.467L7 13l3.898-1.044-2.929-2.321zM7 13h16v9H7v-9zm1.969 3h2.785l2.228-3h-2.785l-2.228 3zm7.018 0h2.785L21 13h-2.785l-2.228 3z" fill-rule=evenodd /></symbol> <symbol viewBox="0 0 13 18" id=icon_clips--bday><path d="M6.505 7.61l2.41 2.33H4.53l.621-2.174-.552-.81L1.43 8.53l1.77-2.803L.266 4.184l3.531-.22.234-3.118 1.761 2.583L8.96 1.854 7.19 4.658 10.124 6.2l-3.53.22-.09 1.189zm6.546 6.33H3.385l.625-2.182h6.785l2.256 2.182zm-3.042 1.818l-7.737 2.073.593-2.073h7.144z" fill-rule=evenodd /></symbol> <symbol viewBox="0 0 30 30" id=icon_cc_on><path fill-rule=evenodd clip-rule=evenodd d="M5,8 L6,7 L24,7 L25,8 L25,22 L24,23 L6,23 L5,22 L5,8 Z M8,15 C8,17.2003155 9.48065348,18.75 11.5511608,18.75 C13.3929493,18.75 14.4763543,17.6735016 14.7411866,16.1829653 L12.8151333,16.1829653 C12.6225279,16.7271293 12.2252794,17.0820189 11.5511608,17.0820189 C10.527945,17.0820189 9.95012898,16.1829653 9.95012898,15 C9.95012898,13.805205 10.527945,12.9179811 11.5511608,12.9179811 C12.2252794,12.9179811 12.6225279,13.2728707 12.8151333,13.805205 L14.7411866,13.805205 C14.4763543,12.3264984 13.3929493,11.25 11.5511608,11.25 C9.48065348,11.25 8,12.7996845 8,15 Z M15.2588134,15 C15.2588134,17.2003155 16.7394669,18.75 18.8099742,18.75 C20.6517627,18.75 21.7351677,17.6735016 22,16.1829653 L20.0739467,16.1829653 C19.8813414,16.7271293 19.4840929,17.0820189 18.8099742,17.0820189 C17.7867584,17.0820189 17.2089424,16.1829653 17.2089424,15 C17.2089424,13.805205 17.7867584,12.9179811 18.8099742,12.9179811 C19.4840929,12.9179811 19.8813414,13.2728707 20.0739467,13.805205 L22,13.805205 C21.7351677,12.3264984 20.6517627,11.25 18.8099742,11.25 C16.7394669,11.25 15.2588134,12.7996845 15.2588134,15 Z"></path></symbol> <symbol viewBox="0 0 30 30" id=icon_cc_off><path fill-rule=evenodd clip-rule=evenodd d="M5,8 L6,7 L24,7 L25,8 L25,22 L24,23 L6,23 L5,22 L5,8 Z M24,8 L24,22 L6,22 L6,8 L24,8 Z M8,15 C8,17.2003155 9.48065348,18.75 11.5511608,18.75 C13.3929493,18.75 14.4763543,17.6735016 14.7411866,16.1829653 L12.8151333,16.1829653 C12.6225279,16.7271293 12.2252794,17.0820189 11.5511608,17.0820189 C10.527945,17.0820189 9.95012898,16.1829653 9.95012898,15 C9.95012898,13.805205 10.527945,12.9179811 11.5511608,12.9179811 C12.2252794,12.9179811 12.6225279,13.2728707 12.8151333,13.805205 L14.7411866,13.805205 C14.4763543,12.3264984 13.3929493,11.25 11.5511608,11.25 C9.48065348,11.25 8,12.7996845 8,15 Z M15.2588134,15 C15.2588134,17.2003155 16.7394669,18.75 18.8099742,18.75 C20.6517627,18.75 21.7351677,17.6735016 22,16.1829653 L20.0739467,16.1829653 C19.8813414,16.7271293 19.4840929,17.0820189 18.8099742,17.0820189 C17.7867584,17.0820189 17.2089424,16.1829653 17.2089424,15 C17.2089424,13.805205 17.7867584,12.9179811 18.8099742,12.9179811 C19.4840929,12.9179811 19.8813414,13.2728707 20.0739467,13.805205 L22,13.805205 C21.7351677,12.3264984 20.6517627,11.25 18.8099742,11.25 C16.7394669,11.25 15.2588134,12.7996845 15.2588134,15 Z"></path></symbol> <symbol viewBox="0 0 30 30" id=icon_close_modal><path clip-rule=evenodd d="M13.657 3.757l-4.243 4.243 4.243 4.242-1.415 1.415-4.242-4.243-4.243 4.243-1.414-1.415 4.243-4.242-4.243-4.243 1.414-1.414 4.243 4.243 4.242-4.243 1.415 1.414z" fill-rule=evenodd /></symbol> <symbol viewBox="0 0 14 14" id=icon_arrow><path d="M6.46765898,5.00010938 L6.46755335,5 L3.08055618,8.27078515 C2.97320936,8.37444877 2.97610632,8.52662201 3.07163118,8.6255409 L3.47144895,9.03956433 C3.56460436,9.13602957 3.72584608,9.14003286 3.82630008,9.04302556 L6.46765898,6.49229492 L9.10901788,9.04302556 C9.20947188,9.14003286 9.3707136,9.13602957 9.46386901,9.03956433 L9.86368678,8.6255409 C9.95921164,8.52662201 9.9621086,8.37444877 9.85476178,8.27078515 L6.46776461,5 L6.46765898,5.00010938 Z" transform="translate(6.467659, 7.056937) scale(-1, 1) rotate(-270.000000) translate(-6.467659, -7.056937) "></path></symbol> <symbol viewBox="0 0 98 86" id=age-gate-icon><path d="M24 8h50v10h12V8h12v78H0V8h12v10h12V8zm52-8h8v16h-8V0zM14 0h8v16h-8V0zm13.356 43.52h3.8c-.03-.954.068-1.9.29-2.84.225-.938.59-1.78 1.097-2.526.506-.745 1.155-1.348 1.945-1.81.79-.463 1.736-.694 2.84-.694.834 0 1.624.135 2.37.403.744.268 1.393.656 1.944 1.162.552.507.99 1.11 1.32 1.81.327.702.49 1.484.49 2.35 0 1.102-.17 2.07-.513 2.905-.344.835-.85 1.61-1.52 2.326-.672.715-1.514 1.423-2.528 2.124-1.013.7-2.19 1.468-3.532 2.303-1.103.655-2.16 1.356-3.175 2.1-1.014.746-1.923 1.61-2.728 2.595-.805.983-1.468 2.14-1.99 3.465-.52 1.327-.857 2.93-1.006 4.807h20.705v-3.354H30.888c.18-.983.56-1.855 1.14-2.616.582-.76 1.282-1.468 2.102-2.123.82-.656 1.722-1.275 2.705-1.856.984-.58 1.968-1.17 2.952-1.765.983-.626 1.937-1.282 2.86-1.968.925-.686 1.745-1.453 2.46-2.303.716-.85 1.29-1.81 1.722-2.884.432-1.073.648-2.31.648-3.71 0-1.492-.26-2.803-.783-3.936-.522-1.133-1.23-2.08-2.124-2.84-.893-.76-1.944-1.34-3.15-1.744-1.21-.402-2.498-.603-3.87-.603-1.67 0-3.16.283-4.47.85-1.312.566-2.408 1.348-3.287 2.347-.88 1-1.528 2.183-1.945 3.555-.418 1.37-.582 2.86-.492 4.47zM65.17 64V32.297H62.26c-.208 1.192-.596 2.176-1.162 2.95-.567.776-1.26 1.387-2.08 1.834-.82.448-1.736.754-2.75.918-1.013.164-2.057.246-3.13.246v3.04h8.228V64h3.8z" fill=#F9F7FC fill-rule=evenodd /></symbol> <symbol id=age-gate-fail-icon viewBox="0 0 92 81"><path d="M0 75.6l3.067-5.4L9.2 59.4l12.267-21.6 12.266-21.6 6.134-10.8L42.933 0h6.134l3.066 5.4 6.134 10.8 12.266 21.6L82.8 59.4l6.133 10.8L92 75.6 89.06 81H3.44L0 75.6zM40 27h12v13l-3 19h-6l-3-19V27zm1 34h10v10H41V61z" fill=#F9F7FC fill-rule=evenodd /></symbol> <symbol viewBox="0 0 19 19" id=icon_open_collection><path fill-rule=evenodd d="M0,6 L19,6 L19,19 L0,19 L0,6 Z M12.25,12.5 L7,9 L7,16 L12.25,12.5 Z M2,3 L17,3 L17,5 L2,5 L2,3 Z M4,0 L15,0 L15,2 L4,2 L4,0 Z"/></symbol> <symbol id=icon_pl-followcheck viewBox="0 0 16 16"><path clip-rule=evenodd d=M6.5,12.75L2,8.25l2-2l2.5,2.5l5.5-5.5l2,2L6.5,12.75z fill-rule=evenodd></path></symbol> <symbol viewBox="0 0 30 30" id=pl-icon_close><path clip-rule=evenodd d="M20.657 10.757L16.414 15l4.243 4.242-1.415 1.415L15 16.414l-4.243 4.243-1.414-1.415L13.586 15l-4.243-4.243 1.414-1.414L15 13.586l4.242-4.243 1.415 1.414z"/></symbol> <symbol viewBox="0 0 14 12" id=pl-icon_vod><path d="M0 12h14V0H0v12zm4-3V3l7 3-7 3z" fill-rule=evenodd></path></symbol> <symbol viewBox="0 0 16 3" id=icon_more_info><path d="M15 1.5c0 .389-.139.736-.417 1.042-.277.305-.639.458-1.083.458-.444 0-.806-.153-1.083-.458a1.506 1.506 0 0 1 0-2.084C12.694.153 13.056 0 13.5 0c.444 0 .806.153 1.083.458.278.306.417.653.417 1.042zm-6 0c0 .389-.139.736-.417 1.042C8.306 2.847 7.944 3 7.5 3c-.444 0-.806-.153-1.083-.458a1.506 1.506 0 0 1 0-2.084C6.694.153 7.056 0 7.5 0c.444 0 .806.153 1.083.458C8.861.764 9 1.111 9 1.5zm-6 0c0 .389-.139.736-.417 1.042C2.306 2.847 1.944 3 1.5 3c-.444 0-.806-.153-1.083-.458a1.506 1.506 0 0 1 0-2.084C.694.153 1.056 0 1.5 0c.444 0 .806.153 1.083.458C2.861.764 3 1.111 3 1.5z" fill-rule=evenodd /></symbol> <symbol viewBox="0 0 22 14" id=icon_grant_permissions><g fill-rule=evenodd><path d="M16 5h-3v1.994L11.91 8H16v3l6-4.5L16 2v3z"/><path d="M0 14v-1l3-3h3L3 7V0h8v7l-3 3h3l3 3v1z"/></g></symbol> <symbol viewBox="0 0 22 14" id=icon_revoke_permissions><g fill-rule=evenodd><path d="M0 14v-1l3-3h3L3 7V0h8v7l-3 3h3l3 3v1z"/><path fill=currentColor d="M17.013 5.34l-2.37-2.37-1.624 1.624 2.37 2.37-2.37 2.37 1.624 1.624 2.37-2.37 2.37 2.37 1.624-1.624-2.37-2.37 2.37-2.37-1.624-1.624-2.37 2.37z"/></g></symbol> <symbol viewBox="0 0 22 14" id=icon_approved_permissions><g fill-rule=evenodd><path d="M0 14v-1l3-3h3L3 7V0h8v7l-3 3h3l3 3v1z"/><path fill=currentColor fill-rule=nonzero d="M20.356 3L22 4.618 15.513 11 12 7.543l1.644-1.617 1.87 1.839z"/></g></symbol> <symbol viewBox="0 0 16 16" id=icon_report_flag><path clip-rule=evenodd d="M3,14 L1,14 L1,2 L3,2 L3,14 L3,14 Z M4,2 L11,2 L11,4 L15,4 L15,11 L8,11 L8,9 L4,9 L4,2 L4,2 Z"></path></symbol> <symbol id=icon_heart height=16px version=1.1 viewBox="0 0 16 16" width=16px x=0px y=0px> <path clip-rule=evenodd d=M8,14L1,7V4l2-2h3l2,2l2-2h3l2,2v3L8,14z fill-rule=evenodd></path> </symbol> <symbol id=icon_unheart height=16px version=1.1 viewBox="0 0 16 16" width=16px x=0px y=0px> <path clip-rule=evenodd d="M1,9V7h14v2H1z M1,4l2-2h3l2,2l2-2h3l2,2v2H1V4z M8,14l-4.667-4h9.333L8,14z" fill-rule=evenodd></path> </symbol> </svg> ';
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function a(e) {
            return "video-playback-by-id." + e
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.PubSub = void 0;
        var o = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            s = n(714),
            l = r(s),
            u = n(718),
            c = r(u),
            d = n(183),
            f = n(337),
            p = n(395),
            _ = n(334),
            h = n(730),
            m = n(167),
            v = "production";
        t.PubSub = function() {
            function e(t) {
                var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                i(this, e), this._store = t, this._debugMode = n.debug, this._pubSub = c.default.getInstance(v), this._topics = [], this._onMessage = this._onPubSubMessage.bind(this), this._unsubscribe = this._subscribe()
            }
            return o(e, [{
                key: "destroy",
                value: function() {
                    var e = this;
                    this._unsubscribe(), this._topics.forEach(function(t) {
                        return e._unlisten(t)
                    })
                }
            }, {
                key: "_onPubSubMessage",
                value: function(e) {
                    var t = void 0;
                    try {
                        t = JSON.parse(e)
                    } catch (e) {
                        return void console.error("Pubsub: %o", e)
                    }
                    switch (this._debugMode && console.info("PubSub: %o", t), t.type) {
                        case "stream-up":
                            this._store.dispatch((0, _.setStream)(_.TYPE_CHANNEL, this._store.getState().stream.channel));
                            break;
                        case "stream-down":
                            this._store.dispatch((0, p.setOnline)(!1));
                            break;
                        case "viewcount":
                            this._store.dispatch((0, f.updateViewerCount)(t.viewers));
                            break;
                        case "tos-strike":
                            this._store.getState().window.document.location.reload();
                            break;
                        case "watchparty-vod":
                            this._store.dispatch((0, h.updateWatchPartyVod)(t.vod));
                            break;
                        default:
                            this._debugMode && console.warn("PubSub: Unrecognized message %o", t)
                    }
                }
            }, {
                key: "_subscribe",
                value: function() {
                    var e = this;
                    return (0, d.subscribe)(this._store, ["streamMetadata.channel.id"], function(t, n) {
                        var r = n.streamMetadata.channel.id,
                            i = n.streamMetadata.channelName,
                            o = t.streamMetadata.channel.id,
                            s = e._store.getState().stream;
                        r && i && e._unlisten(a(r)), s.contentType === m.CONTENT_MODE_LIVE && o && e._listen(a(o))
                    })
                }
            }, {
                key: "_listen",
                value: function(e) {
                    var t = this;
                    this._topics.push(e), this._pubSub.Listen({
                        topic: e,
                        success: function() {
                            t._debugMode && console.info("PubSub: successfully listened to %s", e)
                        },
                        failure: function(n) {
                            t._topics = (0, l.default)(t._topics, e), console.error("PubSub: error listening: %o", n)
                        },
                        message: this._onMessage
                    })
                }
            }, {
                key: "_unlisten",
                value: function(e) {
                    var t = this;
                    this._topics = (0, l.default)(this._topics, e), this._pubSub.Unlisten({
                        topic: e,
                        success: function() {
                            t._debugMode && console.info("PubSub: successfully unlistened to %s", e)
                        },
                        failure: function(n) {
                            t._topics.push(e), console.error("PubSub: error unlistening: %o", n)
                        },
                        message: this._onMessage
                    })
                }
            }]), e
        }()
    }, function(e, t, n) {
        var r = n(24),
            i = n(715),
            a = r(i);
        e.exports = a
    }, function(e, t, n) {
        function r(e, t) {
            return e && e.length && t && t.length ? i(e, t) : e
        }
        var i = n(716);
        e.exports = r
    }, function(e, t, n) {
        function r(e, t, n, r) {
            var u = r ? o : a,
                d = -1,
                f = t.length,
                p = e;
            for (e === t && (t = l(t)), n && (p = i(e, s(n))); ++d < f;)
                for (var _ = 0, h = t[d], m = n ? n(h) : h;
                    (_ = u(p, m, _, r)) > -1;) p !== e && c.call(p, _, 1), c.call(e, _, 1);
            return e
        }
        var i = n(65),
            a = n(54),
            o = n(717),
            s = n(47),
            l = n(208),
            u = Array.prototype,
            c = u.splice;
        e.exports = r
    }, function(e, t) {
        function n(e, t, n, r) {
            for (var i = n - 1, a = e.length; ++i < a;)
                if (r(e[i], t)) return i;
            return -1
        }
        e.exports = n
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function a(e, t) {
            if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !t || "object" != typeof t && "function" != typeof t ? e : t
        }

        function o(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }

        function s(e) {
            if ("production" !== e && "staging" !== e && "darklaunch" !== e) throw "Invalid Pubsub instance environment";
            return null === window.__Twitch__pubsubInstances[e] && (window.__Twitch__pubsubInstances[e] = new O(e)), window.__Twitch__pubsubInstances[e]
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var l = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            u = n(719),
            c = r(u),
            d = n(720),
            f = r(d),
            p = n(721),
            _ = r(p),
            h = n(722),
            m = r(h),
            v = n(724),
            y = r(v),
            g = n(725),
            E = r(g),
            b = n(727),
            T = n(729),
            S = r(T),
            A = f.default._getLogger("PubsubDriver"),
            C = /^https?:\/\/([\w-]+\.)*twitch\.tv(:\d+)?\/.*$/,
            P = 1,
            O = function(e) {
                function t(e) {
                    i(this, t);
                    var n = a(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e));
                    return n._env = _.default.urlParams.pubsub_environment || e, n._clientReady = !1, n._queuedRequests = [], n._stats = b.Stats.getInstance(n._env, "pubsub-js-client"), n._numDisconnects = 0, _.default.inIframe() && C.test(document.referrer) ? (A.debug("Driver is in an iframe"), n._client = new m.default({
                        parentUrl: document.referrer
                    }), n._clientType = "iframe-verified") : (A.debug("Driver is not in an iframe"), n._client = new E.default({
                        env: n._env,
                        stats: n._stats
                    }), n._iframeHost = new y.default(n._client), n._clientType = "ws"), n._stats.setPrefix("pubsub-js-client." + n._clientType), "true" === _.default.urlParams.force_pubsub_tester ? P = 1 : "false" === _.default.urlParams.force_pubsub_tester && (P = 0), Math.random() < P && (n._tester = new S.default({
                        env: n._env,
                        driver: n,
                        stats: n._stats
                    })), n._client.on("unverified", n._clientUnverified, n), n._client.on("verified", n._clientVerified, n), n._client.verify(), n
                }
                return o(t, e), l(t, [{
                    key: "connect",
                    value: function() {}
                }, {
                    key: "Listen",
                    value: function(e) {
                        this._clientReady ? this._client.Listen(e) : this._queuedRequests.push({
                            type: "LISTEN",
                            opts: e
                        })
                    }
                }, {
                    key: "Unlisten",
                    value: function(e) {
                        this._clientReady ? this._client.Unlisten(e) : this._queuedRequests.push({
                            type: "UNLISTEN",
                            opts: e
                        })
                    }
                }, {
                    key: "_flushQueuedRequests",
                    value: function() {
                        for (A.debug("Flushing " + this._queuedRequests.length + " queued requests"); this._queuedRequests.length > 0;) {
                            var e = this._queuedRequests.shift();
                            switch (e.type) {
                                case "LISTEN":
                                    this._client.Listen(e.opts);
                                    break;
                                case "UNLISTEN":
                                    this._client.Unlisten(e.opts)
                            }
                        }
                    }
                }, {
                    key: "_clientConnected",
                    value: function() {
                        A.debug("Client connected"), this._client.on("disconnected", this._clientDisconnected, this), this._stats.logCounter("connected", 1), this._trigger("connected"), this._clientReady = !0, this._flushQueuedRequests()
                    }
                }, {
                    key: "_clientDisconnected",
                    value: function() {
                        A.debug("Client disconnected"), this._trigger("disconnected"), this._clientReady = !1, this._numDisconnects += 1
                    }
                }, {
                    key: "_clientVerified",
                    value: function() {
                        A.debug("Client verified (type = " + this._clientType + ")"), this._stats.setPrefix("pubsub-js-client." + this._clientType), this._client.on("connected", this._clientConnected, this), this._client.connect(), window.setInterval(this._sendClientTypeGauge.bind(this), 6e4)
                    }
                }, {
                    key: "_clientUnverified",
                    value: function() {
                        A.debug("Unverified IframeClient"), this._client.off("verified", this._clientVerified, this), this._client.off("unverified", this._clientUnverified, this), this._client = new E.default({
                            env: this._env,
                            stats: this._stats
                        }), this._clientType = "iframe-unverified", this._client.on("unverified", this._clientUnverified, this), this._client.on("verified", this._clientVerified, this), this._client.verify()
                    }
                }, {
                    key: "_sendClientTypeGauge",
                    value: function() {
                        this._stats.logGauge("pubsub-js-client." + this._clientType)
                    }
                }]), t
            }(c.default);
        window.__Twitch__pubsubInstances = window.__Twitch__pubsubInstances || {
            production: null,
            staging: null,
            darklaunch: null
        }, t.default = {
            getInstance: s
        }
    }, function(e, t) {
        "use strict";

        function n(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var r = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            i = function() {
                function e() {
                    n(this, e)
                }
                return r(e, [{
                    key: "on",
                    value: function(e, t, n) {
                        return this._events = this._events || {}, this._events[e] = this._events[e] || [], this._events[e].push(t, n), this
                    }
                }, {
                    key: "off",
                    value: function(e, t) {
                        if (this._events)
                            for (var n = this._events[e] || [], r = this._events[e] = [], i = 0; i < n.length; i += 2) n[i] !== t && (r.push(n[i]), r.push(n[i + 1]));
                        return this
                    }
                }, {
                    key: "_trigger",
                    value: function(e) {
                        if (this._events)
                            for (var t = this._events[e] || [], n = 1; n < t.length; n += 2) t[n - 1].apply(t[n], Array.prototype.slice.call(arguments, 1));
                        return this
                    }
                }, {
                    key: "count",
                    value: function(e) {
                        if (this._events) {
                            var t = this._events[e] || [];
                            return t.length / 2
                        }
                        return 0
                    }
                }]), e
            }();
        t.default = i
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var a = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            o = n(721),
            s = r(o),
            l = function() {},
            u = l,
            c = {},
            d = {
                DEBUG: 1,
                INFO: 2,
                WARNING: 3,
                ERROR: 4,
                CRITICAL: 5
            },
            f = d.WARNING,
            p = function() {
                function e(t) {
                    i(this, e), this._opts = t
                }
                return a(e, [{
                    key: "debug",
                    value: function(e) {
                        f <= d.DEBUG && this._log("DEBUG: " + e)
                    }
                }, {
                    key: "info",
                    value: function(e) {
                        f <= d.INFO && this._log("INFO: " + e)
                    }
                }, {
                    key: "warning",
                    value: function(e) {
                        f <= d.WARNING && this._log("WARNING: " + e)
                    }
                }, {
                    key: "error",
                    value: function(e) {
                        f <= d.ERROR && this._log("ERROR: " + e)
                    }
                }, {
                    key: "critical",
                    value: function(e) {
                        f <= d.CRITICAL && this._log("CRITICAL: " + e)
                    }
                }, {
                    key: "_log",
                    value: function(e) {
                        var t = this._opts.prefix + e;
                        this._opts.logFunc ? this._opts.logFunc(t) : u(t)
                    }
                }]), e
            }(),
            _ = {
                setLogger: function(e) {
                    u = "function" == typeof e ? e : l
                },
                setLevel: function() {
                    var e = (s.default.urlParams.pubsub_log_level || "").toUpperCase();
                    if (e) {
                        var t = d[e];
                        if (t) return f = t,
                            function() {}
                    }
                    return function(e) {
                        f = e ? d[e.toUpperCase()] || d.WARNING : d.WARNING
                    }
                }(),
                _getLogger: function(e) {
                    return c[e] || (c[e] = new p({
                        prefix: "pubsub.js [" + e + "] "
                    })), c[e]
                },
                _noopLogger: new p({
                    prefix: "",
                    logFunc: l
                })
            },
            h = window.console;
        h && h.log && (h.log.apply ? _.setLogger(function() {
            h.log.apply(h, arguments)
        }) : _.setLogger(function() {
            for (var e = [], t = 0; t < arguments.length; ++t) e.push(arguments[t]);
            h.log(e.join(" "))
        })), t.default = _
    }, function(e, t) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var n = {};
        n.randomInt = function(e) {
            return Math.floor(Math.random() * e)
        }, n.time = {
            seconds: function(e) {
                return 1e3 * e
            },
            now: function() {
                return (new Date).getTime()
            }
        }, n.urlParams = function() {
            for (var e = {}, t = window.location.search.substr(1), n = t.split("&"), r = 0; r < n.length; ++r) {
                var i = n[r].split("=");
                e[decodeURIComponent(i[0])] = i.length > 1 ? decodeURIComponent(i[1]) : ""
            }
            return e
        }(), n.generateString = function(e) {
            for (var t = "", r = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789", i = 0; i < e; i++) t += r.charAt(n.randomInt(r.length));
            return t
        }, n.inIframe = function() {
            try {
                return window.self !== window.top
            } catch (e) {
                return !0
            }
        }, t.default = n
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function a(e, t) {
            if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !t || "object" != typeof t && "function" != typeof t ? e : t
        }

        function o(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var s = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            l = n(719),
            u = r(l),
            c = n(720),
            d = r(c),
            f = n(721),
            p = r(f),
            _ = n(723),
            h = r(_),
            m = 30,
            v = 3e4,
            y = 1e3,
            g = "pubsub",
            E = d.default._getLogger("IframeClient"),
            b = function(e) {
                function t(e) {
                    i(this, t);
                    var n = a(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e));
                    return n._parentUrl = e.parentUrl, n._pendingResponses = new h.default, n._listens = new u.default, window.addEventListener("message", n.receiveMessage.bind(n), !1), n
                }
                return o(t, e), s(t, [{
                    key: "connect",
                    value: function() {
                        window.parent.postMessage({
                            twitch_protocol: g,
                            type: "connect"
                        }, this._parentUrl)
                    }
                }, {
                    key: "verify",
                    value: function() {
                        window.parent.postMessage({
                            twitch_protocol: g,
                            type: "verify"
                        }, this._parentUrl), this._verifyTimeout = setTimeout(this._unverified.bind(this), y)
                    }
                }, {
                    key: "Listen",
                    value: function(e) {
                        E.debug("listening on " + e.topic);
                        var t = this._generateNonce(),
                            n = {
                                twitch_protocol: g,
                                type: "LISTEN",
                                nonce: t,
                                data: {
                                    topics: [e.topic],
                                    auth_token: e.auth
                                }
                            };
                        this._send(t, n, e)
                    }
                }, {
                    key: "Unlisten",
                    value: function(e) {
                        if (E.debug("unlistening on " + e.topic + "(" + this._listens.count(e.topic) + " listeners)"), this._listens.count(e.topic) > 1) return e.message && this._listens.off(e.topic, e.message), e.success && e.success(), void E.debug("now have " + this._listens.count(e.topic) + " listeners");
                        var t = this._generateNonce(),
                            n = {
                                twitch_protocol: g,
                                type: "UNLISTEN",
                                nonce: t,
                                data: {
                                    topics: [e.topic]
                                }
                            };
                        this._send(t, n, e)
                    }
                }, {
                    key: "_send",
                    value: function(e, t, n) {
                        this._pendingResponses.set(e, {
                            timeout: setTimeout(this._onResponseTimeout.bind(this), v, e),
                            topic: n.topic,
                            auth: n.auth,
                            message: t,
                            callbacks: {
                                success: n.success,
                                failure: n.failure,
                                message: n.message
                            }
                        }), window.parent.postMessage(t, this._parentUrl)
                    }
                }, {
                    key: "receiveMessage",
                    value: function(e) {
                        if (e.data.twitch_protocol == g) switch (E.debug("Received message: " + JSON.stringify(e.data)), e.data.type) {
                            case "connected":
                                this._trigger("connected");
                                break;
                            case "disconnected":
                                this._trigger("disconnected");
                                break;
                            case "success":
                                this.handleResponse(!0, e.data);
                                break;
                            case "failure":
                                this.handleResponse(!1, e.data);
                                break;
                            case "message":
                                this.handleMessage(e.data.topic, e.data.message);
                                break;
                            case "verify":
                                this._verified()
                        }
                    }
                }, {
                    key: "handleResponse",
                    value: function(e, t) {
                        if (this._pendingResponses.has(t.nonce)) {
                            var n = this._pendingResponses.get(t.nonce);
                            E.debug("ResponseInfo: " + JSON.stringify(n)), clearTimeout(n.timeout), this._pendingResponses.remove(t.nonce), e ? (n.callbacks.message && ("LISTEN" === n.message.type ? this._listens.on(n.topic, n.callbacks.message, this) : "UNLISTEN" === n.message.type && this._listens.off(n.topic, n.callbacks.message, this)), n.callbacks.success && n.callbacks.success()) : n.callbacks.failure && n.callbacks.failure(t.error)
                        }
                    }
                }, {
                    key: "handleMessage",
                    value: function(e, t) {
                        E.debug("received '" + t + "' on topic " + e), this._listens._trigger(e, t)
                    }
                }, {
                    key: "_onResponseTimeout",
                    value: function(e) {
                        E.debug("response timed out: " + e)
                    }
                }, {
                    key: "_verified",
                    value: function() {
                        E.debug("Verified"), clearTimeout(this._verifyTimeout), this._trigger("verified")
                    }
                }, {
                    key: "_unverified",
                    value: function() {
                        window.removeEventListener("message", this.receiveMessage.bind(this), !1), this._trigger("unverified")
                    }
                }, {
                    key: "_generateNonce",
                    value: function() {
                        return p.default.generateString(m)
                    }
                }]), t
            }(u.default);
        t.default = b
    }, function(e, t) {
        "use strict";

        function n(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var r = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            i = function() {
                function e() {
                    n(this, e), this._map = {}, this._size = 0
                }
                return r(e, [{
                    key: "set",
                    value: function(e, t) {
                        this._map.hasOwnProperty(e) || (this._size += 1), this._map[e] = t
                    }
                }, {
                    key: "get",
                    value: function(e) {
                        return this._map[e]
                    }
                }, {
                    key: "has",
                    value: function(e) {
                        return this._map.hasOwnProperty(e)
                    }
                }, {
                    key: "remove",
                    value: function(e) {
                        this._map.hasOwnProperty(e) && (this._size -= 1), delete this._map[e]
                    }
                }, {
                    key: "size",
                    value: function() {
                        return this._size
                    }
                }, {
                    key: "map",
                    value: function() {
                        return this._map
                    }
                }, {
                    key: "values",
                    value: function() {
                        var e = [];
                        for (var t in this._map) this._map.hasOwnProperty(t) && e.push(this._map[t]);
                        return e
                    }
                }]), e
            }();
        t.default = i
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var a = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            o = n(720),
            s = r(o),
            l = "pubsub",
            u = s.default._getLogger("IframeHost"),
            c = function() {
                function e(t) {
                    i(this, e), this._driver = t, this._sources = [], this._driver.on("connected", this.handleConnected, this), this._driver.on("disconnected", this.handleDisconnected, this), window.addEventListener("message", this.receiveMessage.bind(this), !1)
                }
                return a(e, [{
                    key: "receiveMessage",
                    value: function(e) {
                        if (e.data.twitch_protocol == l) switch (u.debug("Received message: " + JSON.stringify(e.data)), e.data.type) {
                            case "LISTEN":
                                this.handleListen(e.source, e.data.nonce, e.data.data);
                                break;
                            case "UNLISTEN":
                                this.handleUnlisten(e.source, e.data.nonce, e.data.data);
                                break;
                            case "connect":
                                this._sources.push(e.source), this._driver.connect();
                                break;
                            case "verify":
                                e.source.postMessage({
                                    twitch_protocol: l,
                                    type: "verify"
                                }, "*")
                        }
                    }
                }, {
                    key: "handleListen",
                    value: function(e, t, n) {
                        var r = function() {
                                e.postMessage({
                                    twitch_protocol: l,
                                    type: "success",
                                    nonce: t
                                }, "*")
                            },
                            i = function(n) {
                                e.postMessage({
                                    twitch_protocol: l,
                                    type: "failure",
                                    nonce: t,
                                    error: n
                                }, "*")
                            },
                            a = function(t) {
                                e.postMessage({
                                    twitch_protocol: l,
                                    type: "message",
                                    topic: n.topics[0],
                                    message: t
                                }, "*")
                            };
                        this._driver.Listen({
                            topic: n.topics[0],
                            auth: n.auth_token,
                            success: r,
                            failure: i,
                            message: a
                        })
                    }
                }, {
                    key: "handleUnlisten",
                    value: function(e, t, n) {
                        var r = function() {
                                e.postMessage({
                                    twitch_protocol: l,
                                    type: "success",
                                    nonce: t
                                }, "*")
                            },
                            i = function(n) {
                                e.postMessage({
                                    twitch_protocol: l,
                                    type: "failure",
                                    nonce: t,
                                    error: n
                                }, "*")
                            },
                            a = function(t) {
                                e.postMessage({
                                    twitch_protocol: l,
                                    type: "message",
                                    topic: n.topics[0],
                                    message: t
                                }, "*")
                            };
                        this._driver.Unlisten({
                            topic: n.topics[0],
                            auth: n.auth_token,
                            success: r,
                            failure: i,
                            message: a
                        })
                    }
                }, {
                    key: "handleConnected",
                    value: function() {
                        for (var e = 0; e < this._sources.length; e++) this._sources[e].postMessage({
                            twitch_protocol: l,
                            type: "connected"
                        }, "*")
                    }
                }, {
                    key: "handleDisconnected",
                    value: function() {
                        for (var e = 0; e < this._sources.length; e++) this._sources[e].postMessage({
                            twitch_protocol: l,
                            type: "disconnected"
                        }, "*")
                    }
                }]), e
            }();
        t.default = c
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function a(e, t) {
            if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !t || "object" != typeof t && "function" != typeof t ? e : t
        }

        function o(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var s = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            l = n(719),
            u = r(l),
            c = n(720),
            d = r(c),
            f = n(721),
            p = r(f),
            _ = n(726),
            h = r(_),
            m = n(723),
            v = r(m),
            y = d.default._getLogger("WebsocketClient"),
            g = 3e4,
            E = "response timeout",
            b = 30,
            T = 45e3,
            S = "wss://pubsub-edge.twitch.tv:443/v1",
            A = "wss://pubsub-edge-darklaunch.twitch.tv:443/v1",
            C = "ws://localhost:6900/v1",
            P = function(e) {
                function t(e) {
                    i(this, t);
                    var n = a(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e));
                    switch (n._opts = e, n._env = e.env, n._stats = e.stats, n._env) {
                        case "production":
                            n._addr = S;
                            break;
                        case "darklaunch":
                            n._addr = A;
                            break;
                        case "development":
                            n._addr = C;
                            break;
                        default:
                            n._addr = S
                    }
                    return window.WebSocket ? (n._queuedRequests = [], n._pendingResponses = new v.default, n._pendingReplayResponses = new v.default, n._listens = new u.default, n._replays = new v.default, n._replaysSize = 0, n._firstConnectTime = n._firstListenTime = 0, n._connectCalled = n._reconnecting = !1, n._primarySocket = new h.default({
                        stats: n._stats,
                        addr: n._addr
                    }), n._bindPrimary(n._primarySocket), n) : a(n)
                }
                return o(t, e), s(t, [{
                    key: "verify",
                    value: function() {
                        this._trigger("verified")
                    }
                }, {
                    key: "connect",
                    value: function() {
                        window.WebSocket && (this._connectCalled ? this._primarySocket._isReady() && this._trigger("connected") : (this._connectCalled = !0, this._primarySocket.connect()))
                    }
                }, {
                    key: "_bindPrimary",
                    value: function(e) {
                        e.on("open", this._onPrimaryOpen, this), e.on("response", this._onResponse, this), e.on("message", this._onMessage, this), e.on("reconnect", this._onReconnect, this), e.on("connection_failure", this._onConnectionFailure, this)
                    }
                }, {
                    key: "_unbindPrimary",
                    value: function(e) {
                        e.off("open", this._onPrimaryOpen, this), e.off("response", this._onResponse, this), e.off("message", this._onMessage, this), e.off("reconnect", this._onReconnect, this), e.off("connection_failure", this._onConnectionFailure, this)
                    }
                }, {
                    key: "_onPrimaryOpen",
                    value: function() {
                        y.debug("primary open: " + this._primarySocket._id), 0 === this._firstConnectTime && (this._firstConnectTime = p.default.time.now(), this._firstListenTimeout = setTimeout(this._neverListened.bind(this), T)), this._connected = !0, this._trigger("connected"), this._flushQueuedRequests()
                    }
                }, {
                    key: "_onResponse",
                    value: function(e) {
                        if (y.debug("primary response: " + JSON.stringify(e)), this._pendingResponses.has(e.nonce)) {
                            var t = this._pendingResponses.get(e.nonce);
                            y.debug("responseInfo: " + JSON.stringify(t)), clearTimeout(t.timeout), this._pendingResponses.remove(e.nonce), "" === e.error ? ("LISTEN" === t.message.type ? (0 === this._firstListenTime && (clearTimeout(this._firstListenTimeout), this._firstListenTime = p.default.time.now(), this._stats.logTimer("time_to_first_listen", this._firstListenTime - this._firstConnectTime, .1)), this._replays.set(e.nonce, {
                                nonce: e.nonce,
                                message: t.callbacks.message,
                                topic: t.topic,
                                auth: t.auth
                            }), t.callbacks.message && this._listens.on(t.topic, t.callbacks.message, this)) : "UNLISTEN" === t.message.type && (this._replays.remove(e.nonce), t.callbacks.message && this._listens.off(t.topic, t.callbacks.message, this)), t.callbacks.success && t.callbacks.success()) : t.callbacks.failure && t.callbacks.failure(e.error)
                        }
                    }
                }, {
                    key: "_onResponseTimeout",
                    value: function(e) {
                        if (this._pendingResponses.has(e)) {
                            var t = this._pendingResponses.get(e);
                            this._pendingResponses.remove(e), t.opts.failure && t.opts.failure(E)
                        }
                    }
                }, {
                    key: "_onMessage",
                    value: function(e) {
                        y.debug("primary message: " + JSON.stringify(e)), this._listens._trigger(e.data.topic, e.data.message)
                    }
                }, {
                    key: "_onConnectionFailure",
                    value: function() {
                        y.debug("connection failure"), this._trigger("disconnected"), this._notifyWhenOpen = !0, this._onReconnect()
                    }
                }, {
                    key: "_onReconnect",
                    value: function() {
                        y.debug("reconnecting..."), this._reconnecting = !0, this._backupSocket = new h.default({
                            stats: this._stats,
                            addr: this._addr
                        }), this._bindBackup(this._backupSocket), setTimeout(this._backupSocket.connect.bind(this._backupSocket), this._jitteredReconnectDelay())
                    }
                }, {
                    key: "_bindBackup",
                    value: function(e) {
                        e.on("open", this._onBackupOpen, this), e.on("response", this._onBackupResponse, this)
                    }
                }, {
                    key: "_unbindBackup",
                    value: function(e) {
                        e.off("open", this._onBackupOpen, this), e.off("response", this._onBackupResponse, this)
                    }
                }, {
                    key: "_onBackupOpen",
                    value: function() {
                        y.debug("Backup socket opened"), this._replays.size() > 0 ? this._replayBackup() : (this._swapSockets(), this._notifyWhenOpen && (y.debug("triggering connected"), this._notifyWhenOpen = !1, this._trigger("connected")))
                    }
                }, {
                    key: "_replayBackup",
                    value: function() {
                        for (var e = this._replays.values(), t = 0; t < e.length; t++) {
                            var n = {
                                type: "LISTEN",
                                nonce: this._generateNonce(),
                                data: {
                                    topics: [e[t].topic],
                                    auth_token: e[t].auth
                                }
                            };
                            this._pendingReplayResponses.set(n.nonce, !0), this._backupSocket.send(n)
                        }
                    }
                }, {
                    key: "_onBackupResponse",
                    value: function(e) {
                        this._pendingReplayResponses.has(e.nonce) && "" === e.error && (this._pendingReplayResponses.remove(e.nonce), 0 === this._pendingReplayResponses.size() && (this._swapSockets(), this._notifyWhenOpen && (y.debug("triggering connected"), this._notifyWhenOpen = !1, this._trigger("connected"))))
                    }
                }, {
                    key: "_swapSockets",
                    value: function() {
                        y.debug("swapping primary " + this._primarySocket._id + " and backup " + this._backupSocket._id), this._unbindPrimary(this._primarySocket), this._unbindBackup(this._backupSocket), this._bindPrimary(this._backupSocket), this._primarySocket.close(), this._primarySocket = this._backupSocket, this._reconnecting = !1, this._flushQueuedRequests()
                    }
                }, {
                    key: "Listen",
                    value: function(e) {
                        if (window.WebSocket) {
                            y.debug("listening on " + e.topic);
                            var t = this._generateNonce(),
                                n = {
                                    type: "LISTEN",
                                    nonce: t,
                                    data: {
                                        topics: [e.topic],
                                        auth_token: e.auth
                                    }
                                };
                            this._queuedSend(t, n, e)
                        }
                    }
                }, {
                    key: "Unlisten",
                    value: function(e) {
                        if (window.WebSocket) {
                            if (y.debug("unlistening on " + e.topic + "(" + this._listens.count(e.topic) + " listeners)"), this._listens.count(e.topic) > 1) {
                                this._listens.off(e.topic, e.message);
                                for (var t in this._replays.map())
                                    if (this._replays.get(t).message === e.message) {
                                        this._replays.remove(t);
                                        break
                                    }
                                return e.success && e.success(), void y.debug("now have " + this._listens.count(e.topic) + " listeners")
                            }
                            var n = this._generateNonce(),
                                r = {
                                    type: "UNLISTEN",
                                    nonce: n,
                                    data: {
                                        topics: [e.topic]
                                    }
                                };
                            this._queuedSend(n, r, e)
                        }
                    }
                }, {
                    key: "_queuedSend",
                    value: function(e, t, n) {
                        this._reconnecting || this._primarySocket._isReady() === !1 ? (y.debug("queuing"), this._queuedRequests.push({
                            nonce: e,
                            msg: t,
                            opts: n
                        })) : (y.debug("sending immediately"), this._send(e, t, n))
                    }
                }, {
                    key: "_flushQueuedRequests",
                    value: function() {
                        for (y.debug("flushing " + this._queuedRequests.length + " listen/unlistens"); this._queuedRequests.length > 0;) {
                            var e = this._queuedRequests.shift();
                            this._send(e.nonce, e.msg, e.opts)
                        }
                    }
                }, {
                    key: "_send",
                    value: function(e, t, n) {
                        this._pendingResponses.set(e, {
                            timeout: setTimeout(this._onResponseTimeout.bind(this), g, e),
                            topic: n.topic,
                            auth: n.auth,
                            message: t,
                            callbacks: {
                                success: n.success,
                                failure: n.failure,
                                message: n.message
                            }
                        }), this._primarySocket.send(t)
                    }
                }, {
                    key: "_neverListened",
                    value: function() {
                        this._stats.logCounter("first_listen_timeout", 1)
                    }
                }, {
                    key: "_generateNonce",
                    value: function() {
                        return p.default.generateString(b)
                    }
                }, {
                    key: "_jitteredReconnectDelay",
                    value: function() {
                        return p.default.randomInt(2e3)
                    }
                }]), t
            }(u.default);
        t.default = P
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function a(e, t) {
            if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !t || "object" != typeof t && "function" != typeof t ? e : t
        }

        function o(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var s = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            l = n(719),
            u = r(l),
            c = n(720),
            d = r(c),
            f = n(721),
            p = r(f),
            _ = d.default._getLogger("PubsubSocket"),
            h = 120,
            m = "not_ready",
            v = 3e4,
            y = 24e4,
            g = 1,
            E = .1,
            b = .1,
            T = function(e) {
                function t(e) {
                    i(this, t);
                    var n = a(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e));
                    return n._opts = e, n._addr = e.addr, n._stats = e.stats, n._connectionAttempts = 0, n._sentPing = n._receivedPong = !1, n._id = "[" + p.default.generateString(10) + "] ", window.addEventListener("beforeunload", n._beforeUnload.bind(n)), n
                }
                return o(t, e), s(t, [{
                    key: "connect",
                    value: function() {
                        _.debug(this._id + "connecting to " + this._addr), this._connecting = !0, this._socketConnectTime = p.default.time.now();
                        try {
                            this._socket = new WebSocket(this._addr), this._socket.onmessage = this._onMessage.bind(this), this._socket.onerror = this._onError.bind(this), this._socket.onclose = this._onClose.bind(this), this._socket.onopen = this._onOpen.bind(this)
                        } catch (e) {
                            this._stats.logCounter("socket.error.security_err", 1, g), this._trigger("connection_failure")
                        }
                    }
                }, {
                    key: "close",
                    value: function() {
                        _.debug(this._id + "closing"), this._closing = !0, this._clearTimeouts(), this._socket.close()
                    }
                }, {
                    key: "send",
                    value: function(e) {
                        _.debug(this._id + "sending " + JSON.stringify(e)), this._isReady() ? this._socket.send(JSON.stringify(e)) : this._trigger("error", m)
                    }
                }, {
                    key: "_isReady",
                    value: function() {
                        return _.debug(this._id + "_isReady called"), !!this._socket && this._socket.readyState === WebSocket.OPEN
                    }
                }, {
                    key: "_onMessage",
                    value: function(e) {
                        _.debug(this._id + "received message: " + e.data);
                        try {
                            var t = JSON.parse(e.data);
                            switch (t.type) {
                                case "RESPONSE":
                                    this._trigger("response", t);
                                    break;
                                case "MESSAGE":
                                    this._trigger("message", t);
                                    break;
                                case "PONG":
                                    this._receivedPong = !0;
                                    break;
                                case "RECONNECT":
                                    this._trigger("reconnect")
                            }
                        } catch (e) {
                            this._stats.logLine("onMessage JSON Parse error: " + e)
                        }
                    }
                }, {
                    key: "_onError",
                    value: function(e) {
                        _.debug(this._id + "error: " + JSON.stringify(e))
                    }
                }, {
                    key: "_onClose",
                    value: function(e) {
                        if (_.debug(this._id + "onClose triggered with code " + e.code + "(closing = " + this._closing + ", connecting = " + this._connecting + ")"), this._clearTimeouts(), this._connecting) {
                            var t = Math.pow(2, this._connectionAttempts);
                            t > h && (t = h), _.debug(this._id + "reconnecting in " + t + " seconds"), this._connectionAttempts += 1, this._nextConnectionAttempt = setTimeout(this.connect.bind(this), 1e3 * t)
                        } else if (this._closing) this._closed = !0, this._trigger("connection_failure");
                        else {
                            if (this._windowUnloading) return;
                            _.debug(this._id + "unexpected close"), this._stats.logCounter("socket.error.unexpected_closed", 1, g), this._stats.logCounter("socket.error.close." + e.code, 1, g);
                            var n = "pubsub-js-client unexpected_close. code: " + e.code + ", reason: " + e.reason + ", wasClean: " + e.wasClean;
                            this._stats.logLine(n), this._closed = !0, this._trigger("connection_failure")
                        }
                    }
                }, {
                    key: "_onOpen",
                    value: function(e) {
                        _.debug(this._id + " socket opened"), this._connectionAttempts = 0, this._connecting = !1, this._socketConnectTime && this._stats.logTimer("socket.connect", p.default.time.now() - this._socketConnectTime, E), this._stats.logCounter("socket.connection_retries." + this._connectionAttempts, 1, b), this._ping(), this._pingInterval = window.setInterval(this._ping.bind(this), y), this._trigger("open")
                    }
                }, {
                    key: "_ping",
                    value: function() {
                        _.debug(this._id + "sending PING");
                        try {
                            this._socket.send(JSON.stringify({
                                type: "PING"
                            })), this._sentPing = !0, this._pongTimeout && clearTimeout(this._pongTimeout), this._pongTimeout = setTimeout(this._pongTimedOut.bind(this), v)
                        } catch (e) {
                            this._stats.logCounter("socket.error.ping_send_error", 1, g), this._stats.logLine("ping error: closed: " + this._closed + ", error: " + e), this.close()
                        }
                    }
                }, {
                    key: "_pongTimedOut",
                    value: function() {
                        this._sentPing && !this._receivedPong && (_.debug(this._id + "Pong timed out!"), this._stats.logCounter("socket.error.pong_timed_out", 1, g), this.close())
                    }
                }, {
                    key: "_clearTimeouts",
                    value: function() {
                        this._sentPing = this._receivedPong = !1, clearTimeout(this._pongTimeout), clearInterval(this._pingInterval), clearTimeout(this._nextConnectionAttempt)
                    }
                }, {
                    key: "_beforeUnload",
                    value: function() {
                        this._windowUnloading = !0
                    }
                }]), t
            }(u.default);
        t.default = T
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.Stats = void 0;
        var i = n(728),
            a = r(i);
        t.Stats = a.default, t.default = {
            Stats: a.default
        }
    }, function(e, t) {
        "use strict";

        function n(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function r(e, t) {
            var n = l[e];
            if (!n) throw new Error("Invalid environment - got " + e);
            if (!t) throw new Error("Invalid prefix - got " + t);
            window[s] = window[s] || {};
            var r = window[s];
            r[e] || (r[e] = new u(n));
            var i = r[e];
            return new c(i, t)
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var i = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            a = 500,
            o = 20,
            s = "__Twitch__statsInstances_1",
            l = {
                production: {
                    addr: "https://client-event-reporter.twitch.tv"
                },
                darklaunch: {
                    addr: "https://client-event-reporter-darklaunch.twitch.tv"
                }
            };
        l.staging = l.darklaunch, l.development = l.darklaunch, l.test = l.darklaunch;
        var u = function() {
                function e(t) {
                    if (n(this, e), !t) throw new Error("config is required");
                    this._addr = t.addr, this._resetCombinedStats(), this._recordDelay = a, this._maxPendingStats = o
                }
                return i(e, [{
                    key: "logCounter",
                    value: function(e) {
                        var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1,
                            n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1;
                        this._combinedStats.counters.push({
                            key: e,
                            count: t,
                            sample_rate: n
                        }), this._record()
                    }
                }, {
                    key: "logTimer",
                    value: function(e, t) {
                        var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1;
                        this._combinedStats.timers.push({
                            key: e,
                            milliseconds: t,
                            sample_rate: n
                        }), this._record()
                    }
                }, {
                    key: "logLine",
                    value: function(e) {
                        this._combinedStats.log_lines.push({
                            log_line: e
                        }), this._record()
                    }
                }, {
                    key: "logGauge",
                    value: function(e) {
                        this._combinedStats.gauges.push({
                            key: e
                        }), this._record()
                    }
                }, {
                    key: "_resetCombinedStats",
                    value: function() {
                        this._combinedStats = {
                            timers: [],
                            counters: [],
                            log_lines: [],
                            gauges: []
                        }
                    }
                }, {
                    key: "_record",
                    value: function() {
                        var e = this;
                        this._numPendingStats() > this._maxPendingStats ? (this._flushTimeout && (clearTimeout(this._flushTimeout), this._flushTimeout = null), this._flush()) : this._flushTimeout || (this._flushTimeout = setTimeout(function() {
                            e._flushTimeout = null, e._flush()
                        }, this._recordDelay))
                    }
                }, {
                    key: "_flush",
                    value: function() {
                        var e = this._combinedStats;
                        this._resetCombinedStats();
                        var t = this._addr + "/v1/stats",
                            n = this._createCorsRequest("POST", t);
                        return n ? (n.setRequestHeader("X-Requested-With", "XMLHttpRequest"), n.setRequestHeader("Content-Type", "application/json"), void n.send(JSON.stringify(e))) : void console.log("WARNING: Cannot send stats because CORS is unsupported")
                    }
                }, {
                    key: "_numPendingStats",
                    value: function() {
                        var e = this._combinedStats;
                        return e.timers.length + e.counters.length + e.log_lines.length + e.gauges.length
                    }
                }, {
                    key: "_createCorsRequest",
                    value: function(e, t) {
                        var n = new XMLHttpRequest;
                        return "withCredentials" in n ? n.open(e, t, !0) : "undefined" != typeof XDomainRequest ? (n = new XDomainRequest, n.open(e, t)) : n = null, n
                    }
                }]), e
            }(),
            c = function() {
                function e(t, r) {
                    if (n(this, e), !t) throw new Error("Missing backend");
                    if (!r) throw new Error("Missing prefix");
                    this._backend = t, this._prefix = r
                }
                return i(e, [{
                    key: "logCounter",
                    value: function(e) {
                        var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1,
                            n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1;
                        this._backend.logCounter(this._prefix + "." + e, t, n)
                    }
                }, {
                    key: "logTimer",
                    value: function(e, t) {
                        var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1;
                        this._backend.logTimer(this._prefix + "." + e, t, n)
                    }
                }, {
                    key: "logLine",
                    value: function(e) {
                        this._backend.logLine(e)
                    }
                }, {
                    key: "logGauge",
                    value: function(e) {
                        this._backend.logGauge(e)
                    }
                }, {
                    key: "setPrefix",
                    value: function(e) {
                        if (!e) throw new Error("Missing prefix");
                        this._prefix = e
                    }
                }]), e
            }();
        t.StatsBackend = u, t.PrefixedStats = c, t.default = {
            getInstance: r
        }
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var a = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            o = n(721),
            s = r(o),
            l = n(720),
            u = r(l),
            c = "https://pubster.twitch.tv/publish",
            d = "https://pubster-darklaunch.twitch.tv/publish",
            f = "pubsubtest.unique.",
            p = "pubsubtest.shared." + s.default.randomInt(2),
            _ = 1e-4,
            h = 6e4,
            m = 3e4,
            v = .1,
            y = 1,
            g = u.default._getLogger("PubsubTest"),
            E = function() {
                function e(t) {
                    switch (i(this, e), g.debug("PubsubTest enabled"), this._env = t.env, this._driver = t.driver, this._stats = t.stats, this._env) {
                        case "production":
                            this._addr = c;
                            break;
                        case "darklaunch":
                            this._addr = d;
                            break;
                        default:
                            this._env = "production", this._addr = c
                    }
                    this._statKeys = {
                        uniqueSuccess: "test.unique.success",
                        uniqueFailure: "test.unique.failure",
                        sharedSuccess: "test.shared.success",
                        sharedFailure: "test.shared.failure"
                    }, this._uniqueKey = f + s.default.generateString(20), this._sharedKey = p, this._listeningUnique = this._listeningShared = !1, this.sendListens()
                }
                return a(e, [{
                    key: "sendListens",
                    value: function() {
                        this._driver.Listen({
                            topic: this._uniqueKey,
                            auth: "",
                            success: this._gotUniqueOk.bind(this),
                            failure: this._gotUniqueFail.bind(this),
                            message: this._gotUniqueMessage.bind(this)
                        }), this._driver.Listen({
                            topic: this._sharedKey,
                            auth: "",
                            success: this._gotSharedOk.bind(this),
                            failure: this._gotSharedFail.bind(this),
                            message: this._gotSharedMessage.bind(this)
                        })
                    }
                }, {
                    key: "_gotUniqueOk",
                    value: function() {
                        this._listeningUnique = !0, this._listeningShared && this.startTesting()
                    }
                }, {
                    key: "_gotUniqueFail",
                    value: function(e) {}
                }, {
                    key: "_gotSharedOk",
                    value: function() {
                        this._listeningShared = !0, this._listeningUnique && this.startTesting()
                    }
                }, {
                    key: "_gotSharedFail",
                    value: function(e) {}
                }, {
                    key: "startTesting",
                    value: function() {
                        g.debug("startTesting"), this._driver.on("connected", this.resumeTesting, this), this._driver.on("disconnected", this.stopTesting, this), this.checkAndSend(), this._publishInterval = window.setInterval(this.checkAndSend.bind(this), h)
                    }
                }, {
                    key: "resumeTesting",
                    value: function() {
                        g.debug("resumeTesting"), this.checkAndSend(), this._publishInterval = window.setInterval(this.checkAndSend.bind(this), h)
                    }
                }, {
                    key: "stopTesting",
                    value: function() {
                        g.debug("stopTesting"), clearInterval(this._publishInterval), this._receivedUniqueMessage = this._sentUniqueMessage = !1, this._receivedSharedMessage = this._sentSharedMessage = !1
                    }
                }, {
                    key: "checkAndSend",
                    value: function() {
                        g.debug("checkAndSend: unique: sent = " + this._sentUniqueMessage + ", received = " + this._receivedUniqueMessage), !this._receivedUniqueMessage && this._sentUniqueMessage && (g.debug("unique failure"), this._stats.logCounter(this._statKeys.uniqueFailure, 1, y)), !this._receivedSharedMessage && this._sentSharedMessage && (g.debug("shared failure"), this._stats.logCounter(this._statKeys.sharedFailure, 1, y)), this._receivedUniqueMessage = this._sentUniqueMessage = !1, this._receivedSharedMessage = this._sentSharedMessage = !1, this._expectedMessage = s.default.generateString(30), $.ajax({
                            type: "POST",
                            url: this._addr,
                            contentType: "application/json",
                            timeout: m,
                            data: JSON.stringify({
                                topics: [this._uniqueKey],
                                data: this._expectedMessage
                            }),
                            success: function() {
                                g.debug("unique message sent"), this._sentUniqueMessage = !0
                            }.bind(this)
                        }), this._sentUniqueMessageTime = s.default.time.now(), Math.random() < _ && ($.ajax({
                            type: "POST",
                            url: this._addr,
                            contentType: "application/json",
                            timeout: m,
                            data: JSON.stringify({
                                topics: [this._sharedKey],
                                data: this._expectedMessage
                            }),
                            success: function() {
                                g.debug("shared message sent"), this._sentSharedMessage = !0
                            }.bind(this)
                        }), this._sentSharedMessageTime = s.default.time.now())
                    }
                }, {
                    key: "_gotUniqueMessage",
                    value: function(e) {
                        if (g.debug("received unique message: " + e), e === this._expectedMessage) {
                            var t = s.default.time.now() - this._sentUniqueMessageTime;
                            this._receivedUniqueMessage = !0, this._stats.logTimer(this._statKeys.uniqueSuccess, t, v), this._stats.logCounter(this._statKeys.uniqueSuccess, 1, v)
                        }
                    }
                }, {
                    key: "_gotSharedMessage",
                    value: function(e) {
                        if (e === this._expectedMessage) {
                            var t = s.default.time.now() - this._sentSharedMessageTime;
                            this._receivedSharedMessage = !0, this._stats.logTimer(this._statKeys.sharedSuccess, t, v), this._stats.logCounter(this._statKeys.sharedSuccess, 1, v)
                        }
                    }
                }]), e
            }();
        t.default = E
    }, function(e, t) {
        "use strict";

        function n(e) {
            return function(t) {
                t({
                    type: i,
                    pubsubVodInfo: r(e)
                })
            }
        }

        function r(e) {
            return {
                watchPartyId: e.wp_id,
                vodId: e.vod_id,
                title: e.title,
                viewable: e.viewable,
                broadcastType: e.broadcast_type,
                incrementViewCountURL: e.increment_url
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.updateWatchPartyVod = n;
        var i = t.ACTION_SET_WATCHPARTY_VOD = "set watchpartyvod"
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.NoFullScreen = t.FULLSCREEN_CHANGE = void 0;
        var a = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            o = n(181),
            s = r(o),
            l = n(182);
        t.FULLSCREEN_CHANGE = "fullscreenchange", t.NoFullScreen = function() {
            function e(t, n) {
                i(this, e), this._store = n, this._root = t, this._store.dispatch((0, l.setCanFullScreen)(this.canFullScreen()))
            }
            return a(e, [{
                key: "canFullScreen",
                value: function() {
                    return !1
                }
            }, {
                key: "isFullScreen",
                value: function() {
                    return s.default.element === this._root
                }
            }]), e
        }()
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i() {
            return (0, a.createStore)(ne, (0, a.compose)((0, a.applyMiddleware)(s.default, (0, Z.createVideoApiMiddleware)()), (0, a.applyMiddleware)(s.default, (0, ee.createEventEmitterMiddleware)()), (0, a.applyMiddleware)(s.default, (0, te.createAnalyticsTrackerMiddleware)()), (window.devToolsExtension, function(e) {
                return e
            })))
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.init = i;
        var a = n(581),
            o = n(733),
            s = r(o),
            l = n(734),
            u = n(735),
            c = n(736),
            d = n(737),
            f = n(738),
            p = n(739),
            _ = n(740),
            h = n(355),
            m = n(741),
            v = n(743),
            y = n(744),
            g = n(745),
            E = n(366),
            b = n(746),
            T = n(748),
            S = n(749),
            A = n(751),
            C = n(752),
            P = n(754),
            O = n(757),
            w = n(413),
            k = n(758),
            I = n(760),
            N = n(762),
            R = n(763),
            L = n(764),
            M = n(765),
            D = n(766),
            j = n(767),
            x = n(768),
            U = n(769),
            B = n(770),
            F = n(771),
            V = n(420),
            H = n(772),
            G = n(774),
            q = n(775),
            Y = n(777),
            K = n(648),
            W = n(778),
            $ = n(779),
            z = n(780),
            Q = n(781),
            X = n(782),
            J = n(403),
            Z = (n(368), n(429), n(783)),
            ee = n(785),
            te = n(787),
            ne = (0, a.combineReducers)({
                accessToken: l.accessToken,
                ads: u.ads,
                adsManager: c.adsManager,
                analytics: d.analytics,
                analyticsTracker: f.analyticsTracker,
                backend: p.backend,
                backendInfo: _.backendInfo,
                captions: h.captions,
                chromecast: g.chromecast,
                clips: m.clips,
                collection: w.collection,
                communities: v.communities,
                comscore: y.comscore,
                env: E.env,
                error: N.error,
                experiments: b.experiments,
                extensions: T.extensions,
                follow: R.follow,
                lang: S.lang,
                manifestInfo: A.manifestInfo,
                navigator: C.navigatorReducer,
                notifications: P.notifications,
                online: O.online,
                onlineStatus: J.onlineStatus,
                playback: L.playback,
                playerDimensions: k.playerDimensions,
                playerOptions: I.playerOptions,
                quality: M.quality,
                recommendations: D.recommendations,
                resumeWatch: j.resumeWatch,
                screen: x.screen,
                screenMode: U.screenMode,
                settings: X.settings,
                stats: B.stats,
                stream: F.stream,
                streamMetadata: V.streamMetadata,
                subscriptions: H.subscriptions,
                timelineMetadata: G.timelineMetadata,
                tracking: q.tracking,
                ui: Y.ui,
                user: K.user,
                usher: W.usher,
                viewercount: $.viewercount,
                watchParty: z.watchParty,
                window: Q.windowReducer
            })
    }, , function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : c,
                t = arguments[1];
            switch (t.type) {
                case s.ACTION_SET_ACCESS_TOKEN_PARAMS:
                    return (0, o.default)({}, e, {
                        params: t.params
                    });
                case l.ACTION_SET_PLAYER_TYPE:
                    return (0, o.default)({}, e, {
                        params: (0, o.default)({}, e.params, {
                            player_type: t.playerType
                        })
                    });
                case u.ACTION_SET_ADBLOCK_DETECTED:
                    return (0, o.default)({}, e, {
                        params: (0, o.default)({}, e.params, {
                            adblock: t.detected !== !1
                        })
                    });
                default:
                    return e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.DEFAULT_ACCESS_TOKEN = void 0, t.accessToken = i;
        var a = n(117),
            o = r(a),
            s = n(394),
            l = n(367),
            u = n(243),
            c = t.DEFAULT_ACCESS_TOKEN = {
                params: {
                    need_https: !1,
                    adblock: !1
                }
            }
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : l,
                t = arguments[1];
            switch (t.type) {
                case s.ACTION_SET_ADBLOCK_DETECTED:
                    return (0, o.default)({}, e, {
                        adblock: t.detected
                    });
                case s.ACTION_SET_CLICKTHROUGH_URL:
                    return (0, o.default)({}, e, {
                        clickThrough: t.URL
                    });
                case s.ACTION_SET_AD_METADATA:
                    return t.currentMetadata.contentType === s.AdContentTypes.STITCHED ? (0, o.default)({}, e, {
                        currentMetadata: t.currentMetadata
                    }) : (0, o.default)({}, e, {
                        currentMetadata: t.currentMetadata,
                        clickThrough: l.clickThrough
                    });
                case s.ACTION_IMA_SCRIPT_LOADED:
                    return (0, o.default)({}, e, {
                        imaScriptLoaded: t.imaScriptLoaded
                    });
                default:
                    return e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.ads = i;
        var a = n(117),
            o = r(a),
            s = n(243),
            l = {
                currentMetadata: {
                    contentType: s.AdContentTypes.NONE,
                    rollType: s.AdRollTypes.NONE
                },
                adblock: !1,
                clickThrough: "",
                imaScriptLoaded: !1
            }
    }, function(e, t, n) {
        "use strict";

        function r() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : a.nullAdsManager,
                t = arguments[1];
            switch (t.type) {
                case i.ACTION_CREATE_ADS_MANAGER:
                    return t.adsManager;
                default:
                    return e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.adsManager = r;
        var i = n(359),
            a = n(372)
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : l,
                t = arguments[1];
            switch (t.type) {
                case s.ACTION_INCREMENT_QUALITY_CHANGE_COUNT:
                    return (0, o.default)({}, e, {
                        qualityChangeCount: e.qualityChangeCount + 1
                    });
                case s.ACTION_RESET_QUALITY_CHANGE_COUNT:
                    return (0, o.default)({}, e, {
                        qualityChangeCount: 0
                    });
                case s.ACTION_SET_TRACKING_CLIENTS:
                    return (0, o.default)({}, e, {
                        trackingClients: t.clients
                    });
                case s.ACTION_RESET_PLAY_SESSION:
                    return (0, o.default)({}, e, {
                        playSessionId: t.playSessionId,
                        playSessionStartTime: t.playSessionStartTime
                    });
                default:
                    return e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.DEFAULT_ANALYTICS = void 0, t.analytics = i;
        var a = n(118),
            o = r(a),
            s = n(264),
            l = t.DEFAULT_ANALYTICS = {
                qualityChangeCount: 0,
                playSessionId: "",
                playSessionStartTime: 0
            }
    }, function(e, t, n) {
        "use strict";

        function r() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : o,
                t = arguments[1];
            switch (t.type) {
                case i.ACTION_SET_ANALYTICS_TRACKER:
                    return t.tracker;
                default:
                    return e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.analyticsTracker = r;
        var i = n(374),
            a = new Error("Attempting to use tracker too early"),
            o = {
                trackEvent: function() {
                    return Promise.reject(a)
                }
            }
    }, function(e, t, n) {
        "use strict";

        function r() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : new a.BackendBlank,
                t = arguments[1];
            switch (t.type) {
                case i.ACTION_SET_BACKEND:
                    return t.backend;
                default:
                    return e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.backend = r;
        var i = n(357),
            a = n(351)
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : u,
                t = arguments[1];
            switch (t.type) {
                case s.ACTION_SET_PLAYER_BACKEND_TYPE:
                    return (0, o.default)({}, e, {
                        playerBackendType: t.playerBackendType
                    });
                default:
                    return e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.backendInfo = i;
        var a = n(117),
            o = r(a),
            s = n(358),
            l = n(351),
            u = {
                playerBackendType: l.BACKEND_BLANK_TYPE
            }
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : u,
                t = arguments[1];
            switch (t.type) {
                case s.ACTION_CLIP_GENERATOR_LOADED:
                    return (0, o.default)({}, e, {
                        generator: t.generator
                    });
                default:
                    return e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.DEFAULT_CLIPS_STATE = void 0, t.clips = i;
        var a = n(117),
            o = r(a),
            s = n(742),
            l = Object.freeze({
                recordClip: function() {
                    console.error("Clip Generator not available yet")
                }
            }),
            u = t.DEFAULT_CLIPS_STATE = Object.freeze({
                generator: l
            })
    }, function(e, t) {
        "use strict";

        function n(e) {
            return {
                type: r,
                generator: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.clipGeneratorLoaded = n;
        var r = t.ACTION_CLIP_GENERATOR_LOADED = "clip generator loaded"
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : l,
                t = arguments[1];
            switch (t.type) {
                case s.ACTION_SET_COMMUNITIES_DATA:
                    return (0, o.default)({}, e, {
                        data: t.communities.data
                    });
                default:
                    return e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.DEFAULT_COMMUNITIES = void 0, t.communities = i;
        var a = n(118),
            o = r(a),
            s = n(265),
            l = t.DEFAULT_COMMUNITIES = {
                data: {
                    _id: void 0,
                    owner_id: void 0,
                    name: void 0,
                    summary: void 0,
                    description: void 0,
                    rules: void 0
                }
            }
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : c,
                t = arguments[1];
            switch (t.type) {
                case s.ACTION_SET_STREAM:
                case l.ACTION_RESET_TAG:
                    return e.streamingTag.stop(), {
                        streamingTag: new o.default.StreamingTag({
                            customerC2: u
                        })
                    };
                default:
                    return e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.comscore = i;
        var a = n(241),
            o = r(a),
            s = n(334),
            l = n(242),
            u = "6745306",
            c = {
                streamingTag: new o.default.StreamingTag({
                    customerC2: u
                })
            }
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : l,
                t = arguments[1];
            switch (t.type) {
                case s.ACTION_SET_DEVICE_NAME:
                    return (0, o.default)({}, e, {
                        deviceName: t.deviceName
                    });
                default:
                    return e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.chromecast = i;
        var a = n(117),
            o = r(a),
            s = n(418),
            l = {
                deviceName: ""
            }
    }, function(e, t, n) {
        "use strict";

        function r() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : o,
                t = arguments[1];
            switch (t.type) {
                case i.ACTION_SET_EXPERIMENTS:
                    return t.experiments;
                default:
                    return e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.experiments = r;
        var i = n(747),
            a = new Error("Attempting to use experiments too early"),
            o = {
                get: function() {
                    return Promise.reject(a)
                }
            }
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return {
                type: o,
                experiments: e
            }
        }

        function i(e) {
            return r((0, a.createClient)(e))
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.ACTION_SET_EXPERIMENTS = void 0, t.setExperiments = r, t.loadExperiments = i;
        var a = n(251),
            o = t.ACTION_SET_EXPERIMENTS = "set experiments"
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : l,
                t = arguments[1];
            switch (t.type) {
                case a.ACTION_CLEAR_EXTENSIONS:
                    return (0, s.default)({}, e, l);
                case a.ACTION_FETCHING_EXTENSIONS:
                    return (0, s.default)({}, e, {
                        loadingState: a.EXTENSIONS_LOADING,
                        channel: t.channel,
                        extensions: []
                    });
                case a.ACTION_SET_EXTENSIONS:
                    return (0, s.default)({}, e, {
                        loadingState: a.EXTENSIONS_LOADED,
                        channel: t.channel,
                        extensions: t.extensions
                    });
                case a.ACTION_UPDATE_EXTENSION_TOKEN:
                    return (0, s.default)({}, e, {
                        extensions: e.extensions.map(function(e) {
                            return e.id !== t.extensionId ? e : (0, s.default)({}, e, {
                                token: t.token
                            })
                        })
                    });
                case a.ACTION_INIT_EXTENSIONS_API:
                    return (0, s.default)({}, e, {
                        extensionsApi: t.extensionsApi
                    });
                default:
                    return e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.DEFAULT_EXTENSIONS = void 0, t.extensions = i;
        var a = n(335),
            o = n(117),
            s = r(o),
            l = t.DEFAULT_EXTENSIONS = {
                extensionsApi: void 0,
                loadingState: a.EXTENSIONS_NOT_LOADED,
                channel: void 0,
                extensions: []
            }
    }, function(e, t, n) {
        "use strict";

        function r() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : a.DEFAULT_LANGUAGE,
                t = arguments[1];
            switch (t.type) {
                case i.ACTION_SET_LANGUAGE:
                    return t.lang;
                default:
                    return e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.lang = r;
        var i = n(750),
            a = n(681)
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return {
                type: c,
                lang: e
            }
        }

        function i(e) {
            return function(t, n) {
                var i = n(),
                    a = i.lang;
                return a.shortCode === e ? Promise.resolve() : (0, l.getI18N)(e).then(r).then(t)
            }
        }

        function a(e) {
            return function(t, n) {
                var r = n(),
                    a = r.lang,
                    l = r.navigator,
                    c = s.localStore.get(d, a.shortCode),
                    f = t(i(c)),
                    p = (0, u.userInfo)().then(function(e) {
                        return s.localStore.set(d, e.received_language), e.received_language
                    }, function() {
                        return o.cookie.get("language", null) || l.languages && l.languages[0] || l.language || l.userLanguage || e
                    }).then(i).then(t);
                return Promise.all([f, p])
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.LAST_KNOWN_LANG = t.ACTION_SET_LANGUAGE = void 0, t.setLanguage = r, t.loadLanguage = i, t.loadDefaultLang = a;
        var o = n(249),
            s = n(250),
            l = n(681),
            u = n(200),
            c = t.ACTION_SET_LANGUAGE = "set language",
            d = t.LAST_KNOWN_LANG = "playerLanguage"
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : d,
                t = arguments[1];
            switch (t.type) {
                case o.ACTION_SET_STREAM:
                    return d;
                case a.ACTION_SET_MANIFEST_INFO:
                    return (0, l.default)({}, e, (0, c.default)(t.info, Object.keys(d)), {
                        stream_time: parseFloat(t.info.stream_time, 10) || 0
                    });
                default:
                    return e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.DEFAULT_MANIFEST_INFO = void 0, t.manifestInfo = i;
        var a = n(375),
            o = n(334),
            s = n(117),
            l = r(s),
            u = n(70),
            c = r(u),
            d = t.DEFAULT_MANIFEST_INFO = {
                abs: !1,
                broadcast_id: 0,
                cluster: "",
                manifest_cluster: "",
                manifest_node: "",
                manifest_node_type: "",
                node: "",
                origin: "",
                region: "",
                segment_protocol: "",
                server_time: 0,
                serving_id: "",
                stream_time: 0,
                user_ip: "",
                suppress: !1,
                transcodestack: "not listed"
            }
    }, function(e, t, n) {
        "use strict";

        function r() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : window.navigator,
                t = arguments[1];
            switch (t.type) {
                case i.ACTION_SET_NAVIGATOR:
                    return t.navigator;
                default:
                    return e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.navigatorReducer = r;
        var i = n(753)
    }, function(e, t) {
        "use strict";

        function n(e) {
            return {
                type: r,
                navigator: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.setNavigator = n;
        var r = t.ACTION_SET_NAVIGATOR = "set navigator"
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : c,
                t = arguments[1];
            switch (t.type) {
                case u.ACTION_ADD_NOTIFICATION:
                    return (0, o.default)(t.notification, e);
                case u.ACTION_REMOVE_NOTIFICATION:
                    return (0, l.default)(e, 1);
                default:
                    return e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.notifications = i;
        var a = n(755),
            o = r(a),
            s = n(756),
            l = r(s),
            u = n(275),
            c = []
    }, function(e, t, n) {
        function r() {
            var e = arguments.length;
            if (!e) return [];
            for (var t = Array(e - 1), n = arguments[0], r = e; r--;) t[r - 1] = arguments[r];
            return i(s(n) ? o(n) : [n], a(t, 1))
        }
        var i = n(112),
            a = n(111),
            o = n(208),
            s = n(41);
        e.exports = r
    }, function(e, t, n) {
        function r(e, t, n) {
            var r = null == e ? 0 : e.length;
            return r ? (n && "number" != typeof n && a(e, t, n) ? (t = 0, n = r) : (t = null == t ? 0 : o(t), n = void 0 === n ? r : o(n)), i(e, t, n)) : []
        }
        var i = n(232),
            a = n(31),
            o = n(59);
        e.exports = r
    }, function(e, t, n) {
        "use strict";

        function r() {
            var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0],
                t = arguments[1];
            switch (t.type) {
                case i.ACTION_SET_STREAMMETADATA:
                    return "live" === t.streamMetadata.type || e;
                case a.ACTION_SET_ONLINE:
                    return t.online;
                default:
                    return e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.online = r;
        var i = n(336),
            a = n(395)
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : l,
                t = arguments[1];
            switch (t.type) {
                case s.ACTION_UPDATE_PLAYER_DIMENSIONS:
                    return (0, o.default)({}, e, t.playerDimensions);
                default:
                    return e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.playerDimensions = i;
        var a = n(117),
            o = r(a),
            s = n(759),
            l = {
                left: 0,
                top: 0,
                width: 0,
                height: 0
            }
    }, function(e, t) {
        "use strict";

        function n(e) {
            return {
                type: r,
                playerDimensions: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.updatePlayerDimensions = n;
        var r = t.ACTION_UPDATE_PLAYER_DIMENSIONS = "update player dimensions"
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : l,
                t = arguments[1];
            switch (t.type) {
                case s.ACTION_SET_PROVIDED_OPTIONS:
                    return (0, o.default)({}, e, t.playerOptions);
                default:
                    return e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.playerOptions = i;
        var a = n(201),
            o = r(a),
            s = n(761),
            l = {
                showInfo: !0,
                showtheatre: !1,
                collection: "",
                channel: "",
                video: "",
                tt_content: "",
                tt_medium: ""
            }
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e) {
            var t = (0, o.default)(e, ["showInfo", "collection", "channel", "video", "showtheatre", "tt_content", "tt_medium", "force_preroll", "force_midroll", "force_preroll_id", "force_midroll_id"]);
            return {
                type: s,
                playerOptions: t
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.ACTION_SET_PROVIDED_OPTIONS = void 0, t.setPlayerOptions = i;
        var a = n(70),
            o = r(a),
            s = t.ACTION_SET_PROVIDED_OPTIONS = "set provided options"
    }, function(e, t, n) {
        "use strict";

        function r() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : a,
                t = arguments[1];
            switch (t.type) {
                case i.ACTION_ERROR:
                    return {
                        hasError: !0,
                        error: t.error
                    };
                case i.ACTION_CLEAR_ERROR:
                    return a;
                default:
                    return e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.NULL_ERROR = void 0, t.error = r;
        var i = n(330),
            a = t.NULL_ERROR = {
                hasError: !1,
                error: new Error("Error")
            }
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : d,
                t = arguments[1];
            switch (t.type) {
                case u.ACTION_SHOW_FOLLOW_NOTIFICATION:
                    return (0, o.default)({}, e, {
                        showFollowNotification: t.show
                    });
                case u.ACTION_FOLLOW_INFO_FETCHED:
                    return (0, o.default)({}, e, {
                        fetched: !0
                    }, (0, l.default)(t.followInfo, Object.keys(d)));
                case c.ACTION_SET_STREAM:
                    return d;
                default:
                    return e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.follow = i;
        var a = n(117),
            o = r(a),
            s = n(70),
            l = r(s),
            u = n(644),
            c = n(334),
            d = {
                fetched: !1,
                following: !1,
                notificationsEnabled: !1,
                showFollowNotification: !1
            }
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            if (e && e.__esModule) return e;
            var t = {};
            if (null != e)
                for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
            return t.default = e, t
        }

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function a() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : m,
                t = arguments[1];
            switch (t.type) {
                case d.ACTION_INITIALIZE_PLAYBACK_SETTINGS:
                    return (0, s.default)({}, e, (0, u.default)(t.playback, T));
                case f.ACTION_SET_STREAM:
                    return (0, s.default)({}, e, {
                        hasPlayed: !1,
                        contentShowing: !1,
                        bufferEmpties: 0
                    });
                case d.ACTION_PLAYING:
                    return (0, s.default)({}, e, v, b);
                case d.ACTION_WAITING:
                    return (0, s.default)({}, e, y);
                case d.ACTION_PAUSE:
                    return (0, s.default)({}, e, g);
                case d.ACTION_ENDED:
                    return (0, s.default)({}, e, E);
                case d.ACTION_PLAYER_MUTED:
                    return (0, s.default)({}, e, {
                        muted: t.muted
                    });
                case d.ACTION_VOLUME_CHANGED:
                    return (0, s.default)({}, e, {
                        volume: t.volume
                    });
                case d.ACTION_UPDATE_PLAYBACK_DURATION:
                    return (0, s.default)({}, e, (0, u.default)(t.playback, T));
                case d.ACTION_QUALITY_RESTRICTED_ERROR:
                    return (0, s.default)({}, e, {
                        restrictedQualityError: !0
                    });
                case d.ACTION_CLEAR_QUALITY_RESTRICTED_ERROR:
                    return (0, s.default)({}, e, {
                        restrictedQualityError: !1
                    });
                case d.ACTION_SET_AUTOPLAY_STATE:
                    return (0, s.default)({}, e, {
                        autoplay: t.playback.autoplay,
                        paused: !t.playback.autoplay
                    });
                case d.ACTION_SET_LOADING:
                    return (0, s.default)({}, e, {
                        isLoading: t.isLoading
                    });
                case d.ACTION_UPDATE_CURRENT_TIME:
                    return (0, s.default)({}, e, {
                        currentTime: t.currentTime
                    });
                case d.ACTION_UPDATE_BUFFER_VALUES:
                    return (0, s.default)({}, e, {
                        buffer: {
                            start: t.start,
                            end: t.end
                        }
                    });
                case d.ACTION_INCREMENT_BUFFER_EMPTIES:
                    return (0, s.default)({}, e, {
                        bufferEmpties: e.bufferEmpties + 1
                    });
                case d.ACTION_CONTENT_IS_SHOWING:
                    return (0, s.default)({}, e, b);
                case p.ACTION_LOADED_COLLECTION_ITEM:
                    return (0, s.default)({}, e, {
                        transitionScheme: _
                    });
                case p.ACTION_LOADED_LAST_COLLECTION_ITEM:
                    return (0, s.default)({}, e, {
                        transitionScheme: h
                    });
                case p.ACTION_SET_COLLECTION:
                    return (0, s.default)({}, e, {
                        transitionScheme: _
                    });
                case p.ACTION_CLEAR_COLLECTION:
                    return (0, s.default)({}, e, {
                        transitionScheme: h
                    });
                case d.ACTION_PLAYBACK_RATE_CHANGED:
                    return (0, s.default)({}, e, {
                        playbackRate: t.playbackRate
                    });
                default:
                    return e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.TRANSITION_TYPE_RECOMMENDATIONS = t.TRANSITION_TYPE_COLLECTION = void 0, t.playback = a;
        var o = n(117),
            s = i(o),
            l = n(70),
            u = i(l),
            c = n(332),
            d = r(c),
            f = n(334),
            p = n(333),
            _ = t.TRANSITION_TYPE_COLLECTION = "transition collection",
            h = t.TRANSITION_TYPE_RECOMMENDATIONS = "transition recommendations",
            m = {
                autoplay: !0,
                buffer: {
                    start: 0,
                    end: 0
                },
                bufferEmpties: 0,
                currentTime: 0,
                duration: 0,
                ended: !1,
                hasPlayed: !1,
                isLoading: !1,
                muted: !1,
                paused: !1,
                playbackRate: 1,
                restrictedQualityError: !1,
                volume: .5,
                transitionScheme: h,
                contentShowing: !1
            },
            v = {
                hasPlayed: !0,
                paused: !1,
                ended: !1
            },
            y = {
                ended: !1
            },
            g = {
                paused: !0,
                ended: !1
            },
            E = {
                paused: !0,
                ended: !0
            },
            b = {
                contentShowing: !0
            },
            T = Object.keys(m)
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : l,
                t = arguments[1];
            switch (t.type) {
                case s.ACTION_SELECT_QUALITY:
                    return (0, o.default)({}, e, {
                        selected: t.quality,
                        bitrate: t.bitrate
                    });
                case s.ACTION_SET_CURRENT_QUALITY:
                    return (0, o.default)({}, e, {
                        current: t.quality
                    });
                case s.ACTION_SET_QUALITIES:
                    return (0, o.default)({}, e, {
                        available: t.qualities
                    });
                case s.ACTION_SET_ABS_AVAILABILITY:
                    return (0, o.default)({}, e, {
                        absAvailable: t.absAvailable
                    });
                default:
                    return e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.quality = i;
        var a = n(117),
            o = r(a),
            s = n(331),
            l = {
                absAvailable: !1,
                current: "",
                selected: s.DEFAULT_STREAM_FORMAT,
                bitrate: s.DEFAULT_STREAM_BITRATE_IN_BPS,
                available: []
            }
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : u,
                t = arguments[1];
            switch (t.type) {
                case a.ACTION_SET_RECOMMENDED_VODS:
                    return (0, l.default)({}, e, {
                        type: t.recommendationsType,
                        videos: t.videos,
                        status: a.FETCHED,
                        numVideosVisible: t.videos.length > 0 ? e.numVideosVisible : 0
                    });
                case a.ACTION_SET_FETCHING_STATUS:
                    return (0, l.default)({}, e, {
                        status: t.status
                    });
                case a.ACTION_SET_NUM_VODS_VISIBLE:
                    return (0, l.default)({}, e, {
                        numVideosVisible: t.numVids
                    });
                case a.ACTION_CLEAR_RECOMMENDED_VODS:
                case o.ACTION_SET_STREAM:
                    return (0, l.default)({}, u);
                default:
                    return e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.recommendations = i;
        var a = n(423),
            o = n(334),
            s = n(117),
            l = r(s),
            u = {
                type: "",
                videos: [],
                numVideosVisible: 0,
                status: a.UNFETCHED
            }
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e, t, n) {
            return t in e ? Object.defineProperty(e, t, {
                value: n,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : e[t] = n, e
        }

        function a() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : A,
                t = arguments[1];
            switch (t.type) {
                case h.ACTION_VOD_INIT_RESUME:
                    return (0, _.default)(t, Object.keys(A));
                case h.ACTION_VOD_SET_USER:
                    return (0, l.default)({}, e, {
                        userId: t.userId
                    });
                case g.ACTION_USER_LOGGED_IN:
                    return (0, l.default)({}, e, {
                        userId: t.userInfo.id
                    });
                case h.ACTION_SET_RESUME_TIMES:
                    return (0, l.default)({}, e, t.resumeTimes.reduce(function(e, t) {
                        var n = t.video_id,
                            r = t.position,
                            i = t.type;
                        return i === v.CONTENT_MODE_VOD && (e.times[n] = r, e.watch[n] = !0), i === y.CONTENT_MODE_LIVE && (e.streamTimes[n] = r), e
                    }, {
                        times: {},
                        watch: {},
                        streamTimes: {}
                    }));
                case h.ACTION_VOD_SET_RESUME_TIME:
                    return (0, f.default)({}, e, {
                        times: i({}, t.videoID, t.time),
                        watch: i({}, t.videoID, !0)
                    });
                case h.ACTION_VOD_CANCEL_RESUME:
                    return (0, l.default)({}, e, {
                        times: (0, c.default)(e.times, t.videoID),
                        watch: (0, c.default)(e.watch, t.videoID)
                    });
                case h.ACTION_LIVESTREAM_SET_RESUME_TIME:
                    return (0, f.default)({}, e, {
                        streamTimes: i({}, t.broadcastID, t.time)
                    });
                case h.ACTION_LIVESTREAM_CANCEL_RESUME:
                    return (0, l.default)({}, e, {
                        streamTimes: (0, c.default)(e.streamTimes, t.broadcastID)
                    });
                case h.ACTION_VOD_POST_BACKEND_TIME:
                    return (0, l.default)({}, e, {
                        lastTimeStamp: t.lastTimeStamp
                    });
                case h.ACTION_VOD_SET_IS_SEEKED:
                    return (0, l.default)({}, e, {
                        isSeeked: t.isSeeked
                    });
                case m.ACTION_SET_STREAM:
                    return (0, l.default)({}, e, o(t.stream), {
                        isSeeked: !1,
                        lastTimeStamp: 0
                    });
                default:
                    return e
            }
        }

        function o(e) {
            var t = {
                updateInterval: A.updateInterval,
                initUpdateOffset: A.initUpdateOffset
            };
            return e instanceof v.VODContentStream ? (t.updateInterval = E, t.initUpdateOffset = T) : e instanceof y.LiveContentStream && (t.updateInterval = b, t.initUpdateOffset = Math.ceil(Math.random() * S)), t
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.MAX_INIT_UPDATE_OFFSET_LIVESTREAM = t.INIT_UPDATE_OFFSET_VOD = t.UPDATE_INTERVAL_LIVESTREAM = t.UPDATE_INTERVAL_VOD = void 0, t.resumeWatch = a;
        var s = n(117),
            l = r(s),
            u = n(407),
            c = r(u),
            d = n(201),
            f = r(d),
            p = n(70),
            _ = r(p),
            h = n(429),
            m = n(334),
            v = n(220),
            y = n(167),
            g = n(649),
            E = t.UPDATE_INTERVAL_VOD = 20,
            b = t.UPDATE_INTERVAL_LIVESTREAM = 600,
            T = t.INIT_UPDATE_OFFSET_VOD = 2e4,
            S = t.MAX_INIT_UPDATE_OFFSET_LIVESTREAM = 48e4,
            A = {
                times: {},
                watch: {},
                streamTimes: {},
                lastTimeStamp: 0,
                userId: null,
                initUpdateOffset: 0,
                updateInterval: 0,
                isSeeked: !1
            }
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [s.CONTENT_SCREEN],
                t = arguments[1];
            switch (t.type) {
                case c.ACTION_SET_AD_METADATA:
                    switch (t.currentMetadata.contentType) {
                        case c.AdContentTypes.IMA:
                            return e[0] !== s.ADVERTISEMENT_SCREEN ? [s.ADVERTISEMENT_SCREEN].concat(e) : e;
                        case c.AdContentTypes.STITCHED:
                            return e[0] !== s.STITCHED_ADVERTISEMENT_SCREEN ? [s.STITCHED_ADVERTISEMENT_SCREEN].concat(e) : e;
                        case c.AdContentTypes.NONE:
                            return (0, o.default)([s.ADVERTISEMENT_SCREEN, s.STITCHED_ADVERTISEMENT_SCREEN], e[0]) ? e.slice(1) : e;
                        default:
                            return e
                    }
                case s.ACTION_PUSH_SCREEN:
                    return [t.screen].concat(e);
                case s.ACTION_POP_SCREEN:
                    return 1 === e.length ? [s.CONTENT_SCREEN] : e.slice(1);
                case l.ACTION_SET_STREAM:
                    return (0, o.default)([s.VOD_RECOMMENDATION_SCREEN, s.VOD_RESTRICTED_SCREEN, s.COLLECTION_EMPTY_SCREEN], e[0]) ? e.slice(1) : e;
                case u.ACTION_ERROR:
                    return e[0] !== s.ERROR_SCREEN ? [s.ERROR_SCREEN].concat(e) : e;
                case u.ACTION_CLEAR_ERROR:
                    return e[0] === s.ERROR_SCREEN ? e.slice(1) : e;
                default:
                    return e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.screen = i;
        var a = n(53),
            o = r(a),
            s = n(396),
            l = n(334),
            u = n(330),
            c = n(243)
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : u,
                t = arguments[1];
            switch (t.type) {
                case s.ACTION_SET_FULLSCREEN:
                    return (0, o.default)({}, e, {
                        isFullScreen: t.isFullScreen
                    });
                case s.ACTION_TOGGLE_FULLSCREEN:
                    return e.canFullScreen ? (0, o.default)({}, e, {
                        isFullScreen: !e.isFullScreen
                    }) : e;
                case s.ACTION_SET_CAN_FULLSCREEN:
                    return (0, o.default)({}, e, {
                        canFullScreen: t.canFullScreen
                    });
                case l.ACTION_SET_PROVIDED_OPTIONS:
                    return (0, o.default)({}, e, {
                        canTheatreMode: t.playerOptions.showtheatre
                    });
                case s.ACTION_SET_THEATRE_MODE:
                    return (0, o.default)({}, e, {
                        isTheatreMode: t.isTheatreMode
                    });
                case s.ACTION_TOGGLE_THEATRE_MODE:
                    return e.canTheatreMode ? (0, o.default)({}, e, {
                        isTheatreMode: !e.isTheatreMode
                    }) : e;
                default:
                    return e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.DEFAULT_SCREEN_MODE = void 0, t.screenMode = i;
        var a = n(117),
            o = r(a),
            s = n(182),
            l = n(761),
            u = t.DEFAULT_SCREEN_MODE = Object.freeze({
                isFullScreen: !1,
                canFullScreen: !1,
                canTheatreMode: !1,
                isTheatreMode: !1
            })
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : c,
                t = arguments[1];
            switch (t.type) {
                case a.ACTION_UPDATE_STATS:
                    return (0, u.default)({}, e, {
                        videoStats: (0, s.default)(t.videoStats, Object.keys(c.videoStats))
                    });
                case a.ACTION_DISPLAY_STATS:
                    return (0, u.default)({}, e, {
                        displayed: t.displayed
                    });
                case a.ACTION_ADD_STATS_REQUESTER:
                    return (0, u.default)({}, e, {
                        enabled: !0,
                        requesters: e.requesters.concat(t.requester)
                    });
                case a.ACTION_REMOVE_STATS_REQUESTER:
                    var n = e.requesters.filter(function(e) {
                        return e !== t.requester
                    });
                    return (0, u.default)({}, e, {
                        enabled: n.length > 0,
                        requesters: n
                    });
                default:
                    return e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.DEFAULT_STATS = void 0, t.stats = i;
        var a = n(402),
            o = n(70),
            s = r(o),
            l = n(117),
            u = r(l),
            c = t.DEFAULT_STATS = {
                videoStats: {
                    bufferSize: 0,
                    displayResolution: "",
                    skippedFrames: 0,
                    fps: 0,
                    hlsLatencyBroadcaster: 0,
                    hlsLatencyEncoder: 0,
                    memoryUsage: 0,
                    playbackRate: 0,
                    videoResolution: "",
                    backendVersion: ""
                },
                enabled: !1,
                displayed: !1,
                requesters: []
            }
    }, function(e, t, n) {
        "use strict";

        function r() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : a.nullContentStream,
                t = arguments[1];
            switch (t.type) {
                case i.ACTION_SET_STREAM:
                    return t.stream;
                default:
                    return e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.stream = r;
        var i = n(334),
            a = n(225)
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : u,
                t = arguments[1];
            switch (t.type) {
                case s.ACTION_SUBSCRIPTION_PRODUCTS_FETCHED:
                    return (0, o.default)({}, e, t.subscriptions);
                case s.ACTION_CHANNEL_SUBSCRIPTIONS_FETCHED:
                    return (0, o.default)({}, e, {
                        didFetch: !0
                    }, t.subscriptions);
                case l.ACTION_SET_STATE:
                    return u;
                default:
                    return e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.subscriptions = i;
        var a = n(117),
            o = r(a),
            s = n(773),
            l = n(334),
            u = {
                isSubscribed: !1,
                isSubscribable: !1,
                didFetch: !1
            }
    }, function(e, t, n) {
        "use strict";

        function r(e, t) {
            return function(n, r) {
                return (0, a.getSubscriptionInfo)(e, t).then(function() {
                    if (t === r().streamMetadata.channel.id) return n(l({
                        isSubscribed: !0
                    }))
                }).catch(function() {
                    if (t === r().streamMetadata.channel.id) return n(l({
                        isSubscribed: !1
                    }))
                })
            }
        }

        function i(e) {
            return function(t, n) {
                return (0, a.getSubscriptionProducts)(e).then(function() {
                    if (e === n().streamMetadata.channel.name) return t(u({
                        isSubscribable: !0
                    }))
                }).catch(function() {
                    if (e === n().streamMetadata.channel.name) return t(u({
                        isSubscribable: !1
                    }))
                })
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.ACTION_SUBSCRIPTION_PRODUCTS_FETCHED = t.ACTION_CHANNEL_SUBSCRIPTIONS_FETCHED = void 0, t.fetchChannelSubscriptions = r, t.fetchSubscriptionProducts = i;
        var a = n(200),
            o = t.ACTION_CHANNEL_SUBSCRIPTIONS_FETCHED = "action channel subscriptions fetched",
            s = t.ACTION_SUBSCRIPTION_PRODUCTS_FETCHED = "action subscription products fetched",
            l = function(e) {
                return {
                    type: o,
                    subscriptions: e
                }
            },
            u = function(e) {
                return {
                    type: s,
                    subscriptions: e
                }
            }
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : u,
                t = arguments[1];
            switch (t.type) {
                case a.ACTION_SET_MUTED_SEGMENTS:
                    return (0, l.default)({}, e, {
                        mutedSegments: t.mutedSegments
                    });
                case a.ACTION_SET_PREVIEWS:
                    return (0, l.default)({}, e, {
                        previews: t.previews
                    });
                case a.ACTION_SET_MARKERS:
                    return (0, l.default)({}, e, {
                        markers: t.markers
                    });
                case o.ACTION_SET_STREAM:
                    return u;
                default:
                    return e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.timelineMetadata = i;
        var a = n(605),
            o = n(334),
            s = n(117),
            l = r(s),
            u = {
                mutedSegments: [],
                previews: {
                    count: 0,
                    lq: {
                        width: 0,
                        height: 0,
                        rows: 0,
                        cols: 0,
                        URLs: [""]
                    },
                    hq: {
                        width: 0,
                        height: 0,
                        rows: 0,
                        cols: 0,
                        URLs: [""]
                    }
                },
                markers: []
            }
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                t = arguments[1];
            switch (t.type) {
                case u.ACTION_SET_TRACKING_PROPERTIES:
                    return (0, o.default)({}, e, (0, l.default)(t.properties, c));
                default:
                    return e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.tracking = i;
        var a = n(117),
            o = r(a),
            s = n(70),
            l = r(s),
            u = n(776),
            c = ["host_channel", "content", "medium", "page_session_id", "tab_session_id"]
    }, function(e, t) {
        "use strict";

        function n(e) {
            return {
                type: r,
                properties: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.setTrackingProperties = n;
        var r = t.ACTION_SET_TRACKING_PROPERTIES = "set tracking properties"
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            if (e && e.__esModule) return e;
            var t = {};
            if (null != e)
                for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
            return t.default = e, t
        }

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function a() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : c,
                t = arguments[1];
            switch (t.type) {
                case u.ACTION_SET_MINIPLAYER_MODE:
                    return (0, s.default)({}, e, {
                        isMini: Boolean(t.value)
                    });
                case u.ACTION_SHOW_SETTINGS_MENU:
                    return (0, s.default)({}, e, {
                        showSettings: Boolean(t.value)
                    });
                case u.ACTION_SHOW_CLIPS_BUTTON:
                    return (0, s.default)({}, e, {
                        showClipsButton: Boolean(t.value)
                    });
                default:
                    return e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.ui = a;
        var o = n(117),
            s = i(o),
            l = n(432),
            u = r(l),
            c = {
                isMini: !1,
                showSettings: !1,
                showClipsButton: !1
            }
    }, function(e, t, n) {
        "use strict";

        function r() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                t = arguments[1];
            switch (t.type) {
                case i.ACTION_SET_USHER_PARAMS:
                    return t.params;
                default:
                    return e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.usher = r;
        var i = n(397)
    }, function(e, t, n) {
        "use strict";

        function r() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
                t = arguments[1];
            switch (t.type) {
                case i.ACTION_SET_STREAMMETADATA:
                    return t.streamMetadata.viewers || e;
                case a.ACTION_UPDATE_VIEWERCOUNT:
                    return t.count;
                default:
                    return e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.viewercount = r;
        var i = n(336),
            a = n(337)
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : l,
                t = arguments[1];
            switch (t.type) {
                case s.ACTION_SET_WATCHPARTY_VOD:
                    return (0, o.default)({}, e, t.pubsubVodInfo);
                default:
                    return e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.DEFAULT_WATCHPARTY = void 0, t.watchParty = i;
        var a = n(117),
            o = r(a),
            s = n(730),
            l = t.DEFAULT_WATCHPARTY = Object.freeze({
                watchPartyId: "",
                vodId: "",
                title: "",
                viewable: "",
                broadcastType: "",
                incrementViewCountURL: ""
            })
    }, function(e, t, n) {
        "use strict";

        function r() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : window,
                t = arguments[1];
            switch (t.type) {
                case i.ACTION_SET_WINDOW:
                    return t.window;
                default:
                    return e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.windowReducer = r;
        var i = n(368)
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            if (e && e.__esModule) return e;
            var t = {};
            if (null != e)
                for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
            return t.default = e, t
        }

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function a() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : f,
                t = arguments[1];
            switch (t.type) {
                case d.ACTION_INITIALIZE_SETTINGS:
                    return (0, s.default)({}, e, (0, u.default)(t.settings, p));
                case d.ACTION_SET_PERSISTENCE:
                    return (0, s.default)({}, e, {
                        persistenceEnabled: Boolean(t.value)
                    });
                default:
                    return e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.settings = a;
        var o = n(117),
            s = i(o),
            l = n(70),
            u = i(l),
            c = n(633),
            d = r(c),
            f = {
                persistenceEnabled: !0
            },
            p = Object.keys(f)
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            if (e && e.__esModule) return e;
            var t = {};
            if (null != e)
                for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
            return t.default = e, t
        }

        function i() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : l;
            return function(t) {
                return function(t) {
                    var n = e;
                    return function(e) {
                        switch (e.type) {
                            case o.ACTION_LOAD_VIDEO_API:
                                n = e.video;
                                break;
                            case o.ACTION_VIDEO_API_PLAY:
                                n.play();
                                break;
                            case o.ACTION_VIDEO_API_PAUSE:
                                n.pause();
                                break;
                            case o.ACTION_VIDEO_API_MUTE_PLAYER:
                                n.setMuted(e.muted, e.automated);
                                break;
                            case o.ACTION_VIDEO_API_CHANGE_VOLUME:
                                n.setVolume(e.volume);
                                break;
                            case o.ACTION_VIDEO_API_REPORT_VIDEO_ISSUE:
                                n.submitVideoIssueReport(e.issueType);
                                break;
                            case o.ACTION_VIDEO_API_CHANGE_BACKEND:
                                n.setBackend(e.backendType);
                                break;
                            case o.ACTION_VIDEO_API_CHANGE_PLAYBACK_RATE:
                                n.setPlaybackRate(e.playbackRate)
                        }
                        t(e)
                    }
                }
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.createVideoApiMiddleware = i;
        var a = n(363),
            o = r(a),
            s = n(784),
            l = new s.NullVideoAPI
    }, function(e, t) {
        "use strict";

        function n(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var r = function() {
            function e(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                }
            }
            return function(t, n, r) {
                return n && e(t.prototype, n), r && e(t, r), t
            }
        }();
        t.NullVideoAPI = function() {
            function e() {
                n(this, e)
            }
            return r(e, [{
                key: "_error",
                value: function(e) {
                    console.error("Cannot invoke method " + e + " on NullVideoAPI")
                }
            }, {
                key: "play",
                value: function() {
                    this._error("play")
                }
            }, {
                key: "pause",
                value: function() {
                    this._error("pause")
                }
            }, {
                key: "setMuted",
                value: function() {
                    this._error("setMuted")
                }
            }, {
                key: "setVolume",
                value: function() {
                    this._error("setVolume")
                }
            }, {
                key: "setBackend",
                value: function() {
                    this._error("setBackend")
                }
            }, {
                key: "submitVideoIssueReport",
                value: function() {
                    this._error("submitVideoIssueReport")
                }
            }, {
                key: "setPlaybackRate",
                value: function() {
                    this._error("setPlaybackRate")
                }
            }]), e
        }()
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            if (e && e.__esModule) return e;
            var t = {};
            if (null != e)
                for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
            return t.default = e, t
        }

        function i() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : _;
            return function(t) {
                return function(n) {
                    var r = e;
                    return function(e) {
                        var i = t.getState(),
                            a = i.screenMode;
                        switch (e.type) {
                            case o.ACTION_USE_EVENT_EMITTER:
                                r = e.emitter;
                                break;
                            case o.ACTION_EMIT_OPEN_STREAM:
                                r.emit(l.OPEN_STREAM);
                                break;
                            case o.ACTION_TRANSITION_TO_COLLECTION:
                                r.emit(l.TRANSITION_TO_COLLECTION_VOD, {
                                    vodId: e.vodId,
                                    collectionId: e.collectionId
                                });
                                break;
                            case o.ACTION_EMIT_FULLSCREEN_CHANGE:
                                r.emit(c.FULLSCREEN_CHANGE);
                                break;
                            case o.ACTION_TRANSITION_TO_REC_VOD:
                                r.emit(l.TRANSITION_TO_RECOMMENDED_VOD, {
                                    vodId: e.vodId
                                });
                                break;
                            case d.ACTION_SET_PERSISTENCE:
                                r.emit(l.PERSISTENT_PLAYER_TOGGLE);
                                break;
                            case f.ACTION_SET_THEATRE_MODE:
                                if (a.isTheatreMode === e.isTheatreMode) break;
                                r.emit(l.THEATRE_CHANGE, !a.isFullScreen && e.isTheatreMode);
                                break;
                            case f.ACTION_TOGGLE_THEATRE_MODE:
                                r.emit(l.THEATRE_CHANGE, !a.isFullScreen && !a.isTheatreMode);
                                break;
                            case p.ACTION_PROMPT_LOGIN_MODAL:
                                r.emit(l.PROMPT_LOGIN_MODAL, {
                                    channelDisplayName: e.channelName
                                })
                        }
                        n(e)
                    }
                }
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.createEventEmitterMiddleware = i;
        var a = n(185),
            o = r(a),
            s = n(178),
            l = r(s),
            u = n(786),
            c = n(180),
            d = n(633),
            f = n(182),
            p = n(644),
            _ = new u.NullEventEmitter
    }, function(e, t) {
        "use strict";

        function n(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var r = function() {
            function e(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                }
            }
            return function(t, n, r) {
                return n && e(t.prototype, n), r && e(t, r), t
            }
        }();
        t.NullEventEmitter = function() {
            function e() {
                n(this, e)
            }
            return r(e, [{
                key: "emit",
                value: function(e) {
                    console.error("Attempted to emit " + e + " on NullEventEmitter")
                }
            }]), e
        }()
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            if (e && e.__esModule) return e;
            var t = {};
            if (null != e)
                for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
            return t.default = e, t
        }

        function i() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : l;
            return function(t) {
                return function(t) {
                    var n = e;
                    return function(e) {
                        switch (e.type) {
                            case o.ACTION_SET_ANALYTICS_TRACKER:
                                n = e.tracker;
                                break;
                            case o.ACTION_TRACK_EVENT:
                                n.trackEvent(e.eventName, e.eventProperties)
                        }
                        t(e)
                    }
                }
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.createAnalyticsTrackerMiddleware = i;
        var a = n(374),
            o = r(a),
            s = n(788),
            l = new s.NullAnalyticsTracker
    }, function(e, t) {
        "use strict";

        function n(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var r = function() {
            function e(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                }
            }
            return function(t, n, r) {
                return n && e(t.prototype, n), r && e(t, r), t
            }
        }();
        t.NullAnalyticsTracker = function() {
            function e() {
                n(this, e)
            }
            return r(e, [{
                key: "trackEvent",
                value: function(e) {
                    console.error("Attempted to track " + e + " on NullAnalyticsTracker")
                }
            }]), e
        }()
    }, function(e, t, n) {
        "use strict";

        function r(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function i(e) {
            if (/\/\/(www|player)\.twitch\.tv/.test(e)) return d;
            if (/\/\/betaplayer\.twitch\.tv/.test(e)) return p;
            var t = u.cookie.get(_);
            return t ? t : f
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.ClipGenerator = t.CLIPS_FIXED_OFFSET = t.CLIPS_URL_COOKIE_KEY = t.ALPHA_CLIPS_URL = t.STAGING_CLIPS_URL = t.PRODUCTION_CLIPS_URL = void 0;
        var a = function() {
            function e(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                }
            }
            return function(t, n, r) {
                return n && e(t.prototype, n), r && e(t, r), t
            }
        }();
        t.getClipsUrl = i;
        var o = n(167),
            s = n(220),
            l = n(339),
            u = n(249),
            c = n(251),
            d = t.PRODUCTION_CLIPS_URL = "https://clips.twitch.tv",
            f = t.STAGING_CLIPS_URL = "https://clips-staging.twitch.tv",
            p = t.ALPHA_CLIPS_URL = "https://clips-alpha.twitch.tv",
            _ = t.CLIPS_URL_COOKIE_KEY = "clips-staging",
            h = t.CLIPS_FIXED_OFFSET = 8;
        t.ClipGenerator = function() {
            function e(t, n) {
                r(this, e), this._state = t, this._store = n;
                var a = this._store.getState().window.location.origin;
                this._clipsUrl = i(a)
            }
            return a(e, [{
                key: "hookUpForm",
                value: function(e) {
                    var t = this;
                    this._$createClipPlayerBackendType = $(".js-create-clip-player-backend-type", e), this._$createClipChannel = $(".js-create-clip-channel", e), this._$createClipSegment = $(".js-create-clip-segment", e), this._$createClipOffset = $(".js-create-clip-offset", e), this._$createClipBroadcastId = $(".js-create-clip-broadcast_id", e), this._$createClipVodId = $(".js-create-clip-vod_id", e), this._$createClipPlaySessionId = $(".js-create-clip-play_session_id", e), this._$createClipShowViewPage = $(".js-create-clip-show-view-page", e), this._$createClipForm = $(".js-create-clip-form", e), this._$createClipForm.attr("action", this._clipsUrl + "/clips");
                    var n = this._store.getState(),
                        r = n.experiments;
                    r.get(c.CLIPS_LOYALTY).then(function(e) {
                        t._$createClipShowViewPage.val("variant1" === e)
                    })
                }
            }, {
                key: "recordClip",
                value: function() {
                    var e = this._store.getState(),
                        t = e.stream,
                        n = e.streamMetadata,
                        r = t.contentType,
                        i = n.channel.name;
                    r === s.CONTENT_MODE_VOD ? this._recordVodClip(i) : r === o.CONTENT_MODE_LIVE && this._recordLiveClip(i)
                }
            }, {
                key: "_recordVodClip",
                value: function(e) {
                    var t = this._store.getState(),
                        n = t.stream,
                        r = t.analytics,
                        i = t.backend,
                        a = n.videoId,
                        o = r.playSessionId;
                    this._submitFormWithValues({
                        playerBackendType: i.getBackend(),
                        channelName: e,
                        offset: Math.round(this._state.currentTime),
                        broadcastId: "",
                        vodId: a.slice(1),
                        playSessionId: o
                    })
                }
            }, {
                key: "_recordLiveClip",
                value: function(e) {
                    var t = this._store.getState(),
                        n = t.backendInfo,
                        r = t.manifestInfo,
                        i = t.streamMetadata,
                        a = t.analytics,
                        o = t.backend,
                        s = n.playerBackendType,
                        u = i.broadcastID,
                        c = a.playSessionId,
                        d = void 0;
                    if (s === l.BACKEND_PLAYER_CORE) d = o.elapsedTime();
                    else {
                        var f = r.stream_time;
                        d = f + this._state.currentTime - h
                    }
                    this._submitFormWithValues({
                        playerBackendType: s,
                        channelName: e,
                        offset: Math.round(Math.max(d, 0)),
                        broadcastId: u,
                        vodId: "",
                        playSessionId: c
                    })
                }
            }, {
                key: "_submitFormWithValues",
                value: function(e) {
                    var t = e.playerBackendType,
                        n = e.channelName,
                        r = e.offset,
                        i = e.broadcastId,
                        a = e.vodId,
                        o = e.playSessionId,
                        s = "twitch_clips_" + Date.now().toString();
                    this._$createClipPlayerBackendType.val(t), this._$createClipChannel.val(n), this._$createClipOffset.val(r), this._$createClipBroadcastId.val(i), this._$createClipVodId.val(a), this._$createClipPlaySessionId.val(o), this._$createClipForm.attr("target", s), this._store.getState().window.open("", s), this._$createClipForm.submit()
                }
            }]), e
        }()
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.CollectionManager = void 0;
        var a = function() {
                function e(e, t) {
                    var n = [],
                        r = !0,
                        i = !1,
                        a = void 0;
                    try {
                        for (var o, s = e[Symbol.iterator](); !(r = (o = s.next()).done) && (n.push(o.value), !t || n.length !== t); r = !0);
                    } catch (e) {
                        i = !0, a = e
                    } finally {
                        try {
                            !r && s.return && s.return()
                        } finally {
                            if (i) throw a
                        }
                    }
                    return n
                }
                return function(t, n) {
                    if (Array.isArray(t)) return t;
                    if (Symbol.iterator in Object(t)) return e(t, n);
                    throw new TypeError("Invalid attempt to destructure non-iterable instance")
                }
            }(),
            o = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            s = n(117),
            l = r(s),
            u = n(200),
            c = n(764),
            d = n(220),
            f = n(183),
            p = n(162),
            _ = r(p),
            h = n(333),
            m = n(332),
            v = n(396),
            y = n(334);
        t.CollectionManager = function() {
            function e(t) {
                i(this, e), this._store = t, this.unsubs = [], this.unsubs.push((0, f.subscribe)(this._store, ["playerOptions.channel", "playerOptions.collection", "playerOptions.video"], this.onOptionsChange.bind(this))), this.unsubs.push((0, f.subscribe)(this._store, ["collection.pendingRequest"], this.onPendingRequestChange.bind(this))), this.unsubs.push((0, f.subscribe)(this._store, ["collection.id", "stream"], this.onStreamChange.bind(this))), this.unsubs.push((0, f.subscribe)(this._store, ["playback.ended"], this._streamEnded.bind(this)))
            }
            return o(e, [{
                key: "_fetchCollectionInfo",
                value: function(e) {
                    return (0, u.collectionInfo)(e).then(function(e) {
                        var t = a(e, 2),
                            n = t[0],
                            r = t[1],
                            i = (0, l.default)({}, n, {
                                items: r.items
                            });
                        return i
                    })
                }
            }, {
                key: "_collectionHasVideo",
                value: function(e, t) {
                    return e.some(function(e) {
                        return t === "v" + e.item_id
                    })
                }
            }, {
                key: "onOptionsChange",
                value: function() {
                    var e = this,
                        t = this._store.getState(),
                        n = t.playerOptions;
                    n.collection && !n.channel && this._fetchCollectionInfo(n.collection).then(function(t) {
                        if (0 === t.items.length) return e._store.dispatch((0, h.setCollection)(t)), void e._store.dispatch((0, v.pushScreen)(v.COLLECTION_EMPTY_SCREEN));
                        if (n.video) e._collectionHasVideo(t.items, n.video) && e._store.dispatch((0, h.setCollection)(t));
                        else {
                            var r = "v" + t.items[0].item_id;
                            e._store.dispatch((0, y.setStream)(y.TYPE_VIDEO, r)), e._store.dispatch((0, h.setCollection)(t))
                        }
                    })
                }
            }, {
                key: "onPendingRequestChange",
                value: function() {
                    var e = this,
                        t = this._store.getState().collection.pendingRequest,
                        n = t.collectionId,
                        r = t.videoId;
                    n && this._fetchCollectionInfo(n).then(function(t) {
                        if (0 === t.items.length) return e._store.dispatch((0, h.setCollection)(t)), void e._store.dispatch((0, v.pushScreen)(v.COLLECTION_EMPTY_SCREEN));
                        if (r && e._collectionHasVideo(t.items, r)) e._store.dispatch((0, y.setStream)(y.TYPE_VIDEO, r));
                        else {
                            var i = "v" + t.items[0].item_id;
                            e._store.dispatch((0, m.selectCollectionVideo)(i, n))
                        }
                        e._store.dispatch((0, h.setCollection)(t))
                    })
                }
            }, {
                key: "onStreamChange",
                value: function() {
                    var e = this._store.getState(),
                        t = e.stream,
                        n = e.collection;
                    if (n.id && 0 !== n.items.length) {
                        var r = n.items[n.items.length - 1];
                        t.contentType === d.CONTENT_MODE_VOD && t.videoId === "v" + r.itemId ? this._store.dispatch((0, h.loadedLastCollectionItem)()) : this._store.dispatch((0, h.loadedCollectionItem)())
                    }
                }
            }, {
                key: "_streamEnded",
                value: function() {
                    var e = this._store.getState(),
                        t = e.playback,
                        n = e.stream,
                        r = e.ui;
                    !r.isMini && t.ended && t.transitionScheme === c.TRANSITION_TYPE_COLLECTION && n.contentType === d.CONTENT_MODE_VOD && this._playNextVideo()
                }
            }, {
                key: "_playNextVideo",
                value: function() {
                    var e = this,
                        t = this._store.getState(),
                        n = t.stream,
                        r = t.collection,
                        i = t.window;
                    if (0 !== r.items.length) {
                        var a = n.videoId,
                            o = (0, _.default)(r.items, function(e) {
                                return "v" + e.itemId === a
                            });
                        if (o + 1 !== r.items.length) {
                            var s = r.items[o + 1];
                            i.setTimeout(function() {
                                e._store.dispatch((0, m.selectCollectionVideo)("v" + s.itemId, r.id))
                            }, 0)
                        }
                    }
                }
            }, {
                key: "destroy",
                value: function() {
                    this.unsubs.forEach(function(e) {
                        return e()
                    })
                }
            }]), e
        }()
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.PlayerResizeManager = void 0;
        var a = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            o = n(792),
            s = r(o),
            l = n(759),
            u = n(793),
            c = r(u);
        t.PlayerResizeManager = function() {
            function e(t) {
                i(this, e), this._store = t, this.resizeObserver = this._createResizeObserver()
            }
            return a(e, [{
                key: "_createResizeObserver",
                value: function() {
                    var e = this;
                    return new s.default(function(t) {
                        var n = t[0],
                            r = n.contentRect,
                            i = r.left,
                            a = r.top,
                            o = r.width,
                            s = r.height;
                        e._store.dispatch((0, l.updatePlayerDimensions)({
                            left: i,
                            top: a,
                            width: o,
                            height: s
                        }))
                    })
                }
            }, {
                key: "observe",
                value: function(e) {
                    this.observeElement = e, this._store.dispatch((0, l.updatePlayerDimensions)({
                        left: this.observeElement.getBoundingClientRect().left,
                        top: this.observeElement.getBoundingClientRect().top,
                        width: this.observeElement.getBoundingClientRect().width,
                        height: this.observeElement.getBoundingClientRect().height
                    })), this.resizeObserver.observe(this.observeElement)
                }
            }, {
                key: "destroy",
                value: function() {
                    (0, c.default)(this.observeElement) && (this.resizeObserver.unobserve(this.observeElement), this.resizeObserver.disconnect())
                }
            }]), e
        }()
    }, , function(e, t, n) {
        function r(e) {
            return i(e) && 1 === e.nodeType && !a(e)
        }
        var i = n(40),
            a = n(212);
        e.exports = r
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function a(e) {
            return "string" != typeof e ? "" : e.trim().toLowerCase()
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.FollowManager = void 0;
        var o = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            s = n(183),
            l = n(644),
            u = n(366),
            c = n(403),
            d = n(648),
            f = n(53),
            p = r(f),
            _ = ["amazon_livestream"];
        t.FollowManager = function() {
            function e(t) {
                i(this, e), this.store = t, this.unsubs = [], this._initSubscribes()
            }
            return o(e, [{
                key: "_initSubscribes",
                value: function() {
                    this.unsubs.push((0, s.subscribe)(this.store, ["onlineStatus"], this.onOnlineStatusChange.bind(this))), this.unsubs.push((0, s.subscribe)(this.store, ["playback.ended", "playback.hasPlayed"], this.onPlaybackStateChange.bind(this)))
                }
            }, {
                key: "onOnlineStatusChange",
                value: function(e) {
                    var t = e.onlineStatus;
                    if (t === c.OFFLINE_STATUS) {
                        var n = this.store.getState(),
                            r = n.playback;
                        r.hasPlayed || this._fetchFollowInfo()
                    }
                }
            }, {
                key: "onPlaybackStateChange",
                value: function(e) {
                    var t = e.playback;
                    if (t.ended) {
                        var n = this.store.getState(),
                            r = n.onlineStatus;
                        r === c.OFFLINE_STATUS && t.hasPlayed && this._fetchFollowInfo()
                    }
                }
            }, {
                key: "_getIDs",
                value: function() {
                    var e = this.store.getState(),
                        t = e.streamMetadata,
                        n = e.user;
                    return {
                        userId: n.id,
                        channelId: t.channel.id,
                        loggedIn: n.loggedInStatus === d.LOGGED_IN
                    }
                }
            }, {
                key: "_checkChannelBlackList",
                value: function() {
                    var e = this.store.getState(),
                        t = e.streamMetadata;
                    return !!t.channelName && (0, p.default)(_, a(t.channelName))
                }
            }, {
                key: "_fetchFollowInfo",
                value: function() {
                    var e = this.store.getState(),
                        t = e.env,
                        n = this._getIDs(),
                        r = n.userId,
                        i = n.channelId,
                        a = n.loggedIn,
                        o = r === i,
                        s = this._checkChannelBlackList(),
                        c = t.platform === u.PLATFORM_MOBILE_WEB;
                    if (!o && i && !s && !c) return !a && i ? void this.store.dispatch((0, l.followInfoFetched)({
                        following: !1,
                        notificationsEnabled: !1
                    })) : void this.store.dispatch((0, l.fetchFollowInfo)(r, i))
                }
            }, {
                key: "destroy",
                value: function() {
                    this.unsubs.forEach(function(e) {
                        return e()
                    })
                }
            }]), e
        }()
    }, function(e, t, n) {
        "use strict";

        function r(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.TwitchEverywhereManager = void 0;
        var i = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            a = n(183),
            o = n(773),
            s = n(644),
            l = n(648);
        t.TwitchEverywhereManager = function() {
            function e(t) {
                r(this, e), this.store = t, this.unsubs = [], this.unsubs.push((0, a.subscribe)(this.store, ["streamMetadata.channel"], this.onChannelChange.bind(this)))
            }
            return i(e, [{
                key: "onChannelChange",
                value: function() {
                    var e = this.store.getState(),
                        t = e.user,
                        n = e.streamMetadata,
                        r = n.channel.name;
                    if (this.store.dispatch((0, o.fetchSubscriptionProducts)(r)), t.loggedInStatus === l.LOGGED_IN) {
                        var i = t.id,
                            a = n.channel.id;
                        this.store.dispatch((0, s.fetchFollowInfo)(i, a)), this.store.dispatch((0, o.fetchChannelSubscriptions)(i, a))
                    }
                }
            }, {
                key: "destroy",
                value: function() {
                    this.unsubs.forEach(function(e) {
                        return e()
                    })
                }
            }]), e
        }()
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.PostRecommendationsManager = void 0;
        var a = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            o = n(423),
            s = n(396),
            l = n(217),
            u = n(220),
            c = n(764),
            d = n(183),
            f = n(53),
            p = r(f),
            _ = 3e5,
            h = [l.PLAYER_DASHBOARD, l.PLAYER_FRONTPAGE, l.PLAYER_CREATIVE, l.PLAYER_HIGHLIGHTER];
        t.PostRecommendationsManager = function() {
            function e(t) {
                i(this, e), this._store = t, this._unsubs = [], this._unsubs.push((0, d.subscribe)(this._store, ["screen"], this.onScreenChange.bind(this))), this._unsubs.push((0, d.subscribe)(this._store, ["playback.ended"], this.onEnded.bind(this))), this._unsubs.push((0, d.subscribe)(this._store, ["playback.currentTime"], this.onCurrentTime.bind(this)))
            }
            return a(e, [{
                key: "onCurrentTime",
                value: function() {
                    var e = this._store.getState(),
                        t = e.playback,
                        n = e.stream,
                        r = e.recommendations;
                    t.transitionScheme === c.TRANSITION_TYPE_RECOMMENDATIONS && n.contentType === u.CONTENT_MODE_VOD && 1e3 * (t.duration - t.currentTime) < o.FETCH_VODS_THRESHOLD && r.status === o.UNFETCHED && this._store.dispatch((0, o.fetchRecommendedVODs)(o.POST_VOD_RECOMMENDATIONS_TYPE))
                }
            }, {
                key: "onEnded",
                value: function() {
                    var e = this._store.getState(),
                        t = e.stream,
                        n = e.playback;
                    n.ended && this._shouldShowRecs() && t.contentType === u.CONTENT_MODE_VOD && this._showRecommendationScreen()
                }
            }, {
                key: "onScreenChange",
                value: function(e) {
                    var t = e.screen;
                    t[0] !== s.VOD_RECOMMENDATION_SCREEN && this._stopRecommendationTimeout()
                }
            }, {
                key: "_showRecommendationScreen",
                value: function() {
                    this._startRecommendationTimeout(), this._store.dispatch((0, s.pushScreen)(s.VOD_RECOMMENDATION_SCREEN))
                }
            }, {
                key: "_shouldShowRecs",
                value: function() {
                    var e = this._store.getState(),
                        t = e.env,
                        n = e.recommendations,
                        r = e.ui,
                        i = e.playback;
                    return !(r.isMini || (0, p.default)(h, t.playerType) || n.status === o.UNFETCHED || n.status === o.FETCHED && 0 === n.videos.length || i.transitionScheme !== c.TRANSITION_TYPE_RECOMMENDATIONS)
                }
            }, {
                key: "_startRecommendationTimeout",
                value: function() {
                    var e = this,
                        t = this._store.getState(),
                        n = t.window;
                    n.clearTimeout(this.recommendationsTimeoutID), this.recommendationsTimeoutID = n.setTimeout(function() {
                        e._store.dispatch((0, s.popScreen)())
                    }, _)
                }
            }, {
                key: "_stopRecommendationTimeout",
                value: function() {
                    var e = this._store.getState(),
                        t = e.window;
                    t.clearTimeout(this.recommendationsTimeoutID)
                }
            }, {
                key: "destroy",
                value: function() {
                    this._stopRecommendationTimeout(), this._unsubs.forEach(function(e) {
                        return e()
                    })
                }
            }]), e
        }()
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.OfflineRecommendationsManager = void 0;
        var a = function() {
                function e(e, t) {
                    var n = [],
                        r = !0,
                        i = !1,
                        a = void 0;
                    try {
                        for (var o, s = e[Symbol.iterator](); !(r = (o = s.next()).done) && (n.push(o.value), !t || n.length !== t); r = !0);
                    } catch (e) {
                        i = !0, a = e
                    } finally {
                        try {
                            !r && s.return && s.return()
                        } finally {
                            if (i) throw a
                        }
                    }
                    return n
                }
                return function(t, n) {
                    if (Array.isArray(t)) return t;
                    if (Symbol.iterator in Object(t)) return e(t, n);
                    throw new TypeError("Invalid attempt to destructure non-iterable instance")
                }
            }(),
            o = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            s = n(396),
            l = n(403),
            u = n(217),
            c = n(167),
            d = n(764),
            f = n(183),
            p = n(53),
            _ = r(p),
            h = n(423),
            m = n(333),
            v = n(200),
            y = n(251),
            g = n(429),
            E = n(243),
            b = [u.PLAYER_DASHBOARD, u.PLAYER_FRONTPAGE, u.PLAYER_CREATIVE, u.PLAYER_HIGHLIGHTER],
            T = 560,
            S = 300,
            A = [26610234, 10817445, 152325025],
            C = "Offline Recommendations: No channel videos",
            P = "Offline Recommendations: All channel videos watched",
            O = "Offline Recommendations: Stream changed while fetching",
            w = "Offline Recommendations: In control group",
            k = "Offline Experience: In control group",
            I = 5e3;
        t.OfflineRecommendationsManager = function() {
            function e(t) {
                i(this, e), this._store = t, this._unsubs = [], this._unsubs.push((0, f.subscribe)(this._store, ["onlineStatus", "streamMetadata"], this.tryFetchOfflineRecs.bind(this))), this._unsubs.push((0, f.subscribe)(this._store, ["ads", "recommendations", "playback.ended"], this.tryShowOfflineRecs.bind(this))), this._unsubs.push((0, f.subscribe)(this._store, ["playerDimensions"], this.onDimensionsChange.bind(this)))
            }
            return o(e, [{
                key: "tryFetchOfflineRecs",
                value: function() {
                    var e = this;
                    if (!this._shouldFetchOfflineRecs()) return Promise.resolve();
                    var t = this._store.getState(),
                        n = t.stream,
                        r = t.window,
                        i = t.playback,
                        o = i.hasPlayed ? Math.floor(Math.random() * I) + 1 : 0,
                        s = function(e) {
                            return new Promise(function(t) {
                                return r.setTimeout(t, e)
                            })
                        };
                    return s(o).then(function() {
                        return Promise.all([e._getChannelVideos(), e._getFeaturedCollection()])
                    }).then(function(e) {
                        return 0 !== e[0].length ? e : Promise.reject(C)
                    }).then(function(t) {
                        return e._checkExperimentGroup(t)
                    }).then(function(t) {
                        var r = a(t, 2),
                            i = r[0],
                            o = r[1],
                            s = e._store.getState(),
                            l = s.stream;
                        return l !== n ? Promise.reject(O) : (i.length > 0 && e._store.dispatch((0, h.setRecommendedVODs)(i, h.OFFLINE_RECOMMENDATIONS_TYPE)), void(o.length > 0 && e._store.dispatch((0, m.featuredCollectionFetched)(o[0]))))
                    }).catch(function(e) {
                        return console.warn(e)
                    })
                }
            }, {
                key: "tryShowOfflineRecs",
                value: function() {
                    this._shouldShowOfflineRecs() && this._store.dispatch((0, s.pushScreen)(s.VOD_RECOMMENDATION_SCREEN))
                }
            }, {
                key: "onDimensionsChange",
                value: function() {
                    var e = this._store.getState(),
                        t = e.screen,
                        n = e.playerDimensions,
                        r = n.height,
                        i = n.width,
                        a = t[0] === s.VOD_RECOMMENDATION_SCREEN,
                        o = r < S || i < T;
                    return o && a ? void this._store.dispatch((0, s.popScreen)()) : void(this._shouldShowOfflineRecs() && this._store.dispatch((0, s.pushScreen)(s.VOD_RECOMMENDATION_SCREEN)))
                }
            }, {
                key: "_shouldShowOfflineRecs",
                value: function() {
                    var e = this._store.getState(),
                        t = e.screen,
                        n = e.recommendations,
                        r = e.playerDimensions,
                        i = e.stream,
                        a = e.playback,
                        o = e.onlineStatus,
                        u = e.ads,
                        d = r.height,
                        f = r.width,
                        p = d >= S && f >= T,
                        m = !(0, _.default)(t, s.VOD_RECOMMENDATION_SCREEN),
                        v = u.currentMetadata.contentType === E.AdContentTypes.NONE,
                        y = n.type === h.OFFLINE_RECOMMENDATIONS_TYPE,
                        g = i.contentType === c.CONTENT_MODE_LIVE && o === l.OFFLINE_STATUS,
                        b = !a.hasPlayed,
                        A = a.ended;
                    return p && m && v && y && g && (b || A)
                }
            }, {
                key: "_shouldFetchOfflineRecs",
                value: function() {
                    var e = this._store.getState(),
                        t = e.onlineStatus,
                        n = e.playback,
                        r = e.stream,
                        i = e.streamMetadata,
                        a = e.env,
                        o = r.contentType === c.CONTENT_MODE_LIVE,
                        s = 0 !== i.channel.id,
                        u = !(0, _.default)(A, i.channel.id),
                        f = t === l.OFFLINE_STATUS,
                        p = n.transitionScheme === d.TRANSITION_TYPE_RECOMMENDATIONS,
                        h = !(0, _.default)(b, a.playerType);
                    return o && s && u && f && p && h
                }
            }, {
                key: "_getFeaturedCollection",
                value: function() {
                    var e = this._store.getState(),
                        t = e.streamMetadata;
                    return (0, v.getFeaturedCollection)(t.channel.id).then(function(e) {
                        var t = e.collections;
                        return t
                    }).catch(function(e) {
                        return console.warn(e), []
                    })
                }
            }, {
                key: "_getChannelVideos",
                value: function() {
                    var e = this;
                    return this._fetchChannelVideos().then(function(t) {
                        return e._filterOutWatchedVideos(t)
                    }).then(function(t) {
                        return e._normalizeChannelVideos(t)
                    }).catch(function(e) {
                        return console.warn(e), []
                    })
                }
            }, {
                key: "_fetchChannelVideos",
                value: function() {
                    var e = this._store.getState(),
                        t = e.streamMetadata;
                    return (0, v.krakenRequestv5)("channels/" + t.channel.id + "/videos?limit=30").then(function(e) {
                        var t = e.videos;
                        return t.length > 0 ? t : Promise.reject(C)
                    })
                }
            }, {
                key: "_filterOutWatchedVideos",
                value: function(e) {
                    var t = this._store.getState(),
                        n = t.user;
                    return (0, g.getResumeTimes)(n.id).catch(function() {
                        return {
                            videos: []
                        }
                    }).then(function(t) {
                        var n = e.filter(function(e) {
                            return !(0, h.isWatched)(t, e)
                        });
                        return n.length > 0 ? n : Promise.reject(P)
                    })
                }
            }, {
                key: "_normalizeChannelVideos",
                value: function(e) {
                    return e.map(function(e) {
                        var t = "";
                        return e.thumbnails.medium.length > 0 && (t = e.thumbnails.medium[0].url), {
                            recommendationType: h.CHANNEL_VODS,
                            creationDate: e.created_at,
                            thumbnailURL: t,
                            title: e.title,
                            channelName: e.channel.display_name,
                            duration: e.length,
                            id: e._id,
                            game: e.game
                        }
                    })
                }
            }, {
                key: "_checkExperimentGroup",
                value: function(e) {
                    var t = this._store.getState(),
                        n = t.experiments;
                    return n.get(y.OFFLINE_EXPERIENCE).then(function(e) {
                        return "show" === e ? n.get(y.OFFLINE_RECOMMENDATIONS) : Promise.reject(k)
                    }).then(function(t) {
                        return "yes" === t ? e : Promise.reject(w)
                    })
                }
            }, {
                key: "destroy",
                value: function() {
                    this._unsubs.forEach(function(e) {
                        return e()
                    })
                }
            }]), e
        }()
    }, function(e, t, n) {
        "use strict";

        function r(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.UserManager = void 0;
        var i = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            a = n(649),
            o = n(200),
            s = "staff";
        t.UserManager = function() {
            function e(t) {
                r(this, e), this._store = t, this.updateUserInfo()
            }
            return i(e, [{
                key: "updateUserInfo",
                value: function() {
                    var e = this;
                    (0, o.oauthToken)().then(o.krakenUserInfo).then(this._normalizeUserInfo).then(function(t) {
                        return e._store.dispatch((0, a.userLoggedIn)(t))
                    }).catch(function() {
                        return e._store.dispatch((0, a.userNotLoggedIn)())
                    })
                }
            }, {
                key: "_normalizeUserInfo",
                value: function(e) {
                    return {
                        id: e._id,
                        name: e.name,
                        isStaff: e.type === s
                    }
                }
            }, {
                key: "destroy",
                value: function() {}
            }]), e
        }()
    }, function(e, t, n) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function a(e, t) {
            if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !t || "object" != typeof t && "function" != typeof t ? e : t
        }

        function o(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.ExtensionsApi = void 0;
        var s = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t
                }
            }(),
            l = n(164),
            u = r(l),
            c = n(183),
            d = n(402),
            f = "contextchange",
            p = null;
        t.ExtensionsApi = function(e) {
            function t(e) {
                i(this, t);
                var n = a(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this));
                return p = e, n.unsubscribeFromState = n._subscribeToState(), n
            }
            return o(t, e), s(t, [{
                key: "destroy",
                value: function() {
                    this.unsubscribeFromState()
                }
            }, {
                key: "setStatsEnabled",
                value: function(e) {
                    return p.dispatch(e ? (0, d.requestStatsEnabled)(this) : (0, d.requestStatsDisabled)(this))
                }
            }, {
                key: "_subscribeToState",
                value: function() {
                    var e = this,
                        t = ["playback.paused", "screenMode.isFullScreen", "screenMode.isTheatreMode", "stats.videoStats"];
                    return (0, c.subscribe)(p, t, function() {
                        return e.emit(f)
                    })
                }
            }, {
                key: "fullscreen",
                get: function() {
                    return p.getState().screenMode.isFullScreen
                }
            }, {
                key: "paused",
                get: function() {
                    return p.getState().playback.paused
                }
            }, {
                key: "stats",
                get: function() {
                    return p.getState().stats.videoStats
                }
            }, {
                key: "theatre",
                get: function() {
                    return p.getState().screenMode.isTheatreMode
                }
            }]), t
        }(u.default)
    }, function(e, t) {}])
});